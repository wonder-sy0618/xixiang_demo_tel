var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");d!=Array.prototype&&d!=Object.prototype&&(d[a]=b.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var a=0;return $jscomp.iteratorPrototype(function(){return a<d.length?{done:!1,value:d[a++]}:{done:!0}})};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};var application=null,g_consoleFlag=0;function applicationLoad(d,a,b){null==application&&(8==arguments.length&&(d=arguments[5],a=arguments[6]),"undefined"==typeof d&&(d=""),"undefined"==typeof b&&(b=""),application=new JApplication(d,b),application.OnLoad=a,setTimeout(createAppBar,1E3))}function applicationUnLoad(){null!=application&&(null!=application.oJVccBar&&application.oJVccBar.UnInitial(),null!=application.oJMonitor&&(delete application.oJMonitor,application.oJMonitor=null),null!=application.oJBarDisplayer&&(delete application.oJBarDisplayer,application.oJBarDisplayer=null),delete application,application=null)}function createAppBar(){application.oJVccBar=new JVccBar(application);application.InitAssist();application.OnLoad&&application.OnLoad()}function JApplication(d,a){this.oBrowserSys=this.onLoad=this.oVccBarAssist=this.oWechatManager=this.oJMonitorData=this.oWebChat=this.oJBarDisplayer=this.oJMonitor=this.oJVccBar=null;this.RelationPath=d;this.oALog=new CJVccLog;this.Language=a;this.BrowserStr="";this.surpportWebsocket=!1;this._contentWindow=window;this.InitAssist=function(){this.oWechatManager=new JWechChatManager(this);this.oVccBarAssist=new JVccBarAssist(this)};this.InitMonitorDataManager=function(){this.oJMonitorData=new JcmMonitorManager(application.oJVccBar)};this.InitWebChart=function(a){if(null!=this.oWebChat)return this.oWebChat;try{this.oWebChat=new WebChat(a)}catch(c){console.error(c),this.oWebChat=null}return this.oWebChat};this.BindMonitorBarToEachOther=function(a){try{a="undefined"==typeof a?this.oJMonitor:a,null==a?alert("JHTML5MonitorCtrl do not load!"):(a.SetVccBarCtrl(this.oJVccBar),this.oJVccBar.SetMonitorCtrl(a))}catch(c){alert(c.message)}};this.GetRelationPath=function(){return this.RelationPath};this.IsSurpportWebSocket=function(){return this.surpportWebsocket};this.Log=function(a){this.OnDebug(a);this.Info(a)};this.Info=function(a){this.oALog.InsertLogItem(a,this.oJVccBar.GetAgentStatus(),function(a){})};this.GetLogText=function(){return this.oALog.GetLogText()};this.SetLogMaxLen=function(a){return this.oALog.SetMaxLen(a)};this.DelLog=function(a){return this.oALog.DelLog(a)};this.SaveLog=function(a){a=getDefaultParam(a);""==a&&(a="cinvccbar_pure_"+getAcpTimeString(!1)+".txt");var b=this.GetLogText();this.DelLog(!0);b=new Blob([b],{type:"text/plain;charset\x3dutf-8"});saveFileAs(b,a)};this.DislayLog=function(a,c){g_DebugFlag=g_consoleFlag=getDefaultParamValue(c,0);0!=g_DebugFlag&&(g_DebugFlag=1);gLogType=getDefaultParamValue(a,VccBar_Log_None)};this.OnDebug=function(a){console.info(a)};this.OnLoad=function(){};this._Create=function(){this.surpportWebsocket=IsWebSocketValid();this.oBrowserSys=this._GetBrowerSys();this.BrowserStr=this._GetBrowserString(!0)};this._GetBrowerSys=function(){this.version=this.os="";var a=navigator.userAgent.toLowerCase();0<a.indexOf("msie")?(this.os="msie",this.version=a.match(/msie ([\d.]+)/)[1]):0<a.lastIndexOf("firefox")?(this.os="firefox",this.version=a.match(/firefox\/([\d.]+)/)[1]):0<a.lastIndexOf("chrome")?(this.os="chrome",this.version=a.match(/chrome\/([\d.]+)/)[1]):0<a.lastIndexOf("trident")?(this.os="msie",this.version=a.match(/rv:([\d.]+)/)[1]):0<a.lastIndexOf("safari")?(this.os="safari",this.version=a.match(/safari\/([\d.]+)/)[1]):isIE()?(this.os="msie",this.version="11.0"):(this.os=a,this.version="");this.expression=this.Language==lg_zhcn?"ua:\u3010"+a+"\u3011\r\nos:\u3010"+this.os+"\u3011 version:\u3010"+this.version+"\u3011\r\nwebsocket:\u3010"+(1==this.surpportWebsocket?"\u652f\u6301":"\u4e0d\u652f\u6301")+"\u3011":"ua:["+a+"]\r\nos:["+this.os+"] version:["+this.version+"]\r\nwebsocket:["+(1==this.surpportWebsocket?"surpport":"unsurpport")+"]";return this};this._GetBrowserString=function(a){var b=navigator.userAgent.toLowerCase(),e,d,g;0<b.indexOf("iphone")?(e="ios",d=getSubString(b,"os "," like"),0<b.indexOf("micromessenger")?(g=a?"w":"wx",b=b.match(/micromessenger\/([\d.]+)/)[1]):0<b.indexOf("safari")?(g=a?"s":"safari",b=b.match(/version\/([\d.]+)/)[1]):(g="unsurpport",b="--")):0<b.indexOf("ipad")?(e="pad",d=getSubString(b,"os "," like"),0<b.indexOf("micromessenger")?(g=a?"w":"wx",b=b.match(/micromessenger\/([\d.]+)/)[1]):0<b.indexOf("safari")?(g=a?"s":"safari",b=b.match(/version\/([\d.]+)/)[1]):(g="unsurpport",b="--")):0<b.indexOf("android")?(e="and",getSubString(b,"(",")"),d=getSubString(b,"android",";"),d="android"+d,0<b.indexOf("micromessenger")?(g=a?"w":"wx",b=b.match(/micromessenger\/([\d.]+)/)[1]):0<b.indexOf("chrome")?(g=a?"c":"chrome",b=b.match(/chrome\/([\d.]+)/)[1]):(g=a?"un":"unsurpport",b="--")):0<b.indexOf("windows")?(e="win",d=getSubString(b,"(",")"),d=getSubString(d,"",";"),0<b.indexOf("chrome")?(g=a?"c":"chrome",b=b.match(/chrome\/([\d.]+)/)[1]):0<b.lastIndexOf("firefox")?(g=a?"f":"firefox",b=b.match(/firefox\/([\d.]+)/)[1]):(g=a?"un":"unsurpport",b="--")):0<b.indexOf("macintosh")?(e="mac",d=getSubString(b,"(",")"),d=getSubString(d,"mac os x ",""),0<b.indexOf("chrome")?(g=a?"c":"chrome",b=b.match(/chrome\/([\d.]+)/)[1]):0<b.lastIndexOf("safari")?(g=a?"s":"safari",b=b.match(/version\/([\d.]+)/)[1]):(g=a?"un":"unsurpport",b="--")):(e=a?"un":"unknown",d="--",g=g=a?"un":"unsurpport",b="--");e=a?e+"-"+g+b:e+"("+d+")-"+g+"("+b+")";a?16<e.length&&(e=e.substr(0,15)):64<e.length&&(e=e.substr(0,63));return e};this._Create()}function sipLogConsole(d){if(0!=g_consoleFlag){var a;6==d.length?(a=d[0],a=a.replace(/%s/,d[3]),a=a.replace(/%s/,d[4])):a=d[0];a=a.replace(/%c/g,"");"function"===typeof OnSimulatorSip&&OnSimulatorSip(a);null!=application&&(a="[SIP]["+getTimeString()+"] "+a,application.Log(a))}}function loadJsFile(d){var a=document.getElementsByTagName("HEAD").item(0),b=document.createElement("script");b.type="text/javascript";b.src=d;a.appendChild(b)}function IsWebSocketValid(){!window.WebSocket&&window.MozWebSocket&&(window.WebSocket=window.MozWebSocket);return window.WebSocket?!0:!1}function isIE(){try{return window.ActiveXObject||"ActiveXObject"in window?!0:!1}catch(d){return!1}}function isUnderIe8(){var d=navigator.userAgent.toLowerCase();return 0<d.indexOf("msie")&&"8.0"==d.match(/msie ([\d.]+)/)[1]?!0:!1}function getLocalLanguage(){return null!=application&&""!=application.Language?application.Language:("Netscape"==navigator.appName?navigator.language:navigator.userLanguage).toLowerCase()}function SetSipResourcePath(d){g_resPath=d}function JVccBarAssist(d){this.oBarBtnControl=new JBarBtnControl;this.oBarAgentStatus=new JBarAgentStatus(d);return this}function JBarBtnControl(){this._arrCmd=[];this._arrCmdIndex=[];this._type=0;this._getCmdID=function(d){for(var a=0;a<this._arrCmdIndex.length;a++)if(this._arrCmdIndex[a]==d)return this._arrCmd[a];return""};this._ChangeObject=function(d,a){1==d?0==this._type?a.disabled=!1:a.style.display="":0==this._type?a.disabled=!0:a.style.display="none"};this.AttachBtnByUIID=function(d,a){this._arrCmd.push(d);this._arrCmdIndex.push(a)};this.UpdateUI=function(d){d=d.split("|");for(var a=0;a<this._arrCmdIndex.length;a++){for(var b=this._arrCmdIndex[a],c=!1,e=0;e<d.length;e++)if(parseInt(d[e])==b){c=!0;break}b=this._getCmdID(b);""!=b&&(b=document.getElementById(b),null!=b&&this._ChangeObject(c,b))}};this.SetUpdateType=function(d){this._type=d};return this}function JBarAgentStatus(d){this._app=d;this._busySubStatusSelectedItem="";this._agentStatus=0;this._ring=!1;this._language=getLocalLanguage();this._timerCount=0;this._timer=null;this._arrSubBusyIndex=[];this._arrSubBusyText=[];this.SetSubBusyStatus=function(a){this._arrSubBusyIndex.length=0;this._arrSubBusyText.length=0;a=a.split("$");for(var b=0;b<a.length;b++){var c=a[b].split("|");2==c.length&&(this._arrSubBusyIndex.push(parseInt(c[0])),this._arrSubBusyText.push(c[1]))}};this.SetRingFlag=function(a){this._ring=a};this.SetAgentStatus=function(a){if(this._agentStatus!=a||3==this._agentStatus)if(this._agentStatus=a,this._timerCount=0,0<this._agentStatus)this._BarBeginAgentStatusTimer();else{this._BarStopAgentStatusTimer();var b=this;setTimeout(function(){b.AgentStatusTimeSum()},1E3)}};this.OnAgentStatusTime=function(a,b,c){};this._BarBeginAgentStatusTimer=function(){if(null==this._timer){var a=this;this._timer=setInterval(function(){a.AgentStatusTimeSum()},1E3)}};this._BarStopAgentStatusTimer=function(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)};this.AgentStatusTimeSum=function(){this._timerCount+=1;-1==this._agentStatus&&(this._timerCount=0);this._showAgentStatusTimer()};this._getSubStatusText=function(){var a=this._app.oJVccBar.GetAgentSubBusyStatus();if(-1==a)this._busySubStatusSelectedItem="";else for(var b=0;b<this._arrSubBusyIndex.length;b++)if(this._arrSubBusyIndex[b]==a){this._busySubStatusSelectedItem=this._arrSubBusyText[b];break}};this._getTimerString=function(a){if(0==a)return"";var b=parseInt(a/3600),b=10>b?"0"+b:b,b="00"==b?"":b+":",c=parseInt(a%3600/60);a%=60;return b.toString()+(10>c?"0"+c:c).toString()+":"+(10>a?"0"+a:a).toString()};this._getTextByStatus=function(){return 1==this._agentStatus?(this._getSubStatusText(),""!=this._busySubStatusSelectedItem?this._busySubStatusSelectedItem:G_AppJVccbarConst.getConstDes(const_des_ag_busy,this._language)):2==this._agentStatus?G_AppJVccbarConst.getConstDes(const_des_ag_ready,this._language):3==this._agentStatus?this._ring?G_AppJVccbarConst.getConstDes(const_des_ag_ring,this._language):G_AppJVccbarConst.getConstDes(const_des_ag_connect,this._language):4==this._agentStatus?G_AppJVccbarConst.getConstDes(const_des_ag_aftercall,this._language):G_AppJVccbarConst.getConstDes(const_des_ag_logout,this._language)};this._showAgentStatusTimer=function(){this.OnAgentStatusTime(this._agentStatus,this._getTextByStatus(),this._getTimerString(this._timerCount))};return this}function JWeChatMessageItem(){this.direction=0;this.msgseq=-1;this.timeStamp=this.data=this.title=this.eventKey=this.Event=this.recongnition=this.sessionUrl=this.content=this.msgType="";this.code=this.needMmcOpenData=0;this.sender=this.des="";return this}function JWechChatSession(){this.type="00";this.userNickName=this.sessionId="";this.sex="0";this.vccName=this.vccPublicId=this.userId=this.country=this.city=this.province="";this.msgSession=[];this.status=1;this.AddMessageItem=function(d,a,b,c,e,f,g,h,k,l,m,q){var p=this.GetMessageIndex(a);return-1==p?(p=new JWeChatMessageItem,p.sender=d,p.direction=p.sender==this.userId?0:1,p.msgseq=a,p.msgType=b,p.content=c,p.sessionUrl=e,p.recongnition=f,p.Event=g,p.eventKey=h,p.title=k,p.data=l,p.timeStamp=m,p.needMmcOpenData=q,this.msgSession.push(p),p):this.msgSession[p]};this.GetMessageCount=function(){return this.msgSession.length};this.GetMessageItemByIndex=function(d){return 0>d||d>=this.msgSession.length?null:this.msgSession[d]};this.GetMessageItem=function(d){d=this.GetMessageIndex(d);return-1==d?null:this.msgSession[d]};this.GetLastSendItem=function(){for(var d=this.msgSession.length-1;0<d;d--)if(this.msgSession[d].sender==this.vccPublicId&&1==this.msgSession[d].direction)return this.msgSession[d];return null};this.GetMessageIndex=function(d){for(var a=0;a<this.msgSession.length;a++)if(this.msgSession[a].msgseq==d)return a;return-1}}function JWechChatManager(){this._currentSession="";this.weChatSessions=[];this.arrSendFileName=[];this.arrSendFileSessionID=[];this.arrRecvFileName=[];this.arrRecvFileSessionID=[];this.arrRecvFileMsgseq=[];this.GetSessionIndexBySessionID=function(d){for(var a=0;a<this.weChatSessions.length;a++)if(this.weChatSessions[a].sessionId==d)return a;return-1};this.GetSessionIndexByUserId=function(d){for(var a=0;a<this.weChatSessions.length;a++)if(this.weChatSessions[a].userId==d)return a;return-1};this.SetUserInfo=function(d){d=d.split("|");if(6==d.length){var a=this.GetSessionItemByUserId(d[0]);null!=a&&(a.userNickName=GetGBKFromBase64(d[1]),a.sex=d[2],a.province=GetGBKFromBase64(d[3]),a.city=GetGBKFromBase64(d[4]),a.country=GetGBKFromBase64(d[5]),this.OnBeginSession(a.sessionId))}};this.GetSessionItemByUserId=function(d){d=this.GetSessionIndexByUserId(d);return-1==d?null:this.weChatSessions[d]};this.AddSessionItem=function(d,a,b,c){if(-1==this.GetSessionIndexBySessionID(d,b,c)){var e=new JWechChatSession;e.type=a;e.sessionId=d;e.userId=b;e.vccPublicId=c;this.weChatSessions.push(e);return e}return null};this.OnSaveRecvMessageReport=function(d,a,b,c,e,f,g,h,k,l,m,q,p,n){l=this.GetSessionItemBySessionID(d);null==l&&(this._currentSession=d,l=this.AddSessionItem(d,b,c,e));null!=l&&(l.AddMessageItem(c,a,f,g,h,k,Event,m,q,p,n,0),"begin"==f?this.app.oJVccBar.GetWeChatParam(c):"end"==f?this.OnEndSession(d):this.OnRecvMessage(d,a))};this.OnSaveSendMessageReport=function(d,a,b,c,e,f){d=this.GetSessionItemBySessionID(a);null!=d&&(d=d.GetLastSendItem(),null!=d&&(d.code=c,d.des=e,d.timeStamp=f,d.msgseq=b,this.OnSendMessageReport(a,b)))};this.SaveSendMessage=function(d,a,b,c,e,f,g,h,k,l){d=this.GetSessionItemBySessionID(d);null!=d&&d.AddMessageItem(c,-1,e,f,g,"","","",h,k,"",l)};this.OnInvokeUploadFileToMMSReport=function(d,a,b){if(1==a||2==a)for(var c=0;c<this.arrSendFileName.length;c++)if(this.arrSendFileName[c]==d){this.OnUploadFileStatus(this.arrSendFileSessionID[c],a,b);this.arrSendFileSessionID.splice(c,1);this.arrSendFileName.splice(c,1);break}};this.OnInvokeDownFileFromMMSReport=function(d,a,b,c){if(1==a||2==a)for(var e=0;e<this.arrRecvFileName.length;e++)if(this.arrRecvFileName[e]==d&&this.arrRecvFileMsgseq[e]==c){this.OnDowndFileStatus(this.arrRecvFileSessionID[e],this.arrRecvFileMsgseq[e],a,b);this.arrRecvFileSessionID.splice(e,1);this.arrRecvFileName.splice(e,1);this.arrRecvFileMsgseq.splice(e,1);break}};this.SendTextMessage=function(d,a){""==d&&(d=this._currentSession);var b=this.GetSessionItemBySessionID(d);null!=b&&this.app.oJVccBar.SendWeChatMsg(d,b.type,b.userId,b.vccPublicId,"text",a,"","","",0)};this.SendImageMessage=function(d,a){""==d&&(d=this._currentSession);var b=this.GetSessionItemBySessionID(d);null!=b&&this.app.oJVccBar.SendWeChatMsg(d,b.type,b.userId,b.vccPublicId,"image","",a,"","",0)};this.SendVoiceMessage=function(d,a){""==d&&(d=this._currentSession);var b=this.GetSessionItemBySessionID(d);null!=b&&this.app.oJVccBar.SendWeChatMsg(d,b.type,b.userId,b.vccPublicId,"voice","",a,"","",0)};this.SendVedioMessage=function(d,a,b){""==d&&(d=this._currentSession);var c=this.GetSessionItemBySessionID(d);null!=c&&this.app.oJVccBar.SendWeChatMsg(d,c.type,c.userId,c.vccPublicId,"vedio","",a,b,"",0)};this.SendFormatMessage=function(d,a,b,c){""==d&&(d=this._currentSession);var e=this.GetSessionItemBySessionID(d);null!=e&&this.app.oJVccBar.SendWeChatMsg(d,e.type,e.userId,e.vccPublicId,"notice","","",a,b,c)};this.EndMessage=function(d){""==d&&(d=this._currentSession);var a=this.GetSessionItemBySessionID(d);null!=a&&this.app.oJVccBar.SendWeChatMsg(d,a.type,a.userId,a.vccPublicId,"end","","","","",0)};this.UploadFileToMMS=function(d,a){if(""==a)return 0;""==d&&(d=this._currentSession);var b=this.GetSessionItemBySessionID(d);null!=b&&(this.arrSendFileName.push(a),this.arrSendFileSessionID.push(d),this.app.oJVccBar.UploadFileToMMS(a,b.userId,b.vccPublicId));return 0};this.DownFileFromMMS=function(d,a,b){if(""==b)return 0;""==d&&(d=this._currentSession);var c=this.GetSessionItemBySessionID(d);null!=c&&(this.arrRecvFileName.push(b),this.arrRecvFileSessionID.push(d),this.arrRecvFileMsgseq.push(a),this.app.oJVccBar.DownFileFromMMS(b,c.userId,c.vccPublicId,d,a));return 0};this.GetSessionItemBySessionID=function(d){d=this.GetSessionIndexBySessionID(d);return-1==d?null:this.weChatSessions[d]};this.GetSessionItem=function(d,a){var b=this.GetSessionItemBySessionID(d);if(null!=b)for(var c=0;c<b.GetMessageCount();c++){var e=b.GetMessageItemByIndex(c);if(e.msgseq==a)return e}return null};this.OnBeginSession=function(d){};this.OnEndSession=function(d){};this.OnRecvMessage=function(d,a){};this.OnSendMessageReport=function(d,a){};this.OnUploadFileStatus=function(d,a,b){};this.OnDowndFileStatus=function(d,a,b,c){}}function JVccBarCtrl(d){this.config=d;this._methodCallBackFunction=this._eventCallBackFunction=this.oJVccBarCenter=null;this.serverConfig={mainIP:"",mainPortID:5049,backIP:"",backPortID:14801,monitorIP:"",monitorPort:14851,monitorbackIP:"",monitorbackPort:14851,sipServerIP:"",sipServerPort:5060,sipDomain:"",sipBackIp:"",sipBackServerPort:5060,autoExChangeServer:!1,userMainServer:1,initialed:!1};this._createObject=function(){this.oJVccBarCenter=new JVccBarCenter(this.config);this.oJVccBarCenter.oParent=this;this.oJVccBarCenter.attachEventfun(this._eventCallBackFunctionCtrl);this.oJVccBarCenter.attachResponsefun(this._methodCallBackFunctionCtrl)};this._methodCallBackFunctionCtrl=function(a,b){this.oParent._methodCallBackFunction&&this.oParent._methodCallBackFunction(a,b)};this._exchangeServer=function(){1==this.serverConfig.userMainServer?(this.oJVccBarCenter.SetCtrlAttribute("MainIP",this.serverConfig.backIP),this.oJVccBarCenter.SetCtrlAttribute("MainPortID",this.serverConfig.backPortID),this.oJVccBarCenter.SetCtrlAttribute("MonitorIP",this.serverConfig.monitorbackIP),this.oJVccBarCenter.SetCtrlAttribute("MonitorPort",this.serverConfig.monitorbackPort),this.oJVccBarCenter.SetCtrlAttribute("SipServerIP",this.serverConfig.sipBackServerIP),this.oJVccBarCenter.SetCtrlAttribute("SipServerPort",this.serverConfig.sipBackServerPort),this.serverConfig.userMainServer=0):(this.oJVccBarCenter.SetCtrlAttribute("MainIP",this.serverConfig.mainIP),this.oJVccBarCenter.SetCtrlAttribute("MainPortID",this.serverConfig.mainPortID),this.oJVccBarCenter.SetCtrlAttribute("MonitorIP",this.serverConfig.monitorIP),this.oJVccBarCenter.SetCtrlAttribute("MonitorPort",this.serverConfig.monitorPort),this.oJVccBarCenter.SetCtrlAttribute("SipServerIP",this.serverConfig.sipServerIP),this.oJVccBarCenter.SetCtrlAttribute("SipServerPort",this.serverConfig.sipServerPort),this.serverConfig.userMainServer=1);this.oJVccBarCenter.SetCtrlAttribute("CurUseServer",this.serverConfig.userMainServer)};this._eventCallBackFunctionCtrl=function(a,b){var c=this.oParent;if(a==eventOnInitalFailure){if(c.serverConfig.autoExChangeServer&&0==c.serverConfig.initialed&&1==c.serverConfig.userMainServer){c._exchangeServer();c.Initial(c.serverConfig.userMainServer);return}}else if(a==eventOnInitalSuccess)c.serverConfig.initialed=!0;else if(a==eventOnBarExit){if("4303"==b.split("|")[0]&&1==c.serverConfig.autoExChangeServer){c._exchangeServer();c.Initial(c.serverConfig.userMainServer);return}c.serverConfig.initialed=!1}c._eventCallBackFunction&&c._eventCallBackFunction(a,b)};this.Initial=function(a){return this.oJVccBarCenter.Initial(a)};this.SerialBtn=function(a,b){return this.oJVccBarCenter.SerialBtn(a,b)};this.GetBtnStatus=function(a){return this.oJVccBarCenter.GetBtnStatus(a)};this.Configurate=function(a){return this.oJVccBarCenter.Configurate(a)};this.GetConfiguration=function(){return this.oJVccBarCenter.GetConfiguration()};this.UnInitial=function(a){return this.oJVccBarCenter.UnInitial(a)};this.SetUIStyle=function(a){return this.oJVccBarCenter.SetUIStyle(a)};this.GetVersion=function(){return this.oJVccBarCenter.GetVersion()};this.SetBusy=function(a){return this.oJVccBarCenter.SetBusy(a)};this.SetIdle=function(){return this.oJVccBarCenter.SetIdle()};this.SetWrapUp=function(){return this.oJVccBarCenter.SetWrapUp()};this.SetCTICalloutTask=function(a){return this.oJVccBarCenter.SetCTICalloutTask(a)};this.GetCTICalloutTask=function(){return this.oJVccBarCenter.GetCTICalloutTask()};this.GetCallData=function(a){return this.oJVccBarCenter.GetCallData(a)};this.SetCallData=function(a,b){return this.oJVccBarCenter.SetCallData(a,b)};this.GetTransfer=function(){return this.oJVccBarCenter.GetTransfer()};this.SetTransfer=function(a,b,c){return this.oJVccBarCenter.SetTransfer(a,b,c)};this.ChangeCallQueue=function(a,b,c){return this.oJVccBarCenter.ChangeCallQueue(a,b,c)};this.GetCallID=function(){return this.oJVccBarCenter.GetCallID()};this.QuerySPGroupList=function(a,b,c,e,d,g){return this.oJVccBarCenter.QuerySPGroupList(a,b,c,e,d,g)};this.GetCallInfo=function(){return this.oJVccBarCenter.GetCallInfo()};this.SetTransparentParameter=function(a){return this.oJVccBarCenter.SetTransparentParameter(a)};this.GetAgentStatus=function(){return this.oJVccBarCenter.GetAgentStatus()};this.GetAgentSubBusyStatus=function(){return this.oJVccBarCenter.GetAgentSubBusyStatus()};this.GetBusySubStatus=function(){return this.oJVccBarCenter.GetBusySubStatus()};this.SetDisplayNumber=function(a){return this.oJVccBarCenter.SetDisplayNumber(a)};this.GetDisplayNumber=function(){return this.oJVccBarCenter.GetDisplayNumber()};this.CallQueueQuery=function(a,b,c){return this.oJVccBarCenter.CallQueueQuery(a,b,c)};this.QueryGroupAgentStatus=function(a,b,c,e){return this.oJVccBarCenter.QueryGroupAgentStatus(a,b,c,e)};this.QueryPreViewCallOutNumbers=function(a,b,c,e){return this.oJVccBarCenter.QueryPreViewCallOutNumbers(a,b,c,e)};this.QueryMonitorSumInfo=function(a,b){return this.oJVccBarCenter.QueryMonitorSumInfo(a,b)};this.GetBase64Data=function(a){return this.oJVccBarCenter.GetBase64Data(a)};this.GetDataFromBase64=function(a){return this.oJVccBarCenter.GetDataFromBase64(a)};this.SetWeChatQueueFlag=function(a){return this.oJVccBarCenter.SetWeChatQueueFlag(a)};this.GetWeChatQueueFlag=function(){return this.oJVccBarCenter.GetWeChatQueueFlag()};this.TransferCallQueue=function(a,b,c){return this.oJVccBarCenter.TransferCallQueue(a,b,c)};this.SetActiveService=function(a){return this.oJVccBarCenter.SetActiveService(a)};this.GetActiveService=function(){return this.oJVccBarCenter.GetActiveService()};this.GetExitCause=function(){return this.oJVccBarCenter.GetExitCause()};this.SetForwardNumber=function(a,b){return this.oJVccBarCenter.SetForwardNumber(a,b)};this.GetForwardNumber=function(){return this.oJVccBarCenter.GetForwardNumber()};this.SetAgentReservedStatus=function(a,b){return this.oJVccBarCenter.SetAgentReservedStatus(a,b)};this.SetMMService=function(a,b){return this.oJVccBarCenter.SetMMService(a,b)};this.DeleteCaptureFile=function(a){return this.oJVccBarCenter.DeleteCaptureFile(a)};this.GetAgentLogFile=function(a,b,c){return this.oJVccBarCenter.GetAgentLogFile(a,b,c)};this.GetMonitorStatus=function(){return this.oJVccBarCenter.GetMonitorStatus()};this.UploadMemLogToServer=function(){this.oJVccBarCenter.UploadMemLogToServer()};this.MakeCall=function(a,b,c,e,d,g,h,k,l,m,q){return this.oJVccBarCenter.MakeCall(a,b,c,e,d,g,h,k,l,m,q)};this.CallIn=function(a,b,c,e,d){return this.oJVccBarCenter.CallIn(a,b,c,e,d)};this.TransferOut=function(a,b){return this.oJVccBarCenter.TransferOut(a,b)};this.Hold=function(a){return this.oJVccBarCenter.Hold(a)};this.RetrieveHold=function(a){return this.oJVccBarCenter.RetrieveHold(a)};this.Disconnect=function(a){return this.oJVccBarCenter.Disconnect(a)};this.Answer=function(a){return this.oJVccBarCenter.Answer(a)};this.Consult=function(a,b){return this.oJVccBarCenter.Consult(a,b)};this.Transfer=function(){return this.oJVccBarCenter.Transfer()};this.Conference=function(){return this.oJVccBarCenter.Conference()};this.SendDTMF=function(a){return this.oJVccBarCenter.SendDTMF(a)};this.Bridge=function(a,b){return this.oJVccBarCenter.Bridge(a,b)};this.Mute=function(a,b){return this.oJVccBarCenter.Mute(a,b)};this.ReleaseThirdOne=function(a){return this.oJVccBarCenter.ReleaseThirdOne(a)};this.ForceReset=function(){return this.oJVccBarCenter.ForceReset()};this.SendIMMessage=function(a,b,c,e,d,g){return this.oJVccBarCenter.SendIMMessage(a,b,c,e,d,g)};this.BeginPlay=function(a,b,c,e,d){return this.oJVccBarCenter.BeginPlay(a,b,c,e,d)};this.StopPlay=function(a,b){return this.oJVccBarCenter.StopPlay(a,b)};this.BeginCollect=function(a,b,c,e,d,g,h,k,l,m){return this.oJVccBarCenter.BeginCollect(a,b,c,e,d,g,h,k,l,m)};this.StopCollect=function(a,b){return this.oJVccBarCenter.StopCollect(a,b)};this.UpdateMedia=function(a,b){return this.oJVccBarCenter.UpdateMedia(a,b)};this.BeginCapture=function(a,b){return this.oJVccBarCenter.BeginCapture(a,b)};this.Connect=function(a){return this.oJVccBarCenter.Connect(a)};this.ReleaseConnectOne=function(a){return this.oJVccBarCenter.ReleaseConnectOne(a)};this.MultiConfTransfer=function(a){return this.oJVccBarCenter.MultiConfTransfer(a)};this.ModifyVideoStream=function(a,b,c){return this.oJVccBarCenter.ModifyVideoStream(a,b,c)};this.BeginRecord=function(a,b){return this.oJVccBarCenter.BeginRecord(a,b)};this.StopRecord=function(a){return this.oJVccBarCenter.StopRecord(a)};this.AlterNate=function(a){return this.oJVccBarCenter.AlterNate(a)};this.CallBack=function(){return this.oJVccBarCenter.CallBack()};this.ReCall=function(){return this.oJVccBarCenter.ReCall()};this.SMMsg=function(a,b){return this.oJVccBarCenter.SMMsg(a,b)};this.ForeReleaseCall=function(a,b){return this.oJVccBarCenter.ForeReleaseCall(a,b)};this.Insert=function(a,b,c){return this.oJVccBarCenter.Insert(a,b,c)};this.Listen=function(a,b,c){return this.oJVccBarCenter.Listen(a,b,c)};this.Intercept=function(a,b,c,e){return this.oJVccBarCenter.Intercept(a,b,c,e)};this.Help=function(a,b,c){return this.oJVccBarCenter.Help(a,b,c)};this.Lock=function(a){return this.oJVccBarCenter.Lock(a)};this.UnLock=function(a){return this.oJVccBarCenter.UnLock(a)};this.ForceIdle=function(a){return this.oJVccBarCenter.ForceIdle(a)};this.ForceBusy=function(a){return this.oJVccBarCenter.ForceBusy(a)};this.ForceOut=function(a){return this.oJVccBarCenter.ForceOut(a)};this.InitialState=function(a){return this.oJVccBarCenter.InitialState(a)};this.AgentQuery=function(a,b,c){return this.oJVccBarCenter.AgentQuery(a,b,c)};this.TelQuery=function(a,b){return this.oJVccBarCenter.TelQuery(a,b)};this.IvrQuery=function(a,b){return this.oJVccBarCenter.IvrQuery(a,b)};this.TrunkQuery=function(a,b){return this.oJVccBarCenter.TrunkQuery(a,b)};this.MMServiceQuery=function(a){return this.oJVccBarCenter.MMServiceQuery(a)};this.AgentStateQuery=function(a,b,c,e){return this.oJVccBarCenter.AgentStateQuery(a,b,c,e)};this.ServiceQuery=function(a,b){return this.oJVccBarCenter.ServiceQuery(a,b)};this.TaskQuery=function(a,b){return this.oJVccBarCenter.TaskQuery(a,b)};this.CallReportQuery=function(a,b,c){return this.oJVccBarCenter.CallReportQuery(a,b,c)};this.GetTaskSummary=function(a,b){return this.oJVccBarCenter.GetTaskSummary(a,b)};this.StartNotification=function(a,b,c){return this.oJVccBarCenter.StartNotification(a,b,c)};this.EndNotification=function(a){return this.oJVccBarCenter.EndNotification(a)};this.SendWeiboMsg=function(a){return this.oJVccBarCenter.SendWeiboMsg(a)};this.UploadFileToMMS=function(a,b,c,e){return this.oJVccBarCenter.UploadFileToMMS(a,c,e)};this.DownFileFromMMS=function(a,b,c,e,d){return this.oJVccBarCenter.DownFileFromMMS(a,b,c,e,d)};this.SendWeChatMsg=function(a,b,c,e,d,g,h,k,l,m){return this.oJVccBarCenter.SendWeChatMsg(a,b,c,e,d,g,h,k,l,m)};this.QueryWeChatData=function(a,b,c,e,d,g,h){return this.oJVccBarCenter.QueryWeChatData(a,b,c,e,d,g,h)};this.QueryWeChatHistory=function(a,b,c,e,d,g,h){return this.oJVccBarCenter.QueryWeChatHistory(a,b,c,e,d,g,h)};this.GetWeChatParam=function(a){return this.oJVccBarCenter.GetWeChatParam(a)};this.SetCtrlAttribute=function(a,b){if("MainIP"==a)this.serverConfig.mainIP=b;else if("BackIP"==a)this.serverConfig.backIP=b;else if("MainPortID"==a)this.serverConfig.mainPortID=b;else if("BackPortID"==a)this.serverConfig.backPortID=b;else if("SipServerIP"==a)this.serverConfig.sipServerIP=b;else if("SipServerPort"==a)this.serverConfig.sipServerPort=b;else if("SipBackServerIP"==a)this.serverConfig.sipBackServerIP=b;else if("SipBackServerPort"==a)this.serverConfig.sipBackServerPort=b;else if("MonitorIP"==a)this.serverConfig.monitorIP=b;else if("MonitorPort"==a)this.serverConfig.monitorPort=b;else if("MonitorBackIP"==a)this.serverConfig.monitorbackIP=b;else if("MonitorBackPort"==a)this.serverConfig.monitorbackPort=b;else if("AutoExChangeServer"==a)this.serverConfig.autoExChangeServer=b;else if("CurUseServer"==a)return;this.oJVccBarCenter.SetCtrlAttribute(a,b)};this.GetCtrlAttribute=function(a){return"BackIP"==a?this.serverConfig.backIP:"BackPortID"==a?this.serverConfig.backPortID:"SipBackServerIP"==a?this.serverConfig.sipBackServerIP:"SipBackServerPort"==a?this.serverConfig.sipBackServerPort:"MonitorIP"==a?this.serverConfig.monitorIP:"MonitorBackIP"==a?this.serverConfig.monitorbackIP:"AutoExChangeServer"==a?this.serverConfig.autoExChangeServer:"CurUseServer"==a?this.serverConfig.userMainServer:this.oJVccBarCenter.GetCtrlAttribute(a)};this.IsSurpportVideoBypass=function(){return this.oJVccBarCenter.IsSurpportVideoBypass()};this.GetBarCtrl=function(){return this};this.GetSipCtrl=function(){return this.oJVccBarCenter.GetSipCtrl()};this.attachEventfun=function(a){this._eventCallBackFunction=a};this.attachResponsefun=function(a){this._methodCallBackFunction=a};this._createObject()}var ACP_UNKNOWN=0,ACP_HEART_BEAT=ACP_UNKNOWN+1,ACP_Initial_CONF=ACP_HEART_BEAT+1,ACP_SignIn_CONF=ACP_HEART_BEAT+2,ACP_SignOut_CONF=ACP_HEART_BEAT+3,ACP_SetBusy_CONF=ACP_HEART_BEAT+4,ACP_SetIdle_CONF=ACP_HEART_BEAT+5,ACP_AgentReport_CONF=ACP_HEART_BEAT+7,ACP_SetAgentAutoEnterIdle_CONF=ACP_HEART_BEAT+8,ACP_AgentEnterIdle_CONF=ACP_HEART_BEAT+9,ACP_SetWrapUp_CONF=ACP_HEART_BEAT+10,ACP_ForceIdle_CONF=ACP_HEART_BEAT+11,ACP_ForceBusy_CONF=ACP_HEART_BEAT+12,ACP_ForceOut_CONF=ACP_HEART_BEAT+13,ACP_Lock_CONF=ACP_HEART_BEAT+14,ACP_UnLock_CONF=ACP_HEART_BEAT+15,ACP_ReleaseCall_CONF=ACP_HEART_BEAT+16,ACP_ReleaseCallByCallID_CONF=ACP_HEART_BEAT+17,ACP_SendDTMF_CONF=ACP_HEART_BEAT+18,ACP_CallInside_CONF=ACP_HEART_BEAT+19,ACP_Consultation_CONF=ACP_HEART_BEAT+20,ACP_CallOutside_CONF=ACP_HEART_BEAT+21,ACP_SingleStepTransfer_CONF=ACP_HEART_BEAT+22,ACP_Transfer_CONF=ACP_HEART_BEAT+23,ACP_SetTransfer_CONF=ACP_HEART_BEAT+24,ACP_Hold_CONF=ACP_HEART_BEAT+25,ACP_RetrieveHold_CONF=ACP_HEART_BEAT+26,ACP_Conference_CONF=ACP_HEART_BEAT+27,ACP_Alternate_CONF=ACP_HEART_BEAT+28,ACP_DoReplyMultimeAndHangUpCall_CONF=ACP_HEART_BEAT+29,ACP_Listen_CONF=ACP_HEART_BEAT+30,ACP_Help_CONF=ACP_HEART_BEAT+31,ACP_Intercept_CONF=ACP_HEART_BEAT+32,ACP_Insert_CONF=ACP_HEART_BEAT+33,ACP_StopInsert_CONF=ACP_HEART_BEAT+34,ACP_BeginRecord_CONF=ACP_HEART_BEAT+35,ACP_StopRecord_CONF=ACP_HEART_BEAT+36,ACP_BeginPlay_CONF=ACP_HEART_BEAT+37,ACP_StopPlay_CONF=ACP_HEART_BEAT+38,ACP_BeginCollect_CONF=ACP_HEART_BEAT+39,ACP_StopCollect_CONF=ACP_HEART_BEAT+40,ACP_Bridge_CONF=ACP_HEART_BEAT+41,ACP_SMMsg_CONF=ACP_HEART_BEAT+42,ACP_Answer_CONF=ACP_HEART_BEAT+43,ACP_Mute_CONF=ACP_HEART_BEAT+44,ACP_SetCallData_CONF=ACP_HEART_BEAT+45,ACP_GetCallData_CONF=ACP_HEART_BEAT+46,ACP_QueryTotalQueueWaitNum_CONF=ACP_HEART_BEAT+47,ACP_QueryQueueWaitNum_CONF=ACP_HEART_BEAT+48,ACP_QueryAgentStatus_CONF=ACP_HEART_BEAT+49,ACP_GetAccessNo_CONF=ACP_HEART_BEAT+50,ACP_QueryAgentCallInfo_CONF=ACP_HEART_BEAT+51,ACP_SetCTIParam_CONF=ACP_HEART_BEAT+52,ACP_GetCTIParam_CONF=ACP_HEART_BEAT+53,ACP_GetCTITime_CONF=ACP_HEART_BEAT+54,ACP_QuerySpAgentList_CONF=ACP_HEART_BEAT+55,ACP_ChangeCallQueue_CONF=ACP_HEART_BEAT+56,ACP_AgentReconnect_CONF=ACP_HEART_BEAT+57,ACP_WorkReport_CONF=ACP_HEART_BEAT+58,ACP_SendWeiboMsg_CONF=ACP_HEART_BEAT+59,ACP_SendMessage_CONF=ACP_HEART_BEAT+60,ACP_SendWeChatMsg_CONF=ACP_HEART_BEAT+61,ACP_QueryWeChatSessionIDs_CONF=ACP_HEART_BEAT+62,ACP_GetWeChatParam_CONF=ACP_HEART_BEAT+63,ACP_TransferCallQueue_CONF=ACP_HEART_BEAT+64,ACP_ForceReleaseCall_CONF=ACP_HEART_BEAT+65,ACP_UpdateMedia_CONF=ACP_HEART_BEAT+66,ACP_BeginCapture_CONF=ACP_HEART_BEAT+67,ACP_Connect_CONF=ACP_HEART_BEAT+68,ACP_ModifyVideoStream_CONF=ACP_HEART_BEAT+69,ACP_OnOrigated=80,ACP_OnAnswerRequest=ACP_OnOrigated+1,ACP_OnAnswerSuccess=ACP_OnOrigated+2,ACP_OnAnswerFailure=ACP_OnOrigated+3,ACP_OnUserHangupBeforeResponse=ACP_OnOrigated+4,ACP_OnRequestRelease=ACP_OnOrigated+5,ACP_OnReleaseSuccess=ACP_OnOrigated+6,ACP_OnReleaseFailure=ACP_OnOrigated+7,ACP_OnLongNoAnswer=ACP_OnOrigated+8,ACP_OnConsultationBack=ACP_OnOrigated+9,ACP_OnConsultationSuccess=ACP_OnOrigated+10,ACP_OnConsultationFailure=ACP_OnOrigated+11,ACP_OnTransSuccess=ACP_OnOrigated+12,ACP_OnTransFailure=ACP_OnOrigated+13,ACP_OnTransferred=ACP_OnOrigated+14,ACP_OnReturnFromIVR=ACP_OnOrigated+15,ACP_OnReturnFromPhone=ACP_OnOrigated+16,ACP_OnBridgeSuccess=ACP_OnOrigated+17,ACP_OnBridgeFailure=ACP_OnOrigated+18,ACP_OnBeginSendDTMFSuccess=ACP_OnOrigated+19,ACP_OnBeginSendDTMFFailure=ACP_OnOrigated+20,ACP_OnStopSendDTMFSuccess=ACP_OnOrigated+21,ACP_OnStopSendDTMFFailure=ACP_OnOrigated+22,ACP_OnSingleTransferSuccess=ACP_OnOrigated+23,ACP_OnSingleTransferFailure=ACP_OnOrigated+24,ACP_OnCallInsideSuccess=ACP_OnOrigated+25,ACP_OnCallInsideFailure=ACP_OnOrigated+26,ACP_OnCallInsideSuccTalk=ACP_OnOrigated+27,ACP_OnCallOutsideSuccess=ACP_OnOrigated+28,ACP_OnCallOutsideFailure=ACP_OnOrigated+29,ACP_OnCallOutsideSuccTalk=ACP_OnOrigated+30,ACP_OnHoldSuccess=ACP_OnOrigated+31,ACP_OnHoldFailure=ACP_OnOrigated+32,ACP_OnRetrieveHoldSuccess=ACP_OnOrigated+33,ACP_OnRetrieveHoldFailure=ACP_OnOrigated+34,ACP_OnHoldCallRelease=ACP_OnOrigated+35,ACP_OnConferenceSuccess=ACP_OnOrigated+36,ACP_OnConferenceFailure=ACP_OnOrigated+37,ACP_OnConferenceSucTalk=ACP_OnOrigated+38,ACP_OnHangupCallInConf=ACP_OnOrigated+39,ACP_OnAlternateSuccess=ACP_OnOrigated+40,ACP_OnAlternated=ACP_OnOrigated+41,ACP_OnAlternateFailure=ACP_OnOrigated+42,ACP_OnListenSuccess=ACP_OnOrigated+43,ACP_OnListenFailure=ACP_OnOrigated+44,ACP_OnHelpSuccess=ACP_OnOrigated+45,ACP_OnHelpFailure=ACP_OnOrigated+46,ACP_OnInsertSuccess=ACP_OnOrigated+47,ACP_OnInsertFailure=ACP_OnOrigated+48,ACP_OnStopInsertSuccess=ACP_OnOrigated+49,ACP_OnStopInsertFailure=ACP_OnOrigated+50,ACP_OnInterceptSuccess=ACP_OnOrigated+51,ACP_OnInterceptFailure=ACP_OnOrigated+52,ACP_OnForceIdleSuccess=ACP_OnOrigated+53,ACP_OnForceIdleFailure=ACP_OnOrigated+54,ACP_OnForceBusySuccess=ACP_OnOrigated+55,ACP_OnForceBusyFailure=ACP_OnOrigated+56,ACP_OnForceOutSuccess=ACP_OnOrigated+57,ACP_OnForceOutFailure=ACP_OnOrigated+58,ACP_OnBeginRecordSuccess=ACP_OnOrigated+59,ACP_OnBeginRecordFailure=ACP_OnOrigated+60,ACP_OnStopRecordSuccess=ACP_OnOrigated+61,ACP_OnStopRecordFailure=ACP_OnOrigated+62,ACP_OnForceIdle=ACP_OnOrigated+63,ACP_OnForceBusy=ACP_OnOrigated+64,ACP_OnForceOut=ACP_OnOrigated+65,ACP_OnSignOuted=ACP_OnOrigated+66,ACP_OnSystemIdle=ACP_OnOrigated+67,ACP_OnLocked=ACP_OnOrigated+68,ACP_OnUnLocked=ACP_OnOrigated+69,ACP_OnForceRelease=ACP_OnOrigated+70,ACP_OnAgentAllBusy=ACP_OnOrigated+71,ACP_OnIntercepted=ACP_OnOrigated+72,ACP_OnInserted=ACP_OnOrigated+73,ACP_OnStopListenSuccess=ACP_OnOrigated+74,ACP_OnStopListenFailure=ACP_OnOrigated+75,ACP_OnListened=ACP_OnOrigated+76,ACP_OnBeginPlaySuccess=ACP_OnOrigated+77,ACP_OnBeginPlayFailure=ACP_OnOrigated+78,ACP_OnStopPlaySuccess=ACP_OnOrigated+79,ACP_OnStopPlayFailure=ACP_OnOrigated+80,ACP_OnBeginCollectSuccess=ACP_OnOrigated+81,ACP_OnBeginCollectFailure=ACP_OnOrigated+82,ACP_OnStopCollectSuccess=ACP_OnOrigated+83,ACP_OnStopcollectFailure=ACP_OnOrigated+84,ACP_GetLog=ACP_OnOrigated+85,ACP_OnCallQueueQuery=ACP_OnOrigated+86,ACP_OnQueueReport=ACP_OnOrigated+87,ACP_OnSystemMessage=ACP_OnOrigated+88,ACP_OnRecvWeiboMsg=ACP_OnOrigated+89,ACP_OnStaticInfoReport=ACP_OnOrigated+90,ACP_OnRecvWeChatMsg=ACP_OnOrigated+91,ACP_OnWeChatEventReport=ACP_OnOrigated+92,ACP_OnForceReleaseCallSuccess=ACP_OnOrigated+93,ACP_OnForceReleaseCallFailure=ACP_OnOrigated+94,ACP_OnAgentBusyReason=ACP_OnOrigated+95,ACP_OnAsrEventReport=ACP_OnOrigated+96,ACP_OnStopSmSuccess=ACP_OnOrigated+97,ACP_OnUpdateMediaEvent=ACP_OnOrigated+98,ACP_OnStopCaptureSuccess=ACP_OnOrigated+99,ACP_OnConnectFailure=ACP_OnOrigated+100,ACP_OnModifyVideoStream=ACP_OnOrigated+101,ACP_OnMuteSuccess=ACP_OnOrigated+102,CD_IVR_CALLIN=0,CD_SERVRE_EXACT_CALLOUT=1,CD_PREVIEW_CALLOUT=2,CD_AGENT_OUTSIDE_CALLOUT=3,CD_IVR_CALLOUT=4,CD_AGENT_INSIDE_CALLOUT=5,CD_CONSULT_CALLOUT=6,CD_SINGLE_CALLOUT=6,CD_BRIDGE_CALLOUT=8,CD_MONITOR_CALLIN=9,CD_INTERCEPT_CALLIN=10,CD_INSERT_CALLIN=11,CD_STEPBYSTEP_CALLOUT=12,CD_FORECAST_CALLOUT=13,CD_EXACT_PREVIEW_CALLOUT=14,CD_HELP_CALLIN=19,CD_CONNECT_CALLOUT=24,EC_REQUEST=0,EC_UNSOLICITED=1,EC_CONFIRMATION=2,CS_IDLE=0,CS_ORIGATED=1,CS_INITIATED=2,CS_QUEUED=3,CS_DELIVERED=4,CS_ALERTING=5,CS_CONNECTED=6,CS_CONFERENCED=7,CS_HELD=8,CS_MUTE=9,AG_NULL=0,AG_NOT_READY=1,AG_READY=2,AG_BUSY=3,AG_WORKING_AFTER_CALL=4,IE_InitNull=-1,IE_Initing=0,IE_InitParamError=1,IE_InitSuccess=2,IE_InitSIPError=3,IE_InitMaccardError=4,IE_InitCTIError=5,IE_InitMonitorError=6;function JHead(){this.serialID=this.sessionID=this.curtime="";this.serviceID=this.direction=-1;this.timeStamp=""}function JAgent(){this.type=0;this.deviceID=this.agentID=this.vccID="";this.master=this.phoneStatus=this.agentSubStatus=this.agentStatus=-1;this.displayNumber=""}function JCtiVersion(){this.monthVersion=this.yearVersion=this.majorVersion=0;this.Init=function(d){var a;try{a=d.split("."),3==a.length&&(this.majorVersion=parseInt(a[0]),this.yearVersion=parseInt(a[1]),this.monthVersion=parseInt(a[2]))}catch(b){}};this.IsOverAndEqualVersion=function(d,a,b){return this.majorVersion>d||this.majorVersion==d&&this.yearVersion>a||this.majorVersion==d&&this.yearVersion==a&&this.monthVersion>=b?!0:!1}}function JCause(){this.code=0;this.scode=this.desc=""}function JDevice(){this.legID=this.phonestatus=-1;this.tc=this.av=this.deviceID=""}function JCallinfo(){this.callData=this.opAgentID=this.callBackDevice=this.orgCallingDevice=this.orgCalledDevice=this.calledDevice=this.callingDevice="";this.count=0;this.device=[];this._create=function(){for(var d=0;9>d;d++){var a=new JDevice;this.device.push(a)}};this._create()}function JCallReportInfo(){this.callrescode=this.msserver=this.srfmsgid=this.answerflag=this.answerseconds=this.ringseconds=this.endtime=this.answertime=this.ringtime=this.starttime=this.detail=this.serviceid=this.direction=this.usernumber=this.sid=this.callid=""}function JBody(){this.eventTypeName="";this.eventType=this.eventClass=-1;this.datas=Array(32);this.datas_count=0;this.data="";this.agent=new JAgent;this.cause=new JCause;this.callinfo=new JCallinfo;this.reportinfo=new JCallReportInfo}function JAcpEvent(){this.ctiversion=new JCtiVersion;this.head=new JHead;this.body=new JBody;this.acpMessage=""}var AMP_UNKNOWN=0,AMP_HEART_BEAT=1,AMP_Initial_CONF=AMP_HEART_BEAT+1,AMP_Login_CONF=AMP_HEART_BEAT+2,AMP_LogOut_CONF=AMP_HEART_BEAT+3,AMP_SetQueueType_CONF=AMP_HEART_BEAT+4,AMP_SetMsgFlag_CONF=AMP_HEART_BEAT+5,AMP_AgentReport_CONF=AMP_HEART_BEAT+6,AMP_QueryMonitorGroup_CONF=AMP_HEART_BEAT+7,AMP_QueryAgentState_CONF=AMP_HEART_BEAT+8,AMP_QueryQueueStatus_CONF=AMP_HEART_BEAT+9,AMP_QueryIvrStatus_CONF=AMP_HEART_BEAT+10,AMP_AgentReconnect_CONF=AMP_HEART_BEAT+11,AMP_InitialState_CONF=AMP_HEART_BEAT+12,AMP_AgentQuery_CONF=AMP_HEART_BEAT+13,AMP_IvrQuery_CONF=AMP_HEART_BEAT+14,AMP_TelQuery_CONF=AMP_HEART_BEAT+15,AMP_ServiceQuerySummary_CONF=AMP_HEART_BEAT+16,AMP_IvrSumQuery_CONF=AMP_HEART_BEAT+17,AMP_TaskQuerySummary_CONF=AMP_HEART_BEAT+18,AMP_StartNotification_CONF=AMP_HEART_BEAT+19,AMP_EndNotification_CONF=AMP_HEART_BEAT+20,AMP_CallReportQuery_CONF=AMP_HEART_BEAT+21,AMP_AgentSumQuery_CONF=AMP_HEART_BEAT+22,AMP_AgentWorkSumQuery_CONF=AMP_HEART_BEAT+23,AMP_ServiceSumQueryByHour_CONF=AMP_HEART_BEAT+24,AMP_TaskSumQueryByHour_CONF=AMP_HEART_BEAT+25,AMP_QueryActiveTask_CONF=AMP_HEART_BEAT+26,AMP_M4AgentSumQuery_CONF=AMP_HEART_BEAT+27,AMP_M4ServiceSumQuery_CONF=AMP_HEART_BEAT+28,AMP_M4IvrServiceQuery_CONF=AMP_HEART_BEAT+29,AMP_M4TrunkSumQuery_CONF=AMP_HEART_BEAT+30,AMP_telephoneStatusReport=AMP_HEART_BEAT+40,AMP_agentStatusReport=AMP_HEART_BEAT+41,AMP_lockStatusReport=AMP_HEART_BEAT+42,AMP_queueStatusReport=AMP_HEART_BEAT+43,AMP_ivrStatusReport=AMP_HEART_BEAT+44,AMP_AgentReport=AMP_HEART_BEAT+50,AMP_IvrReport=AMP_HEART_BEAT+51,AMP_TelReport=AMP_HEART_BEAT+52,AMP_ServiceReport=AMP_HEART_BEAT+53,AMP_TaskReport=AMP_HEART_BEAT+54,AMP_OutboundReport=AMP_HEART_BEAT+55,AMP_CallReportReport=AMP_HEART_BEAT+56,AMP_M4WallServiceReport=AMP_HEART_BEAT+57,AMP_M4WallQueueReport=AMP_HEART_BEAT+58,AMP_M4AgentSumReport=AMP_HEART_BEAT+59,AMP_M4ServiceSumReport=AMP_HEART_BEAT+60,AMP_M4IvrServiceReport=AMP_HEART_BEAT+61,AMP_OnSignOuted=AMP_HEART_BEAT+62,AMP_TrunkReport=AMP_HEART_BEAT+63,AMP_TrunkSumReport=AMP_HEART_BEAT+64;function AMPBody_t(){this.eventTypeName="";this.eventType=this.eventClass=-1;this.description=this.sessionID=this.version="";this.code=-1;this.currentTime=this.ampMessage=this.data=""}var eventOnCallRing=0,eventOnAnswerCall=1,eventOnCallEnd=2,eventOnPrompt=3,eventOnReportBtnStatus=4,eventOnInitalSuccess=5,eventOnInitalFailure=6,eventOnEventPrompt=7,eventOnAgentWorkReport=8,eventOnCallDataChanged=9,eventOnBarExit=10,eventOnCallQueueQuery=11,eventOnQueryGroupAgentStatus=12,eventOnSystemMessage=13,eventOnRecvWeiboMsg=14,eventOnIMMessage=15,eventOnRecvWeChatMessage=16,eventOnSendWeChatMsgReport=17,eventOnUploadFileToMMSReport=18,eventOnDownloadFileToMMSReport=19,eventOnWorkStaticInfoReport=20,eventOnAQueryCTIInfoReport=21,eventOnQueueReport=22,eventOnAgentBusyReasonReport=23,eventOnAgentLogUploadReport=24,eventOnAsrEventReport=25,eventOnStopSmSuccess=26,eventOnCallCdrReport=27,eventOnUpdateMediaEvent=28,eventOnStopCaptureSuccess=29,eventOnAgentReport=60,eventOnTelReport=eventOnAgentReport+1,eventOnServiceReport=eventOnAgentReport+2,eventOnIvrReport=eventOnAgentReport+3,eventOnTaskReport=eventOnAgentReport+4,eventOnOutboundReport=eventOnAgentReport+5,eventOnCallReportInfo=eventOnAgentReport+6,eventOnQueryMonitorSumReport=eventOnAgentReport+8,eventOnWallServiceReport=eventOnAgentReport+9,eventOnWallQueueReport=eventOnAgentReport+10,eventOnServiceStaticReport=eventOnAgentReport+11,eventOnAgentStaticReport=eventOnAgentReport+13,eventOnTrunkReport=eventOnAgentReport+14,eventOnTrunkSumReport=eventOnAgentReport+15,eventOnAgentMonitorSignOut=eventOnAgentReport+16,eventOnWebsocketSocket=80,VccBar_Log_None=0,VccBar_Log_Error=1,VccBar_Log_Warn=2,VccBar_Log_Info=4,VccBar_Log_Debug=8,VccBar_Log_Protocol=16,MAXCALLNUMLEN=64,gLogType=VccBar_Log_None,lg_zhcn="zh-cn",lg_english="en-us",g_JsVccBarVersion="4.0.32",g_DebugFlag=0;function JVersion(d){this.str=d;this.MinVersion=this.MaxVersion2=this.MaxVersion1=this.MaxVersion=0;this._init=function(){var a;try{a=this.str.split(".")}catch(b){}this.MaxVersion=parseInt(a[0]);this.MaxVersion1=parseInt(a[1]);this.MaxVersion2=parseInt(a[2]);this.MinVersion=parseInt(a[3])};this._init();this.IsOverVersion=function(a){return this.MaxVersion>a.MaxVersion||this.MaxVersion==a.MaxVersion&&this.MaxVersion1>a.MaxVersion1||this.MaxVersion==a.MaxVersion&&this.MaxVersion1==a.MaxVersion1&&this.MaxVersion2>a.MaxVersion2||this.MaxVersion==a.MaxVersion&&this.MaxVersion1==a.MaxVersion1&&this.MaxVersion2==a.MaxVersion2&&this.MinVersion>a.MinVersion?!0:!1};return this}function LeafOutMuchMessage(d,a){return 0<=a.indexOf("OnStaticInfoReport")||0<=a.indexOf("OnQueueReport")||0<=a.indexOf("heartBeat")||0<=a.indexOf("alivecheck")?!1:!0}function DisplayLog(d,a){if(LeafOutMuchMessage(d,a)&&("function"===typeof OnSimulatorProtocol&&d==VccBar_Log_Protocol&&OnSimulatorProtocol(a),d&gLogType)){var b="";d==VccBar_Log_Error&&(b="[ERROR]["+getTimeString()+"]");d==VccBar_Log_Warn&&(b="[WARN]["+getTimeString()+"]");d==VccBar_Log_Debug&&(b="[DEBUG]["+getTimeString()+"]");d==VccBar_Log_Info&&(b="[INFOR]["+getTimeString()+"]");d==VccBar_Log_Protocol&&(b="[PROTOCAL]["+getTimeString()+"]");a=b+a;d==VccBar_Log_Protocol&&(a+="\r\n");null!=application&&application.Log(a)}}function stringToInt(d,a){return""==d||null==d||"undefined"==typeof d?a:parseInt(d)}function stringCopy(d,a){return""==d||null==d||"undefined"==typeof d?a:d}function getSubString(d,a,b){if(""==a&&""==b)return d;if(""==a)a=d;else{var c=d.indexOf(a);if(0>c)return"";c+=a.length;a=d.substr(c,d.length)}d=a;if(""==b)a=d;else{b=d.indexOf(b);if(0>b)return"";a=d.substr(0,b)}return a}function trimStr(d){return d.replace(/(^\s*)|(\s*$)/g,"")}function trimLeftStr(d){return d.replace(/(^\s*)/g,"")}function trimRightStr(d){return d.replace(/(\s*$)/g,"")}function getDefaultParam(d){return"undefined"==typeof d?"":d}function getDefaultParamValue(d,a){return"undefined"==typeof d?getDefaultParam(a):d}function getAcpTimeString(d){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,c=10>c?"0"+c:c,e=a.getDate(),e=10>e?"0"+e:e,f=a.getHours(),f=10>f?"0"+f:f,g=a.getMinutes(),g=10>g?"0"+g:g,h=a.getSeconds(),h=10>h?"0"+h:h,a=a.getMilliseconds();return(d=getDefaultParamValue(d,!0))?stringFormat("{0}:{1}:{2} {3}:{4}:{5} {6}",b.toString(),c.toString(),e.toString(),f.toString(),g.toString(),h.toString(),a.toString()):stringFormat("{0}{1}{2}{3}{4}{5}",b.toString(),c.toString(),e.toString(),f.toString(),g.toString(),h.toString())}function StringToDate(d){if(""==d||"undefined"==typeof d||14!=d.length)return 0;var a=new Date;a.setYear(parseInt(d.substr(0,4)));a.setMonth(parseInt(d.substr(4,2)));a.setDate(parseInt(d.substr(6,2)));a.setHours(parseInt(d.substr(8,2)));a.setMinutes(parseInt(d.substr(10,2)));a.setSeconds(parseInt(d.substr(12,2)));return a}function getStringTimerInterval(d,a){var b=StringToDate(d),c=StringToDate(a);if(0==b||0==c)return 0;b=c.getTime()-b.getTime();return Math.round(b/1E3)}function getTimeString(){var d=new Date,a=d.getFullYear(),b=d.getMonth()+1,b=10>b?"0"+b:b,c=d.getDate(),c=10>c?"0"+c:c,e=d.getHours(),e=10>e?"0"+e:e,f=d.getMinutes(),f=10>f?"0"+f:f,g=d.getSeconds(),g=10>g?"0"+g:g,d=d.getMilliseconds();return a.toString()+b.toString()+c.toString()+" "+e.toString()+f.toString()+g.toString()+"  "+d.toString()}function getDateString(){var d=new Date,a=d.getFullYear(),b=d.getMonth()+1,b=10>b?"0"+b:b,c=d.getDate(),c=10>c?"0"+c:c;d.getHours();d.getMinutes();d.getSeconds();d.getMilliseconds();return a.toString()+b.toString()+c.toString()}function getFormateDateTimeString(){var d=new Date,a=d.getFullYear(),b=d.getMonth()+1,b=10>b?"0"+b:b,c=d.getDate(),c=10>c?"0"+c:c,e=d.getHours(),e=10>e?"0"+e:e,f=d.getMinutes(),f=10>f?"0"+f:f,d=d.getSeconds();return a.toString()+b.toString()+c.toString()+e.toString()+f.toString()+(10>d?"0"+d:d).toString()}function stringFormat(){if(0==arguments.length)return"";for(var d=arguments[0],a=1;a<arguments.length;a++)d=d.replace(new RegExp("\\{"+(a-1)+"\\}","gm"),arguments[a]);return d}function formatCallNum(d){for(var a="",b=0,c=0;c<d.length;c++)" "!=d[c]&&"-"!=d[c]&&(a+=d[c],b++);return a}function isPhoneNum(d,a){"undefined"==typeof a&&(a=!1);for(var b=0;b<d.length;b++){var c=d[b];if((!a||","!=c&&"*"!=c&&"#"!=c)&&isNaN(c))return!1}return!0}function getArrayIndex(d,a){if(0>=d.length)return-1;for(var b=0;b<d.length;b++)if(d[b]==a)return b;return-1}function getArrayFromJsonItem(d,a){for(var b=[],c=0;c<d.length;c++)b.push(d[c][a]);return b}function $$(d){return window.document.getElementById(d)}function arrayEmpty(d){d.splice(0,d.length)}function arrayRemoveItem(d,a){for(var b=0;b<d;b++)if(d[b]==a)return b;-1!=b&&d.splice(index,1)}function saveFileAs(d,a){var b=d.type;b&&"application/octet-stream"!=b&&(d=(d.slice||d.webkitSlice||d.mozSlice).call(d,0,d.size,"application/octet-stream"));var b=URL.createObjectURL(d),c=document.createElementNS("http://www.w3.org/1999/xhtml","a");c.href=b;c.download=a;var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(e);URL.revokeObjectURL(b)}function getInnerText(d){d.replace(/\ +/g,"");d.replace(/[ ]/g,"");return d.replace(/[\r\n]/g,"")}function SendLogFileTo(d,a,b,c){var e=stringFormat("cinvccbar_{0}_{1}.txt",b,getAcpTimeString(!1));d+=e;b=stringFormat('--{0}{1}Content-Disposition: form-data; name\x3d"MAX_FILE_SIZE"{2}{3}{4}{5}',"---14097859520810---","\r\n","\r\n","\r\n",5E6,"\r\n");stringFormat('--{0}{1}Content-Disposition: form-data; name\x3d"mediafile"; filename\x3d"{2}"{3}Content-Type: audio/x-wav{4}{5}',"---14097859520810---","\r\n",e,"\r\n","\r\n","\r\n");var f=stringFormat("{0}--{1}--{2}","\r\n","---14097859520810---","\r\n");a=b+a+f;var g=0,h=stringFormat("Content-Type: multipart/form-data; boundary\x3d{0}{1}","---14097859520810---","\r\n");$.ajax({url:d,data:a,type:"POST",dataType:"text",cache:!1,beforeSend:function(a){a.setRequestHeader("Content-type",h)},success:function(a,b,d){a=getInnerText(a);g=a.length;c(e,g,a)},error:function(a,b){c(e,-4,b)},complete:function(a,b){}})}function SendLogDataToServer(d,a,b,c){var e=stringFormat("cinvccbar_js_{0}_{1}.txt",b,getAcpTimeString(!1));d+=e;b=stringFormat('--{0}{1}Content-Disposition: form-data; name\x3d"MAX_FILE_SIZE"{2}{3}{4}{5}',"---14097859520810---","\r\n","\r\n","\r\n",5E6,"\r\n");stringFormat('--{0}{1}Content-Disposition: form-data; name\x3d"mediafile"; filename\x3d"{2}"{3}Content-Type: audio/x-wav{4}{5}',"---14097859520810---","\r\n",e,"\r\n","\r\n","\r\n");var f=stringFormat("{0}--{1}--{2}","\r\n","---14097859520810---","\r\n");a=b+a+f;var g=0;b=stringFormat("Content-Type: multipart/form-data; boundary\x3d{0}{1}","---14097859520810---","\r\n");try{var h=new XMLHttpRequest;h.onreadystatechange=function(a){4==this.readyState&&(200===h.status?(a=getInnerText(h.responseText),g=a.length,c(e,g,a)):c(e,-1,"Reponse code:"+h.status))};h.open("post",d,!0);h.setRequestHeader("Content-Type",b);h.send(a)}catch(k){c(e,0,k.message)}}var base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function base64encode(d){var a,b,c,e,f,g;c=d.length;b=0;for(a="";b<c;){e=d.charCodeAt(b++)&255;if(b==c){a+=base64EncodeChars.charAt(e>>2);a+=base64EncodeChars.charAt((e&3)<<4);a+="\x3d\x3d";break}f=d.charCodeAt(b++);if(b==c){a+=base64EncodeChars.charAt(e>>2);a+=base64EncodeChars.charAt((e&3)<<4|(f&240)>>4);a+=base64EncodeChars.charAt((f&15)<<2);a+="\x3d";break}g=d.charCodeAt(b++);a+=base64EncodeChars.charAt(e>>2);a+=base64EncodeChars.charAt((e&3)<<4|(f&240)>>4);a+=base64EncodeChars.charAt((f&15)<<2|(g&192)>>6);a+=base64EncodeChars.charAt(g&63)}return a}function base64decode(d){var a,b,c,e,f;e=d.length;c=0;for(f="";c<e;){do a=base64DecodeChars[d.charCodeAt(c++)&255];while(c<e&&-1==a);if(-1==a)break;do b=base64DecodeChars[d.charCodeAt(c++)&255];while(c<e&&-1==b);if(-1==b)break;f+=String.fromCharCode(a<<2|(b&48)>>4);do{a=d.charCodeAt(c++)&255;if(61==a)return f;a=base64DecodeChars[a]}while(c<e&&-1==a);if(-1==a)break;f+=String.fromCharCode((b&15)<<4|(a&60)>>2);do{b=d.charCodeAt(c++)&255;if(61==b)return f;b=base64DecodeChars[b]}while(c<e&&-1==b);if(-1==b)break;f+=String.fromCharCode((a&3)<<6|b)}return f}function utf16to8(d){var a,b,c,e;a="";c=d.length;for(b=0;b<c;b++)e=d.charCodeAt(b),1<=e&&127>=e?a+=d.charAt(b):(2047<e?(a+=String.fromCharCode(224|e>>12&15),a+=String.fromCharCode(128|e>>6&63)):a+=String.fromCharCode(192|e>>6&31),a+=String.fromCharCode(128|e>>0&63));return a}function utf8to16(d){var a,b,c,e,f,g;a="";c=d.length;for(b=0;b<c;)switch(e=d.charCodeAt(b++),e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=d.charAt(b-1);break;case 12:case 13:f=d.charCodeAt(b++);a+=String.fromCharCode((e&31)<<6|f&63);break;case 14:f=d.charCodeAt(b++),g=d.charCodeAt(b++),a+=String.fromCharCode((e&15)<<12|(f&63)<<6|(g&63)<<0)}return a}function GetBase64FromGBK(d){return"undefined"==typeof d?"":base64encode(utf16to8(d))}function GetGBKFromBase64(d){return"undefined"==typeof d?"":utf8to16(base64decode(d))}function Utf8ToUnicode(d){for(var a="",b=d.length,c=0,e=b,f,g,h;c<b;)if(f=d.charCodeAt(c),0==(f&128)){if(1>e)break;a+=String.fromCharCode(f&127);c++;--e}else if(192==(f&224)){g=d.charCodeAt(c+1);if(2>e||128!=(g&192))break;a+=String.fromCharCode((f&63)<<6|g&63);c+=2;e-=2}else if(224==(f&240)){g=d.charCodeAt(c+1);h=d.charCodeAt(c+2);if(3>e||128!=(g&192)||128!=(h&192))break;a+=String.fromCharCode((f&15)<<12|(g&63)<<6|h&63);c+=3;e-=3}else break;return 0!=e?"":a}function CharToHex(d){var a,b,c,e;a="";c=d.length;for(b=0;b<c;)e=d.charCodeAt(b++),e=e.toString(16),2>e.length&&(e="0"+e),a+="\\x"+e+" ",0<b&&0==b%8&&(a+="\r\n");return a}function getCookie(d){return 0<document.cookie.length&&(c_start=document.cookie.indexOf(d+"\x3d"),-1!=c_start)?(c_start=c_start+d.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function setCookie(d,a,b){var c=new Date;c.setDate(c.getDate()+b);d=d+"\x3d"+escape(a)+(null==b?"":";expires\x3d"+c.toGMTString());document.cookie=d}function getCookieIntValue(d,a){var b=getCookie(d);return""==b?a:parseInt(b)}function getCookieStrValue(d,a){var b=getCookie(d);return""==b?a:b}function IsCookiesUsed(){return 0<document.cookie.length}var xmlForNONE=-1,xmlForNotIE=0,xmlForIE=1;function CXmlParse(){this.oXmlDoc=null;this.nType=xmlForNONE;this.loadXMLFile=function(d){try{this.oXmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.nType=xmlForIE}catch(a){try{this.oXmlDoc=document.implementation.createDocument("","",null),this.nType=xmlForNotIE}catch(b){return alert(b.message),this.nType=xmlForNONE,!1}}try{this.oXmlDoc.async=!1,this.oXmlDoc.load(d),alert(d)}catch(a){return alert(a.message),this.nType=xmlForNONE,!1}return!0};this.loadXml=function(d){try{this.oXmlDoc=(new DOMParser).parseFromString(d,"text/xml"),this.nType=xmlForNotIE}catch(a){try{this.oXmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.nType=xmlForIE,this.oXmlDoc.async=!1,this.oXmlDoc.loadXML(d)}catch(b){return this.nType=xmlForNONE,!1}}return!0};this.queryNodes=function(d){return this.nType==xmlForNONE?null:this.nType==xmlForNotIE?this.oXmlDoc.getElementsByTagName(d):this.oXmlDoc.selectNodes(d)};this.queryNode=function(d){return this.nType==xmlForNONE?null:this.nType==xmlForNotIE?(d=this.oXmlDoc.getElementsByTagName(d),0<d.length?d[0]:null):this.oXmlDoc.selectSingleNode(d)};this.queryNodeValue=function(d){return this.nType==xmlForNONE?"":this.nType==xmlForNotIE?null==d?"":d.textContent:null!=d?d.text:""};this.queryNodeValueByPath=function(d){return this.nType==xmlForNONE?"":this.queryNodeValue(this.queryNode(d))};this.queryChildNodeValue=function(d,a){if(this.nType==xmlForNONE)return"";if(this.nType==xmlForNotIE&&null!=d){var b=d.childNodes;if(null==b)return"";for(var c=0;c<b.length;c++)if(b[c].nodeName==a)return b[c].textContent}return""};this.queryChildNodeAttribute=function(d,a,b){if(this.nType==xmlForNONE)return"";if(this.nType==xmlForNotIE&&null!=d){d=d.childNodes;if(null==d)return"";for(var c=0;c<d.length;c++)if(d[c].nodeName==a)return this.queryNodeAttribute(d[c],b)}return""};this.queryNodeAttribute=function(d,a){return this.nType==xmlForNONE?"":this.nType==xmlForNotIE?null==d?"":d.getAttribute(a):d&&d.attributes?null!=d.attributes[a]?d.attributes[a].value:null!=d.attributes.getNamedItem(a)?d.attributes.getNamedItem(a).value:"":""};this.queryNodeAttributeByPath=function(d,a){return this.nType==xmlForNONE?"":this.queryNodeAttribute(this.queryNode(d),a)};this.close=function(){this.nType=this.oXmlDoc=null};return this}function CHtmlBarControl(d){function a(){this.code=0;this.description="";this.level=0;return this}this._language=d;this._arrErrorInfo=[];this._loadErrorInfo=function(){for(var a=G_AppJVccbarConst.barDescription,c=0;c<a.length;c++){var e=this._language==lg_zhcn?a[c].des:a[c].eng_des;""==e&&(e=a[c].eng_des);this._addItem(a[c].id,a[c].level,e)}};this._addItem=function(b,c,e){var d=new a;d.code=b;d.level=c;d.description=e;this._arrErrorInfo.push(d)};this.GetErrorItemDes=function(a){for(var b=0;b<this._arrErrorInfo.length;b++)if(this._arrErrorInfo[b].code==a)return this._arrErrorInfo[b].description;return""};this._loadErrorInfo();return this}var TIMER_AUTO=0,TIMER_HANDLE=1,Timer_Debug=0;function JTime(){this.id=-1;this.interval=0;this.intervalCount=this.intervalMax=-1;this.check=!1;this.lastTimer="";return this}function JTimerEx(d){"undefined"==typeof d&&(d=1E3);this._cellInterVal=d;this._bStart=!1;this._onTimerCallBackEvent=null;this._timers=[];this._timerType=TIMER_AUTO;this._timerID=null;this._tag="TIME_"+getCurrentTimeString();this.SetTimerCallBack=function(a){this._onTimerCallBackEvent=a};this.IsProcess=function(){return this._bStart};this.OnTimer=function(){if(null!=this._onTimerCallBackEvent)for(var a=0;a<this._timers.length;a++)if(!(0>=this._timers[a].intervalMax))if(this._timers[a].intervalCount++,1==this._timers[a].check)if(""==this._timers[a].lastTimer)this._timers[a].intervalCount>=this._timers[a].intervalMax&&(this._timers[a].intervalCount=0,this._onTimerCallBackEvent(this._timers[a].id),this._timers[a].lastTimer=getFormateDateTimeString());else{var b=getFormateDateTimeString(),c=getStringTimerInterval(this._timers[a].lastTimer,b);if(this._timers[a].intervalCount>=this._timers[a].intervalMax||c>=this._timers[a].intervalMax)Timer_Debug&&DisplayLog(VccBar_Log_Info,stringFormat("JTimerEx:callbackEvent(id\x3d{0} intervalMax\x3d{1})",this._timers[a].id,this._timers[a].intervalMax)),this._timers[a].intervalCount=0,this._timers[a].lastTimer=b,this._onTimerCallBackEvent(this._timers[a].id)}else this._timers[a].intervalCount>=this._timers[a].intervalMax&&(this._timers[a].intervalCount=0,this._onTimerCallBackEvent(this._timers[a].id))};this.Start=function(){if(!this._bStart){if(this._timerType==TIMER_AUTO){var a=this;a._timerID=setInterval(function(){a.OnTimer()},a._cellInterVal)}this._bStart=!0}};this.Stop=function(){this._bStart&&(null!=this._timerID&&(clearInterval(this._timerID),this._timerID=null),this._bStart=!1)};this.SetTimer=function(a,b,c){if(0>a||0>=b)return-1;Timer_Debug&&DisplayLog(VccBar_Log_Info,stringFormat("JTimerEx:SetTimer(id\x3d{0} interval\x3d{1})",a,b));if(-1!=this._getTimerIndex(a))return this.Reset(a),-3;var e=new JTime;e.id=a;e.interval=b;e.intervalMax=b/this._cellInterVal;e.check=c;this._timers.push(e);Timer_Debug&&DisplayLog(VccBar_Log_Info,stringFormat("JTimerEx:SetTimered(id\x3d{0} interval\x3d{1} interMax\x3d{2})",e.id,e.interval,e.intervalMax));this._display();return this._timers.length-1};this.KillTimer=function(a){var b=this._getTimerIndex(a);Timer_Debug&&DisplayLog(VccBar_Log_Info,stringFormat("JTimerEx:KillTimer(id\x3d{0} )",a));-1!=b&&(a=this._timers[b],Timer_Debug&&DisplayLog(VccBar_Log_Info,stringFormat("JTimerEx:KillTimered(id\x3d{0} interval\x3d{1} interMax\x3d{2})",a.id,a.interval,a.intervalMax)),this._timers.splice(b,1));this._display()};this.Reset=function(a){a=this._getTimerIndex(a);-1!=a&&(this._timers[a].intervalCount=0)};this._getTimerIndex=function(a){for(var b=0;b<this._timers.length;b++)if(this._timers[b].id==a)return b;return-1};this._display=function(){if(Timer_Debug)for(var a=0;a<this._timers.length;a++){var b=this._timers[a];DisplayLog(VccBar_Log_Info,stringFormat("TimerItem[{0}]:(id\x3d{1} interval\x3d{2} interMax\x3d{3})",a,b.id,b.interval,b.intervalMax))}};return this}function CJVccLog(){this._SourceMaxLen=this._maxLen=-1;this._upload=!1;this._data=[];this._addBrowerInfo=function(){this._data.push(navigator.userAgent.toLowerCase())};this.SetMaxLen=function(d){1E4>d?(this._maxLen=1E4,this._SourceMaxLen=0):this._SourceMaxLen=this._maxLen=d};this.InsertLogItem=function(d,a,b){-1!=this._maxLen&&(0==this._data.length&&this._addBrowerInfo(),this._data.push(d),0==this._SourceMaxLen?this._data.length>=this._maxLen&&this.DelLog(!1):this._data.length>=this._maxLen&&3!=a&&0==this._upload?(this._upload=!0,b(!0)):b(!1))};this.GetLogText=function(){return this._data.join("\n")};this.DelLog=function(d){d?this._data.splice(0,this._data.length):this._data.splice(0,100);this._upload=!1};return this}var JVccBar_Main_CFG=1,JVccBar_Backup_CFG=0;function JVccBar(d){this.app=d;this.oBarControl=null;this._language=getLocalLanguage();this.workStatus=-1;this.oBarCtrl=null;this.errCode=this.errDescription="";this.oMonitorDataManager=this.oMonitorCtrl=null;this.arrBarEvent="OnCallRing AnswerCall OnAnswerCall OnCallEnd OnPrompt OnReportBtnStatus OnInitalSuccess OnInitalFailure OnEventPrompt OnAgentWorkReport OnCallDataChanged OnBarExit OnCallQueueQuery OnQueryGroupAgentStatus OnSystemMessage OnRecvWeiboMsg OnIMMessage OnRecvWeChatMessage OnSendWeChatMsgReport OnUploadFileToMMSReport OnDownloadFileToMMSReport OnWorkStaticInfoReport OnQueueReport OnQuerySPGroupList OnUpdateVideoWindow OnSessionMessage OnRtpStatics OnAgentBusyReason OnAgentStatus OnAgentLogUpload OnAsrEventReport OnStopSmSuccess OnUpdateMediaEvent OnStopCaptureSuccess OnMethodResponseEvent OnAgentReport OnTelReport OnServiceReport OnIvrReport OnTaskReport OnOutboundReport OnCallReportInfo OnQueryMonitorSumReport OnWallServiceReport OnWallQueueReport OnServiceStaticReport OnAgentStaticReport OnTrunkReport OnTrunkSumReport OnCallCdrReport OnAgentStatusTimeChange OnDebug".split(" ");this._listeners={};this.arrBarMethodCallBack={SetBusy:null,SetIdle:null,SetWrapUp:null,SetCTICalloutTask:null,GetCTICalloutTask:null,GetCallData:null,SetCallData:null,GetTransfer:null,SetTransfer:null,ChangeCallQueue:null,QuerySPGroupList:null,SetTransparentParameter:null,SetDisplayNumber:null,GetDisplayNumber:null,CallQueueQuery:null,QueryGroupAgentStatus:null,QueryPreViewCallOutNumbers:null,SetWeChatQueueFlag:null,GetWeChatQueueFlag:null,TransferCallQueue:null,SetActiveService:null,GetActiveService:null,SetForwardNumber:null,GetForwardNumber:null,SetAgentReservedStatus:null,SetMMService:null,DeleteCaptureFile:null,GetAgentLogFile:null,MakeCall:null,CallIn:null,TransferOut:null,Hold:null,RetrieveHold:null,Disconnect:null,Answer:null,Consult:null,Transfer:null,Conference:null,SendDTMF:null,BeginPlay:null,StopPlay:null,Bridge:null,Mute:null,AlterNate:null,CallBack:null,ReCall:null,SMMsg:null,ReleaseThirdOne:null,BeginCollect:null,StopCollect:null,ForceReset:null,SendIMMessage:null,UpdateMedia:null,BeginCapture:null,Connect:null,ReleaseConnectOne:null,MultiConfTransfer:null,ModifyVideoStream:null,ForeReleaseCall:null,Insert:null,Listen:null,Intercept:null,Lock:null,UnLock:null,ForceIdle:null,ForceBusy:null,ForceOut:null,Help:null,InitialState:null,AgentQuery:null,TelQuery:null,IvrQuery:null,ServiceQuery:null,TaskQuery:null,CallReportQuery:null,GetTaskSummary:null,QueryMonitorSumInfo:null,StartNotification:null,EndNotification:null,TrunkQuery:null,MMServiceQuery:null,AgentStateQuery:null};this.barconfig={cfgType:JVccBar_Main_CFG,agentConfig:null,agentBackConfig:null};this._agentBackConfig=this._agentConfig=null;this._appType=-1;this._createObject=function(){null==this.oBarControl&&(this.oBarControl=new CHtmlBarControl(getLocalLanguage()));this.oBarCtrl=new JVccBarCtrl({app:this.app});this.SetAttribute("AgentType",0);this.SetAttribute("PassWord","$jerks");this.SetAttribute("MainPortID",14800);this.SetAttribute("BackPortID",14800);this.SetAttribute("TaskID","0");this.SetAttribute("MonitorPort",4502);this.SetAttribute("AppType",0);this.SetAttribute("SipServerPort",5060);this.SetAttribute("SipPassWord","4gfytty3");this.SetAttribute("SipProtocol","UDP");this.SetAttribute("SipPassWdCryptType",0);this.SetAttribute("SipAuthType",1);this.SetAttribute("PhonType",0);this.SetAttribute("SelfPrompt",0);this.SetAttribute("forceEndProcess",g_DebugFlag);this.SetAttribute("ProtocolType",1);this.SetAttribute("TransportType",0);this.oBarCtrl.oParent=this;this.oBarCtrl.attachEventfun(this._eventFunction);this.oBarCtrl.attachResponsefun(this._responseFunction)};this._responseFunction=function(a,b){DisplayLog(VccBar_Log_Debug,"JVccBar:OnMethodResponseEvent(cmdName:\u3010"+a+"\u3011 param: \u3010"+b+"\u3011)");var c=this.oParent;"GetWeChatParam"==a?null!=c.app.oWechatManager&&c.app.oWechatManager.SetUserInfo(b):"Initial"==a&&"-2"==b&&alert(G_AppJVccbarConst.getConstDes(const_des_versiotip,c._language));"CallOutside"==a?a="MakeCall":"CallInside"==a&&(a="CallIn");c._invokeCmdCallBack(a,b);c.OnMethodResponseEvent(a,b);null!=c.oMonitorDataManager&&("InitialState"!=a&&"AgentQuery"!=a&&"TelQuery"!=a&&"IvrQuery"!=a&&"TrunkQuery"!=a&&"ServiceQuery"!=a&&"TaskQuery"!=a&&"CallReportQuery"!=a&&"CallReportQuery30"!=a&&"GetTaskSummary"!=a&&"QueryMonitorSumInfo"!=a&&"StartNotification"!=a&&"EndNotification"!=a||c.oMonitorDataManager.__OnMonitorMethodResponseEvent(a,b))};this._invokeCmdCallBack=function(a,b){if("undefined"!=typeof this.arrBarMethodCallBack[a]&&null!=this.arrBarMethodCallBack[a])try{this.arrBarMethodCallBack[a]({data:b})}catch(c){console.info(c),this.arrBarMethodCallBack[a]=null}};this._bindCmdCallBack=function(a,b){"undefined"!=typeof this.arrBarMethodCallBack[a]&&"undefined"!=typeof b&&"function"==typeof b&&(this.arrBarMethodCallBack[a]=b)};this._eventFunction=function(a,b){if(null==b||"undefined"==typeof b)b="";var c;try{c=b.split("|")}catch(h){}DisplayLog(VccBar_Log_Debug,"JVccBar:_eventFunction(cmdIndex\x3d"+a+",param\x3d"+b+")");var e=this.oParent;switch(a){case eventOnCallRing:var d=c[7];"1"==c[21]&&(d=GetGBKFromBase64(d));DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnCallRing({0},{1},{2},{3},{4},{5},{6},{7},{8},{9},{10},{11},{12},{13},{14},{15},{16},{17},{18}),{19},{20},{21})",c[0],c[1],c[2],c[3],c[4],c[5],c[6],d,c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17],c[18],c[19],c[20],c[22]));e.OnCallRing(c[0],c[1],c[2],c[3],c[4],c[5],c[6],d,c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17],c[18],c[19],c[20],c[22]);e.__emit("OnCallRing",c[0],c[1],c[2],c[3],c[4],c[5],c[6],d,c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15],c[16],c[17],c[18],c[19],c[20],c[22]);break;case eventOnAnswerCall:e.GetBarCtrl().IsSurpportVideoBypass()&&e._bindSipCtrlEvent();d=c[5];"1"==c[9]&&(d=GetGBKFromBase64(d));DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnAnswerCall({0},{1},{2},{3},{4},{5},{6},{7},{8})",c[0],c[1],c[2],c[3],c[4],d,c[6],c[7],c[8]));e.AnswerCall(c[0],c[1],c[2],c[3],c[4],d,c[6],c[7],c[8]);e.__emit("AnswerCall",c[0],c[1],c[2],c[3],c[4],d,c[6],c[7],c[8]);e.OnAnswerCall(c[0],c[1],c[2],c[3],c[4],d,c[6],c[7],c[8]);e.__emit("OnAnswerCall",c[0],c[1],c[2],c[3],c[4],d,c[6],c[7],c[8]);break;case eventOnCallEnd:d=c[11];"1"==c[16]&&(d=GetGBKFromBase64(d));DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnCallEnd({0},{1},{2},{3},{4},{5},{6},{7},{8},{9},{10},{11},{12},{13},{14},{15})",c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],d,c[12],c[13],c[14],c[15]));e.OnCallEnd(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],d,c[12],c[13],c[14],c[15]);e.__emit("OnCallEnd",c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],d,c[12],c[13],c[14],c[15]);break;case eventOnPrompt:var d=c[0],g=g=c[1];""==g&&(g=e.oBarControl.GetErrorItemDes(d));if(-1==d&&""==g)break;if("4401"==d){if(e._isExchangeBackup())break;e.errDescription=c[1]+":"+e.oBarControl.GetErrorItemDes(c[1]);e.errCode=c[1];g=g+" "+G_AppJVccbarConst.getConstDes(const_des_cause,e._language)+":"+e.errDescription}"4316"==d&&(e.errDescription=c[1],e.errCode=getSubString(e.errDescription,"",":"),g=G_AppJVccbarConst.getConstDes(const_des_cause,e._language)+":"+e.errDescription);DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnPrompt({0},{1})",c[0],g));e.OnPrompt(c[0],g);e.__emit("OnPrompt",c[0],g);4409==c[0]&&null!=e.__OnMonitorMethodResponseEvent&&e.oMonitorDataManager.__OnAgentMonitorSignIn();break;case eventOnReportBtnStatus:null!=e.oMonitorDataManager&&e.oMonitorDataManager.__SetReportBtnStatus(b,e.GetAgentStatus());DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnReportBtnStatus({0})",b));e.OnReportBtnStatus(b);DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnAgentStatus({0})",e.GetAgentStatus()));e.__emit("OnReportBtnStatus",b);e.OnAgentStatus(e.GetAgentStatus());break;case eventOnInitalSuccess:DisplayLog(VccBar_Log_Info,"JVccBar::OnInitalSuccess()");e.OnInitalSuccess();e._bindSipCtrlEvent();e.__emit("OnInitalSuccess");break;case eventOnInitalFailure:if(e.barconfig.cfgType==JVccBar_Main_CFG&&e._isExchangeBackup()){e.barconfig.cfgType=JVccBar_Backup_CFG;e._updateAgentInfo(e.barconfig.agentBackConfig);e.oBarCtrl.Initial(e.barconfig.cfgType);break}g=e.oBarControl.GetErrorItemDes(c[0]);g=g+" "+G_AppJVccbarConst.getConstDes(const_des_cause,e._language)+":"+e.errDescription;DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnInitalFailure({0},{1},{2})",c[0],g,e.errCode));e.OnInitalFailure(c[0],g,e.errCode);e.__emit("OnInitalFailure",c[0],g,e.errCode);break;case eventOnEventPrompt:d=c[0];c=c[1];if("130"==d||"126"==d)c=getSubString(b,"|","");DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnEventPrompt({0},{1})",d,c));e.OnEventPrompt(d,c);e.__emit("OnEventPrompt",d,c);break;case eventOnAgentWorkReport:if(e.workStatus==parseInt(c[0]))break;e.workStatus=parseInt(c[0]);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__SetAgentWorkReport(e.GetAttribute("AgentID"),e.GetAgentStatus(),parseInt(c[0]));DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnAgentWorkReport({0},{1})",c[0],c[1]));e.OnAgentWorkReport(c[0],c[1]);e.__emit("OnAgentWorkReport",c[0],c[1]);break;case eventOnCallDataChanged:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnCallDataChanged({0})",b));e.OnCallDataChanged(b);e.__emit("OnCallDataChanged",b);break;case eventOnBarExit:if(e.barconfig.cfgType==JVccBar_Main_CFG&&e._isExchangeBackup()){e.barconfig.cfgType=JVccBar_Backup_CFG;e._updateAgentInfo(e.barconfig.agentBackConfig);e.oBarCtrl.Initial(e.barconfig.cfgType);break}else if(e.barconfig.cfgType==JVccBar_Backup_CFG&&null!=e.barconfig.agentConfig){e.barconfig.cfgType=JVccBar_Main_CFG;e._updateAgentInfo(e.barconfig.agentConfig);e.oBarCtrl.Initial(e.barconfig.cfgType);break}g=e.oBarControl.GetErrorItemDes(c[0]);""==g&&(g=c[1]);DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnBarExit({0},{1})",c[0],g));e.OnBarExit(c[0],g);e.__emit("OnBarExit",c[0],g);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnAgentMonitorSignOut("");break;case eventOnCallQueueQuery:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnCallQueueQuery({0})",b));e.OnCallQueueQuery(b);e.__emit("OnCallQueueQuery",b);break;case eventOnQueryGroupAgentStatus:d=b.split("@");c=this.GetDataFromBase64(c[0]);g="0";1<d.length&&(g=d[1]);DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnQueryGroupAgentStatus({0},{1})",c,g));e.OnQueryGroupAgentStatus(c,g);e.__emit("OnQueryGroupAgentStatus",c,g);break;case eventOnSystemMessage:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnSystemMessage({0},{1})",c[0],c[1]));e.OnSystemMessage(c[0],c[1]);e.__emit("OnSystemMessage",c[0],c[1]);break;case eventOnRecvWeiboMsg:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnRecvWeiboMsg({0})",b));e.OnRecvWeiboMsg(b);e.__emit("OnRecvWeiboMsg",b);break;case eventOnIMMessage:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnIMMessage({0},{1})",c[0],c[1]));e.OnIMMessage(c[0],c[1]);e.__emit("OnIMMessage",c[0],c[1]);break;case eventOnRecvWeChatMessage:null!=e.app.oWechatManager&&e.app.oWechatManager.OnSaveRecvMessageReport(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13]);e.OnRecvWeChatMessage(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13]);e.__emit("OnRecvWeChatMessage",c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13]);break;case eventOnSendWeChatMsgReport:null!=e.app.oWechatManager&&e.app.oWechatManager.OnSaveSendMessageReport(c[0],c[1],c[2],c[3],c[4],c[5]);e.OnSendWeChatMsgReport(c[0],c[1],c[2],c[3],c[4],c[5]);e.__emit("OnSendWeChatMsgReport",c[0],c[1],c[2],c[3],c[4],c[5]);break;case eventOnUploadFileToMMSReport:null!=e.app.oWechatManager&&e.app.oWechatManager.OnInvokeUploadFileToMMSReport(c[0],c[1],c[2]);e.OnUploadFileToMMSReport(c[0],c[1],c[2]);e.__emit("OnUploadFileToMMSReport",c[0],c[1],c[2]);break;case eventOnDownloadFileToMMSReport:null!=e.app.oWechatManager&&e.app.oWechatManager.OnInvokeDownFileFromMMSReport(c[0],c[1],c[2],c[3]);e.OnDownloadFileToMMSReport(c[0],c[1],c[2],c[3]);e.__emit("OnDownloadFileToMMSReport",c[0],c[1],c[2],c[3]);break;case eventOnWorkStaticInfoReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnWorkStaticInfoReport({0})",b));e.OnWorkStaticInfoReport(b);e.__emit("OnWorkStaticInfoReport",b);break;case eventOnAQueryCTIInfoReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnQuerySPGroupList({0},{1})",c[0],getSubString(b,"|","")));e.OnQuerySPGroupList(c[0],getSubString(b,"|",""));e.__emit("OnQuerySPGroupList",c[0],getSubString(b,"|",""));break;case eventOnAgentBusyReasonReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnAgentBusyReason({0},{1})",c[0],getSubString(b,"|","")));e.OnAgentBusyReason(c[0],getSubString(b,"|",""));e.__emit("OnAgentBusyReason",c[0],getSubString(b,"|",""));break;case eventOnAsrEventReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnAsrEventReport({0},{1},{2},{3},{4},{5})",c[0],c[1],c[2],c[3],c[4],c[5]));e.OnAsrEventReport(c[0],c[1],c[2],c[3],c[4],c[5]);e.__emit("OnAsrEventReport",c[0],c[1],c[2],c[3],c[4],c[5]);break;case eventOnStopSmSuccess:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnStopSmSuccess({0})",b));e.OnStopSmSuccess(b);e.__emit("OnStopSmSuccess",b);break;case eventOnUpdateMediaEvent:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnUpdateMediaEvent({0},{1},{2})",c[0],c[1],c[2]));e.OnUpdateMediaEvent(c[0],c[1],c[2]);e.__emit("OnUpdateMediaEvent",c[0],c[1],c[2]);break;case eventOnStopCaptureSuccess:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnStopCaptureSuccess({0},{1})",c[0],c[1]));e.OnStopCaptureSuccess(c[0],c[1]);e.__emit("OnStopCaptureSuccess",c[0],c[1]);break;case eventOnCallCdrReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnCallCdrReport({0},{1},{2},{3},{4},{5},{6},{7},{8},{9},{10},{11},{12},{13},{14},{15})",c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]));e.OnCallCdrReport(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]);e.__emit("OnCallCdrReport",c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]);break;case eventOnQueueReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnQueueReport({0})",b));e.OnQueueReport(b);e.__emit("OnQueueReport",b);break;case eventOnAgentLogUploadReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnAgentLogUpload({0},{1},{2},{3},{4},{5})",c[0],c[1],c[2],c[3],c[4],c[5]));e.OnAgentLogUpload(c[0],parseInt(c[1]),c[2],c[3],c[4],c[5]);e.__emit("OnAgentLogUpload",c[0],parseInt(c[1]),c[2],c[3],c[4],c[5]);break;case eventOnAgentReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnAgentReport({0})",b));e.OnAgentReport(b);e.__emit("OnAgentReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnAgentReport(b);break;case eventOnTelReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnTelReport({0})",b));e.OnTelReport(b);e.__emit("OnTelReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnTelReport(b);break;case eventOnServiceReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnServiceReport({0})",b));e.OnServiceReport(b);e.__emit("OnServiceReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnServiceReport(b);break;case eventOnIvrReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnIvrReport({0})",b));e.OnIvrReport(b);e.__emit("OnIvrReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnIvrReport(b);break;case eventOnTrunkReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnTrunkReport({0})",b));e.OnTrunkReport(b);e.__emit("OnTrunkReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnTrunkReport(b);break;case eventOnTrunkSumReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnTrunkSumReport({0})",b));e.OnTrunkSumReport(b);e.__emit("OnTrunkSumReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnTrunkSumReport(b);break;case eventOnTaskReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnTaskReport({0})",b));e.OnTaskReport(b);e.__emit("OnTaskReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnTaskReport(b);break;case eventOnOutboundReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnOutboundReport({0})",b));e.OnOutboundReport(b);e.__emit("OnOutboundReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnOutboundReport(b);break;case eventOnCallReportInfo:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnCallReportInfo({0})",b));e.OnCallReportInfo(b);e.__emit("OnCallReportInfo",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnCallReportInfo(b);break;case eventOnQueryMonitorSumReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnQueryMonitorSumReport({0},{1})",c[0],c[1]));e.OnQueryMonitorSumReport(c[0],c[1]);e.__emit("OnQueryMonitorSumReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnQueryMonitorSumReport(c[0],c[1]);break;case eventOnWallServiceReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnWallServiceReport({0})",b));e.OnWallServiceReport(b);e.__emit("OnWallServiceReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnWallServiceReport(b);break;case eventOnWallQueueReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnWallQueueReport({0})",b));e.OnWallQueueReport(b);e.__emit("OnWallQueueReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnWallQueueReport(b);break;case eventOnServiceStaticReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnServiceStaticReport({0})",b));e.OnServiceStaticReport(b);e.__emit("OnServiceStaticReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnServiceStaticReport(b);break;case eventOnAgentStaticReport:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnAgentStaticReport({0})",b));e.OnAgentStaticReport(b);e.__emit("OnAgentStaticReport",b);null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnAgentStaticReport(b);break;case eventOnAgentMonitorSignOut:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::__OnAgentMonitorSignOut({0})",b));null!=e.oMonitorDataManager&&e.oMonitorDataManager.__OnAgentMonitorSignOut(b);e.__emit("OnAgentMonitorSignOut",b);break;case eventOnWebsocketSocket:DisplayLog(VccBar_Log_Info,stringFormat("JVccBar::OnPrompt({0},{1})",c[0],c[1])),e.OnPrompt(c[0],c[1]),e.__emit("OnPrompt",c[0],c[1])}};this._bindSipCtrlEvent=function(){if(null!=this.oBarCtrl.GetSipCtrl()){var a=this;this.oBarCtrl.GetSipCtrl().OnUpdateVideoWindow=function(b){a.__emit("OnUpdateVideoWindow",b);a.OnUpdateVideoWindow(b)};this.oBarCtrl.GetSipCtrl().OnMessage=function(b,c,e,d){b=a.GetDataFromBase64(c);a.__emit("OnSessionMessage",b);a.OnSessionMessage(b)};this.oBarCtrl.GetSipCtrl().OnRtpStatics=function(b){a.__emit("OnRtpStatics",b);a.OnRtpStatics(b)}}};this._isExchangeBackup=function(){return null!=this.barconfig.agentBackConfig};this._updateAgentInfo=function(a){if(null!=a){if(!a.MainIP||!a.MainPortID)return console.error("CTI setting error",a),-1;if("undefined"==typeof a.AppType)return console.error("AppType undefine",a),-1;if(1==a.AppType||2==a.AppType)if(!a.MonitorIP||!a.MonitorPort)return console.error("MonitorID setting error",a),-1;if(!a.MediaFlag)return console.error("MediaFlag undefine",a),-1;if(!a.AgentID)return console.error("AgentID undefine",a),-1;if(!a.Dn)return console.error("Dn undefine",a),-1;this.SetAttribute("MainIP",a.MainIP);this.SetAttribute("MainPortID",a.MainPortID);this.SetAttribute("MonitorIP",a.MonitorIP||a.MainIP);this.SetAttribute("MonitorPort",a.MonitorPort||a.MainPortID);this.SetAttribute("CtiXPath",a.CtiXPath||"cti");this.SetAttribute("MonitorXPath",a.MonitorXPath||"monitor");this.SetAttribute("AppType",a.AppType);this.SetAttribute("MediaFlag",a.MediaFlag);this.SetAttribute("AgentID",a.AgentID);this.SetAttribute("Dn",a.Dn);this.SetAttribute("PassWord",a.PassWord);this.SetAttribute("SelfPrompt",a.SelfPrompt||0);this.SetAttribute("TaskID",a.TaskID||"");this.SetAttribute("SipServerIP",a.SipServerIP||a.MainIP);this.SetAttribute("SipServerPort",a.SipServerPort||a.MainPortID);this.SetAttribute("SipProtocol",a.SipProtocol||"wss");this.SetAttribute("SipXPath",a.SipXPath||"acd");this.SetAttribute("SipPassWord",a.SipPassWord);this.SetAttribute("ProtocolType",a.ProtocolType||1);this.SetAttribute("TransportType",a.TransportType||0);this.SetAttribute("AgoraProxy",a.Proxy||!1)}};this.SetAttribute=function(a,b){"AppType"==a?this._appType=b:"AutoUpdateURL"==a&&""!=b&&(b="/"==b.charAt(b.length-1)?b+"JVccBar/version/update":b+"/JVccBar/version/update");this.oBarCtrl.SetCtrlAttribute(a,b)};this.GetAttribute=function(a){return this.oBarCtrl.GetCtrlAttribute(a)};this.SetAgentInfo=function(a){this.barconfig.agentConfig=a;this.barconfig.cfgType=JVccBar_Main_CFG;this._updateAgentInfo(a)};this.SetBackAgentInfo=function(a){this.barconfig.agentBackConfig=a};this.Initial=function(){return 0==this._appType||1==this._appType||2==this._appType?this.oBarCtrl.Initial():-1};this.SerialBtn=function(a,b){return this.oBarCtrl.SerialBtn(a,b)};this.GetBtnStatus=function(a){return this.oBarCtrl.GetBtnStatus(a)};this.Configurate=function(a){return this.oBarCtrl.Configurate(a)};this.GetConfiguration=function(){return this.oBarCtrl.GetConfiguration()};this.UnInitial=function(a){"undefined"==typeof a&&(a=0);return this.oBarCtrl.UnInitial(a)};this.SetUIStyle=function(a){return this.oBarCtrl.SetUIStyle(a)};this.GetVersion=function(){return this.oBarCtrl.GetVersion()};this.SetBusy=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("SetBusy",a.callback),this.oBarCtrl.SetBusy(a.subStatus);this._bindCmdCallBack("SetBusy",b);return this.oBarCtrl.SetBusy(a)};this.SetIdle=function(a){if(a instanceof Object)return this._bindCmdCallBack("SetIdle",a.callback),this.oBarCtrl.SetIdle();this._bindCmdCallBack("SetIdle",a);return this.oBarCtrl.SetIdle()};this.SetWrapUp=function(a){var b=this.GetAgentStatus();if(1!=b&&2!=b)return-1;if(a instanceof Object)return this._bindCmdCallBack("SetWrapUp",a.callback),this.oBarCtrl.SetWrapUp();this._bindCmdCallBack("SetWrapUp",a);return this.oBarCtrl.SetWrapUp()};this.SetCTICalloutTask=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("SetCTICalloutTask",a.callback),this.oBarCtrl.SetCTICalloutTask(a);this._bindCmdCallBack("SetCTICalloutTask",b);return this.oBarCtrl.SetCTICalloutTask(a)};this.GetCTICalloutTask=function(a){if(a instanceof Object)return this._bindCmdCallBack("GetCTICalloutTask",a.callback),this.oBarCtrl.GetCTICalloutTask();this._bindCmdCallBack("GetCTICalloutTask",a);return this.oBarCtrl.GetCTICalloutTask()};this.GetCallData=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("GetCallData",a.callback),this.oBarCtrl.GetCallData(a.destAgentID);this._bindCmdCallBack("GetCallData",b);return this.oBarCtrl.GetCallData(a)};this.SetCallData=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("SetCallData",a.callback),this.oBarCtrl.SetCallData(a.destAgentID,a.calldata);this._bindCmdCallBack("SetCallData",c);return this.oBarCtrl.SetCallData(a,b)};this.GetTransfer=function(a){if(a instanceof Object)return this._bindCmdCallBack("GetTransfer",a.callback),this.oBarCtrl.GetTransfer();this._bindCmdCallBack("GetTransfer",a);return this.oBarCtrl.GetTransfer()};this.SetTransfer=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("SetTransfer",a.callback),this.oBarCtrl.SetTransfer(a.forwardDeviceID,a.forwardState,a.answerType);this._bindCmdCallBack("SetTransfer",e);return this.oBarCtrl.SetTransfer(a,b,c)};this.ChangeCallQueue=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("ChangeCallQueue",a.callback),this.oBarCtrl.ChangeCallQueue(a.calling,a.queuekey,a.orderid);this._bindCmdCallBack("ChangeCallQueue",e);return this.oBarCtrl.ChangeCallQueue(a,b,c)};this.GetCallID=function(){return this.oBarCtrl.GetCallID()};this.QuerySPGroupList=function(a,b,c,e,d,g,h){if(a instanceof Object)return this._bindCmdCallBack("QuerySPGroupList",a.callback),this.oBarCtrl.QuerySPGroupList(a.groupID,a.agentStatus,a.cmdType,a.checkAuthor,a.action,a.interval);this._bindCmdCallBack("QuerySPGroupList",h);return this.oBarCtrl.QuerySPGroupList(a,b,c,e,d,g)};this.GetCallInfo=function(){return this.oBarCtrl.GetCallInfo()};this.SetTransparentParameter=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("SetTransparentParameter",a.callback),this.oBarCtrl.SetTransparentParameter(a.transparentParam);this._bindCmdCallBack("SetTransparentParameter",b);return this.oBarCtrl.SetTransparentParameter(a)};this.GetAgentStatus=function(){return this.oBarCtrl.GetAgentStatus()};this.GetAgentSubBusyStatus=function(){return this.oBarCtrl.GetAgentSubBusyStatus()};this.GetBusySubStatus=function(){return this.oBarCtrl.GetBusySubStatus()};this.SetDisplayNumber=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("SetDisplayNumber",a.callback),this.oBarCtrl.SetDisplayNumber(a.destNum);this._bindCmdCallBack("SetDisplayNumber",b);return this.oBarCtrl.SetDisplayNumber(a)};this.GetDisplayNumber=function(a){if(a instanceof Object)return this._bindCmdCallBack("GetDisplayNumber",a.callback),this.oBarCtrl.GetDisplayNumber();this._bindCmdCallBack("GetDisplayNumber",a);return this.oBarCtrl.GetDisplayNumber()};this.CallQueueQuery=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("CallQueueQuery",a.callback),this.oBarCtrl.CallQueueQuery(a.serviceID,a.action,a.interval);this._bindCmdCallBack("CallQueueQuery",e);return this.oBarCtrl.CallQueueQuery(a,b,c)};this.QueryGroupAgentStatus=function(a,b,c,e,d){if(a instanceof Object)return this._bindCmdCallBack("QueryGroupAgentStatus",a.callback),this.oBarCtrl.QueryGroupAgentStatus(a.groupIDs,a.action,a.interval,a.type);this._bindCmdCallBack("QueryGroupAgentStatus",d);"undefined"==typeof e&&(e=0);return this.oBarCtrl.QueryGroupAgentStatus(a,b,c,e)};this.QueryPreViewCallOutNumbers=function(a,b,c,e,d){if(a instanceof Object)return this._bindCmdCallBack("QueryPreViewCallOutNumbers",a.callback),this.oBarCtrl.QueryPreViewCallOutNumbers(a.serviceNum,a.agentID,a.num,a.realloc);this._bindCmdCallBack("QueryPreViewCallOutNumbers",d);return this.oBarCtrl.QueryPreViewCallOutNumbers(a,b,c,e)};this.GetBase64Data=function(a){return this.oBarCtrl.GetBase64Data(a)};this.GetDataFromBase64=function(a){return this.oBarCtrl.GetDataFromBase64(a)};this.SetWeChatQueueFlag=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("SetWeChatQueueFlag",a.callback),this.oBarCtrl.SetWeChatQueueFlag(a.flag);this._bindCmdCallBack("SetWeChatQueueFlag",b);return this.oBarCtrl.SetWeChatQueueFlag(a)};this.GetWeChatQueueFlag=function(a){if(a instanceof Object)return this._bindCmdCallBack("GetWeChatQueueFlag",a.callback),this.oBarCtrl.GetWeChatQueueFlag();this._bindCmdCallBack("GetWeChatQueueFlag",a);return this.oBarCtrl.GetWeChatQueueFlag()};this.TransferCallQueue=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("TransferCallQueue",a.callback),this.oBarCtrl.TransferCallQueue(a.queuekey,a.transferType,a.destNum);this._bindCmdCallBack("TransferCallQueue",e);return this.oBarCtrl.TransferCallQueue(a,b,c)};this.SetActiveService=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("SetActiveService",a.callback),this.oBarCtrl.SetActiveService(a.serviceNum);this._bindCmdCallBack("SetActiveService",b);return this.oBarCtrl.SetActiveService(a)};this.GetActiveService=function(a){if(a instanceof Object)return this._bindCmdCallBack("GetActiveService",a.callback),this.oBarCtrl.GetActiveService();this._bindCmdCallBack("GetActiveService",a);return this.oBarCtrl.GetActiveService()};this.GetExitCause=function(){return this.oBarCtrl.GetExitCause()};this.SetForwardNumber=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("SetForwardNumber",a.callback),this.oBarCtrl.SetForwardNumber(a.num,a.state);this._bindCmdCallBack("SetForwardNumber",c);return this.oBarCtrl.SetForwardNumber(a,b)};this.GetForwardNumber=function(a){if(a instanceof Object)return this._bindCmdCallBack("GetForwardNumber",a.callback),this.oBarCtrl.GetForwardNumber();this._bindCmdCallBack("GetForwardNumber",a);return this.oBarCtrl.GetForwardNumber()};this.SetAgentReservedStatus=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("SetAgentReservedStatus",a.callback),this.oBarCtrl.SetAgentReservedStatus(a.agentStatus,a.subBusyStatus);this._bindCmdCallBack("SetAgentReservedStatus",c);return this.oBarCtrl.SetAgentReservedStatus(a,b)};this.SetMMService=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("SetMMService",a.callback),this.oBarCtrl.SetMMService(a.serviceID,a.flag);this._bindCmdCallBack("SetMMService",c);return this.oBarCtrl.SetMMService(a,b)};this.DeleteCaptureFile=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("DeleteCaptureFile",a.callback),this.oBarCtrl.DeleteCaptureFile(a.fileName);this._bindCmdCallBack("DeleteCaptureFile",b);return this.oBarCtrl.DeleteCaptureFile(a)};this.GetAgentLogFile=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("GetAgentLogFile",a.callback),this.oBarCtrl.GetAgentLogFile(a.destAgentID,a.urlType,a.uploadServer);this._bindCmdCallBack("GetAgentLogFile",e);return this.oBarCtrl.GetAgentLogFile(a,c,b)};this.GetAgentWorkStatus=function(){return this.workStatus};this.GetMonitorStatus=function(){return this.oBarCtrl.GetMonitorStatus()};this.GetMonitorTimeOffSet=function(){return this.oBarCtrl.GetCtrlAttribute("AmpTimeOffSet")};this.GetCodeDescription=function(a){return this.oBarControl.GetErrorItemDes(a)};this.MakeCall=function(a,b,c,e,d,g,h,k,l,m,q,p){if(a instanceof Object)return this._bindCmdCallBack("MakeCall",a.callback),this.oBarCtrl.MakeCall(a.destNum,a.serviceDirect,a.taskID,a.transParentParam,a.phoneID,a.projectID,a.cryptType,a.chargeNumber,a.displayNumber,a.numberX,a.av);this._bindCmdCallBack("MakeCall",p);return this.oBarCtrl.MakeCall(a,b,c,e,d,g,h,k,l,m,q)};this.CallIn=function(a,b,c,e,d,g){if(a instanceof Object)return this._bindCmdCallBack("CallIn",a.callback),this.oBarCtrl.CallIn(a.destAgentID,a.serviceDirect,a.taskID,a.transParentParam,a.av);this._bindCmdCallBack("CallIn",g);return this.oBarCtrl.CallIn(a,b,c,e,d)};this.TransferOut=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("TransferOut",a.callback),this.oBarCtrl.TransferOut(a.transferType,a.destNum);this._bindCmdCallBack("TransferOut",c);return this.oBarCtrl.TransferOut(a,b)};this.Hold=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("Hold",a.callback),this.oBarCtrl.Hold(a.destDeviceID);this._bindCmdCallBack("Hold",b);return this.oBarCtrl.Hold(a)};this.RetrieveHold=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("RetrieveHold",a.callback),this.oBarCtrl.RetrieveHold(a.destDeviceID);this._bindCmdCallBack("RetrieveHold",b);return this.oBarCtrl.RetrieveHold(a)};this.Disconnect=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("Disconnect",a.callback),this.oBarCtrl.Disconnect(a.callType);this._bindCmdCallBack("Disconnect",b);return this.oBarCtrl.Disconnect(a)};this.Answer=function(a,b){if(a instanceof Object){var c=a;this._bindCmdCallBack("Answer",c.callback);"undefined"==typeof c.recordFlag&&(c.recordFlag=0);return this.oBarCtrl.Answer(c.recordFlag)}this._bindCmdCallBack("Answer",b);"undefined"==typeof a&&(a=0);return this.oBarCtrl.Answer(a)};this.Consult=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("Consult",a.callback),this.oBarCtrl.Consult(a.consultType,a.consultNum);this._bindCmdCallBack("Consult",c);return this.oBarCtrl.Consult(a,b)};this.Transfer=function(a){if(a instanceof Object)return this._bindCmdCallBack("Transfer",a.callback),this.oBarCtrl.Transfer();this._bindCmdCallBack("Transfer",a);return this.oBarCtrl.Transfer()};this.Conference=function(a){if(a instanceof Object)return this._bindCmdCallBack("Conference",a.callback),this.oBarCtrl.Conference();this._bindCmdCallBack("Conference",a);return this.oBarCtrl.Conference()};this.SendDTMF=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("SendDTMF",a.callback),this.oBarCtrl.SendDTMF(a.tapKey);this._bindCmdCallBack("SendDTMF",b);return this.oBarCtrl.SendDTMF(a)};this.BeginRecord=function(a,b){return this.oBarCtrl.BeginRecord(a,b)};this.StopRecord=function(a){return this.oBarCtrl.StopRecord(a)};this.BeginPlay=function(a,b,c,e,d,g){if(a instanceof Object)return this._bindCmdCallBack("BeginPlay",a.callback),this.oBarCtrl.BeginPlay(a.destAgentID,a.destDeviceID,a.type,a.fileName,a.varparam);this._bindCmdCallBack("BeginPlay",g);return this.oBarCtrl.BeginPlay(a,b,c,e,d)};this.StopPlay=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("StopPlay",a.callback),this.oBarCtrl.StopPlay(a.destAgentID,a.destDeviceID);this._bindCmdCallBack("StopPlay",c);return this.oBarCtrl.StopPlay(a,b)};this.Bridge=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("Bridge",a.callback),this.oBarCtrl.Bridge(a.ivrNum,a.endCall);this._bindCmdCallBack("Bridge",c);return this.oBarCtrl.Bridge(a,b)};this.Mute=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("Mute",a.callback),this.oBarCtrl.Mute(a.flag,a.destDeviceID);this._bindCmdCallBack("Mute",c);return this.oBarCtrl.Mute(a,b)};this.AlterNate=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("AlterNate",a.callback),this.oBarCtrl.AlterNate(a.destDeviceID);this._bindCmdCallBack("AlterNate",b);return this.oBarCtrl.AlterNate(a)};this.CallBack=function(a){if(a instanceof Object)return this._bindCmdCallBack("CallBack",a.callback),this.oBarCtrl.CallBack();this._bindCmdCallBack("CallBack",a);return this.oBarCtrl.CallBack()};this.ReCall=function(a){if(a instanceof Object)return this._bindCmdCallBack("ReCall",a.callback),this.oBarCtrl.ReCall();this._bindCmdCallBack("ReCall",a);return this.oBarCtrl.ReCall()};this.SMMsg=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("SMMsg",c.callback),this.oBarCtrl.SMMsg(c.destAddress,c.shortMessage);this._bindCmdCallBack("SMMsg",c);return this.oBarCtrl.SMMsg(a,b)};this.ReleaseThirdOne=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("ReleaseThirdOne",a.callback),this.oBarCtrl.ReleaseThirdOne(a.retrieveCall);this._bindCmdCallBack("ReleaseThirdOne",b);return this.oBarCtrl.ReleaseThirdOne(a)};this.BeginCollect=function(a,b,c,e,d,g,h,k,l,m,q){if(a instanceof Object)return this._bindCmdCallBack("BeginCollect",a.callback),this.oBarCtrl.BeginCollect(a.destAgentID,a.destDeviceID,a.playType,a.filename,a.min,a.max,a.end,a.cel,a.fto,a.ito);this._bindCmdCallBack("BeginCollect",q);return this.oBarCtrl.BeginCollect(a,b,c,e,d,g,h,k,l,m)};this.StopCollect=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("StopCollect",a.callback),this.oBarCtrl.StopCollect(a.destAgentID,a.destDeviceID);this._bindCmdCallBack("StopCollect",c);return this.oBarCtrl.StopCollect(a,b)};this.ForceReset=function(){return this.oBarCtrl.ForceReset()};this.SendIMMessage=function(a,b,c,e,d,g,h){if(a instanceof Object)return this._bindCmdCallBack("SendIMMessage",a.callback),this.oBarCtrl.SendIMMessage(a.destTarget0,a.destTarget1,a.destTarget2,a.logicOperator,a.msgtype,a.message);this._bindCmdCallBack("SendIMMessage",h);return this.oBarCtrl.SendIMMessage(a,b,c,e,d,g)};this.SendSipSessionMessage=function(a,b){return null!=this.oBarCtrl.GetSipCtrl()?(a=this.GetBase64Data(a),"undefined"==typeof b&&(b=""),this.oBarCtrl.GetSipCtrl().SendMessage(b,a),0):-1};this.SwitchVideoSource=function(a){return null!=this.oBarCtrl.GetSipCtrl()?(this.GetBarCtrl().IsSurpportVideoBypass()&&(a.mic=0),this.oBarCtrl.GetSipCtrl().ShareScreen(a),0):-1};this.GetRemoteSnapShot=function(){return null!=this.oBarCtrl.GetSipCtrl()?this.oBarCtrl.GetSipCtrl().GetVideoSnapShot():null};this.UpdateMedia=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("UpdateMedia",a.callback),this.oBarCtrl.UpdateMedia(a.destNum,a.av);this._bindCmdCallBack("UpdateMedia",c);return this.oBarCtrl.UpdateMedia(a,b)};this.BeginCapture=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("BeginCapture",a.callback),this.oBarCtrl.BeginCapture(a.destNum,a.faceDet);this._bindCmdCallBack("BeginCapture",c);"undefined"==typeof a&&(a="");"undefined"==typeof b&&(b="1");return this.oBarCtrl.BeginCapture(a,b)};this.Connect=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("Connect",a.callback),this.oBarCtrl.Connect(a.destDeviceID);this._bindCmdCallBack("Connect",b);return this.oBarCtrl.Connect(a)};this.ReleaseConnectOne=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("ReleaseConnectOne",a.callback),this.oBarCtrl.ReleaseConnectOne(a.destDeviceID);this._bindCmdCallBack("ReleaseConnectOne",b);return this.oBarCtrl.ReleaseConnectOne(a)};this.MultiConfTransfer=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("MultiConfTransfer",a.callback),this.oBarCtrl.MultiConfTransfer(a.destDeviceID);this._bindCmdCallBack("MultiConfTransfer",b);return this.oBarCtrl.MultiConfTransfer(a)};this.ModifyVideoStream=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("ModifyVideoStream",a.callback),this.oBarCtrl.ModifyVideoStream(a.mode,a.line,a.display);this._bindCmdCallBack("ModifyVideoStream",e);return this.oBarCtrl.ModifyVideoStream(a,b,c)};this.ForeReleaseCall=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("ForeReleaseCall",a.callback),this.oBarCtrl.ForeReleaseCall(a.destAgentID,a.type);this._bindCmdCallBack("ForeReleaseCall",c);return this.oBarCtrl.ForeReleaseCall(a,b)};this.Insert=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("Insert",a.callback),this.oBarCtrl.Insert(a.destAgentID,a.type,a.callID);this._bindCmdCallBack("Insert",e);return this.oBarCtrl.Insert(a,b,c)};this.Listen=function(a,b,c,e){if(e instanceof Object)return this._bindCmdCallBack("Listen",e.callback),this.oBarCtrl.Listen(e.destAgentID,e.type,e.callID);this._bindCmdCallBack("Listen",e);return this.oBarCtrl.Listen(a,b,c)};this.Intercept=function(a,b,c,e,d){if(a instanceof Object)return this._bindCmdCallBack("Intercept",a.callback),this.oBarCtrl.Intercept(a.destAgentID,a.type,a.callID,a.direction);this._bindCmdCallBack("Intercept",d);return this.oBarCtrl.Intercept(a,b,c,e)};this.Lock=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("Lock",a.callback),this.oBarCtrl.Lock(a.destAgentID);this._bindCmdCallBack("Lock",b);return this.oBarCtrl.Lock(a)};this.UnLock=function(a,b){if(b instanceof Object)return this._bindCmdCallBack("UnLock",b.callback),this.oBarCtrl.UnLock(b.destAgentID);this._bindCmdCallBack("UnLock",b);return this.oBarCtrl.UnLock(a)};this.ForceIdle=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("ForceIdle",a.callback),this.oBarCtrl.ForceIdle(a.destAgentID);this._bindCmdCallBack("ForceIdle",b);return this.oBarCtrl.ForceIdle(a)};this.ForceBusy=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("ForceBusy",a.callback),this.oBarCtrl.ForceBusy(a.destAgentID);this._bindCmdCallBack("ForceBusy",b);return this.oBarCtrl.ForceBusy(a)};this.ForceOut=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("ForceOut",a.callback),this.oBarCtrl.ForceOut(a.destAgentID);this._bindCmdCallBack("ForceOut",b);return this.oBarCtrl.ForceOut(a)};this.Help=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("Help",a.callback),this.oBarCtrl.Help(a.destAgentID,a.type,a.callID);this._bindCmdCallBack("Help",e);return this.oBarCtrl.Help(a,b,c)};this.InitialState=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("InitialState",a.callback),this.oBarCtrl.InitialState(a.curpos);this._bindCmdCallBack("InitialState",b);return this.oBarCtrl.InitialState(a)};this.AgentQuery=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("AgentQuery",a.callback),this.oBarCtrl.AgentQuery(a.monitorid,a.curpos,a.agentName);this._bindCmdCallBack("AgentQuery",e);return this.oBarCtrl.AgentQuery(a,b,c)};this.TelQuery=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("TelQuery",a.callback),this.oBarCtrl.TelQuery(a.monitorid,a.curpos);this._bindCmdCallBack("TelQuery",c);return this.oBarCtrl.TelQuery(a,b)};this.IvrQuery=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("IvrQuery",a.callback),this.oBarCtrl.IvrQuery(a.monitorid,a.curpos);this._bindCmdCallBack("IvrQuery",c);return this.oBarCtrl.IvrQuery(a,b)};this.ServiceQuery=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("ServiceQuery",a.callback),this.oBarCtrl.ServiceQuery(a.monitorid,a.curpos);this._bindCmdCallBack("ServiceQuery",c);return this.oBarCtrl.ServiceQuery(a,b)};this.TaskQuery=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("TaskQuery",a.callback),this.oBarCtrl.TaskQuery(a.monitorid,a.curpos);this._bindCmdCallBack("TaskQuery",c);return this.oBarCtrl.TaskQuery(a,b)};this.CallReportQuery=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("CallReportQuery",a.callback),this.oBarCtrl.CallReportQuery(a.monitorid,a.curpos,a.monitorVersion);this._bindCmdCallBack("CallReportQuery",e);return this.oBarCtrl.CallReportQuery(a,b,c)};this.GetTaskSummary=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("GetTaskSummary",a.callback),this.oBarCtrl.GetTaskSummary(a.monitorid,a.taskid);this._bindCmdCallBack("GetTaskSummary",c);return this.oBarCtrl.GetTaskSummary(a,b)};this.QueryMonitorSumInfo=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("QueryMonitorSumInfo",a.callback),this.oBarCtrl.QueryMonitorSumInfo(a.cmdName,a.amdParam);this._bindCmdCallBack("QueryMonitorSumInfo",c);return this.oBarCtrl.QueryMonitorSumInfo(a,b)};this.StartNotification=function(a,b,c,e){if(a instanceof Object)return this._bindCmdCallBack("StartNotification",a.callback),this.oBarCtrl.StartNotification(a.id,a.type,a.flag);this._bindCmdCallBack("StartNotification",e);return this.oBarCtrl.StartNotification(a,b,c)};this.EndNotification=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("EndNotification",a.callback),this.oBarCtrl.EndNotification(a.id);this._bindCmdCallBack("EndNotification",b);return this.oBarCtrl.EndNotification(a)};this.TrunkQuery=function(a,b,c){if(a instanceof Object)return this._bindCmdCallBack("TrunkQuery",a.callback),this.oBarCtrl.TrunkQuery(a.monitorid,a.curpos);this._bindCmdCallBack("TrunkQuery",c);return this.oBarCtrl.TrunkQuery(a,b)};this.MMServiceQuery=function(a,b){if(a instanceof Object)return this._bindCmdCallBack("MMServiceQuery",a.callback),this.oBarCtrl.MMServiceQuery(a.monitorid);this._bindCmdCallBack("MMServiceQuery",b);return this.oBarCtrl.MMServiceQuery(a)};this.AgentStateQuery=function(a,b,c,e,d){if(a instanceof Object)return this._bindCmdCallBack("AgentStateQuery",a.callback),this.oBarCtrl.AgentStateQuery(a.monitorid,a.curpos,a.maxitem,a.type);this._bindCmdCallBack("AgentStateQuery",d);return this.oBarCtrl.AgentStateQuery(a,b,c,e)};this.SendWeiboMsg=function(a){return this.oBarCtrl.SendWeiboMsg(a)};this.UploadFileToMMS=function(a,b,c,e){return this.oBarCtrl.UploadFileToMMS(a,b,c,e)};this.DownFileFromMMS=function(a,b,c,e,d){return this.oBarCtrl.DownFileFromMMS(a,b,c,e,d)};this.SendWeChatMsg=function(a,b,c,e,d,g,h,k,l,m){null!=this.app.oWechatManager&&this.app.oWechatManager.SaveSendMessage(a,b,c,e,d,g,h,k,l,m);return this.oBarCtrl.SendWeChatMsg(a,b,c,e,d,g,h,k,l,m)};this.QueryWeChatData=function(a,b,c,e,d,g,h){return this.oBarCtrl.QueryWeChatData(a,b,c,e,d,g,h)};this.QueryWeChatHistory=function(a,b,c,e,d,g,h){return this.oBarCtrl.QueryWeChatHistory(a,b,c,e,d,g,h)};this.GetWeChatParam=function(a){return this.oBarCtrl.GetWeChatParam(a)};this.OnCallRing=function(a,b,c,e,d,g,h,k,l,m,q,p,n,t,u,v,z,y,w,S,I,T){};this.AnswerCall=function(a,b,c,e,d,g,h,k,l){};this.OnAnswerCall=function(a,b,c,e,d,g,h,k,l){};this.OnCallEnd=function(a,b,c,e,d,g,h,k,l,m,q,p,n,t,u,v){};this.OnPrompt=function(a,b){};this.OnReportBtnStatus=function(a){};this.OnInitalSuccess=function(){};this.OnInitalFailure=function(a,b,c){};this.OnEventPrompt=function(a,b){};this.OnAgentWorkReport=function(a,b){};this.OnCallDataChanged=function(a){};this.OnBarExit=function(a,b){};this.OnCallQueueQuery=function(a){};this.OnQueryGroupAgentStatus=function(a,b){};this.OnSystemMessage=function(a,b){};this.OnRecvWeiboMsg=function(a){};this.OnIMMessage=function(a,b,c){};this.OnRecvWeChatMessage=function(a,b,c,e,d,g,h,k,l,m,q,p,n,t){};this.OnSendWeChatMsgReport=function(a,b,c,e,d,g){};this.OnUploadFileToMMSReport=function(a,b,c,e,d,g){};this.OnDownloadFileToMMSReport=function(a,b,c,e){};this.OnWorkStaticInfoReport=function(a){};this.OnQueueReport=function(a){};this.OnQuerySPGroupList=function(a,b){};this.OnAgentBusyReason=function(a,b){};this.OnAgentStatus=function(a){};this.OnAgentLogUpload=function(a,b,c,e,d,g){};this.OnAsrEventReport=function(a,b,c,e,d,g){};this.OnStopSmSuccess=function(a){};this.OnUpdateMediaEvent=function(a,b,c){};this.OnStopCaptureSuccess=function(a,b){};this.OnCallCdrReport=function(a,b,c,e,d,g,h,k,l,m,q,p,n,t,u,v){};this.OnSessionMessage=function(a){};this.OnUpdateVideoWindow=function(a){};this.OnRtpStatics=function(a){};this.OnAgentReport=function(a){};this.OnTelReport=function(a){};this.OnServiceReport=function(a){};this.OnIvrReport=function(a){};this.OnTaskReport=function(a){};this.OnOutboundReport=function(a){};this.OnCallReportInfo=function(a){};this.OnQueryMonitorSumReport=function(a,b){};this.OnWallServiceReport=function(a){};this.OnWallQueueReport=function(a){};this.OnServiceStaticReport=function(a){};this.OnAgentStaticReport=function(a){};this.OnTrunkReport=function(a){};this.OnTrunkSumReport=function(a){};this.OnMethodResponseEvent=function(a,b){};this.SetMonitorCtrl=function(a){this.oMonitorCtrl=a};this.SetMonitorData=function(a){this.oMonitorDataManager=a};this.GetSipCtrl=function(){return this.oBarCtrl.GetSipCtrl()};this.GetBarCtrl=function(){return this.oBarCtrl.GetBarCtrl()};this._UploadMemLogToServer=function(){this.oBarCtrl.UploadMemLogToServer()};this.__emit=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];var d=Array.prototype.slice.call(c);if(this._listeners[a])this._listeners[a].forEach(function(b,c){if(b.callback&&"function"===typeof b.callback){var e=!0;try{var f,e=(f=b.callback).call.apply(f,[b.scope||this].concat(d))}catch(m){console.error(m),this._listeners[a].splice(c,1)}"undefined"===typeof e&&(e=!0);return e}this._listeners[a].splice(c,1);return!0},this);else return!0};this.On=function(a,b,c){if(a instanceof String||"string"===(typeof a).toLowerCase())-1<this.arrBarEvent.indexOf(a)?(this._listeners[a]=this._listeners[a]||[],this._listeners[a].push({callback:b,scope:c||this})):console.warn(stringFormat("event [{0}] not support yet.",a));else if(a instanceof Object){var e=this;Object.keys(a).forEach(function(c){if(-1<e.arrBarEvent.indexOf(c)){var d=a[c];e._listeners[c]=e._listeners[c]||[];e._listeners[c].push({callback:d.callback||d,scope:d.scope||b||e})}else console.warn(stringFormat("event [{0}] not support yet.",c))})}else console.error("param not support [%o] yet.",a)};this.UnOn=function(a){if(a instanceof String||"string"===(typeof a).toLowerCase())-1<this.arrBarEvent.indexOf(a)?this._listeners[a].splice(0,this._listeners[a].length):console.warn(stringFormat("event [{0}] not support yet.",a));else if(a instanceof Object){var b=this;Object.keys(a).forEach(function(c){if(-1<b.arrBarEvent.indexOf(c)){var e=parseInt(a[c]);b._listeners[c]=b._listeners[c]||[];b._listeners[c].length>e?b._listeners[c].splice(e,1):console.warn(stringFormat("event [{0}] not exist {1} callback.",c,e))}else console.warn(stringFormat("event [{0}] not support yet.",c))})}else console.error("param not support [%o] yet.",a)};this.OnClear=function(){this._listeners={}};this._createObject();return this}var CINVccBar_NULL=0,CINVccBar_FAILURE=-1,CINVccBar_NOT_IMPL=-2,CINVccBar_SUCCESS=0,CINVccBar_TRUE=1,CINVccBar_EMPTY_STRING="",CINVccBar_VERSION="20210827",AGENTREPORT_OPTIMIS=0,TIMER_RECONNECT_TIME=3,CINNGCCA_METHOD_ID=1,CINNGCCA_AGENTREPORT_ID=2,CINNGCCA_AGENTRECONNECT_ID=3,CINNGCCA_EMPTYHEARTBEAT_ID=4,CINNGCCA_OPENSOCKET_ID=5,CINNGCCA_REDIRECTSOCKET_ID=6,CINNGCCA_SIPDISCTI_ID=7,CINNGCCA_METHOD_HOLDUP_STATUS_ID=8,AMP_EMPTYHEARTBEAT_ID=12,AMP_AGENTRECONNECT_ID=13,AMP_STARTNOTIFICATION_ID=14,AMP_OPENSOCKET_ID=15,CTRL_AGENTRECONNECT_ID=20,CTRL_QueryCTIInfo_ID_8=21,CTRL_QueryCTIInfo_ID_9=22,CTRL_QueryCTIInfo_ID_10=23,CTRL_QueryCTIInfo_ID_22=24,CTRL_CallQueueQuery_ID=25,CTRL_AnswerPhone_ID=30,CTRL_GetLogFile_ID=31,CTRL_AgentWrapUp_ID=32,CTRL_ThisAgentWrapUp_ID=33,CINNGCCA_METHOD_INTERVAL=10,CINNGCCA_AGENTREPORT_INTERVAL=120,CINNGCCA_AGENTRECONNECT_INTERVAL=125,CINNGCCA_OPENSOCKET_INTERVAL=10,CINNGCCA_REDIRECTSOCKET_INTERVAL=.5,CINNGCCA_EMPTYHEARTBEAT_INTERVAL=3,CINNGCCA_SIPDISCTI_INTERVAL=2,AMP_EMPTYHEARTBEAT_INTERVAL=3,AMP_AGENTRECONNECT_INTERVAL=10,CTRL_AGENTRECONNECT_INTERVAL=3,PhoneMobile=0,PhoneSip=1,PhoneOutSide=2,PhoneRemoteSip=3,PhoneSofeSwitch=4,PhoneYealink=5,PhoneAgora=6,PhoneWebrtc=8,emPhoneNULL=-1,emPhoneLogin=0,emPhoneLogout=1,emPhoneIdle=2,emPhoneBusy=3,emPhoneOrigated=4,emPhoneAlerting=5,emPhoneOnLineOut=6,emPhoneOnLineOutIdle=7,emPhoneOnLineOutBusy=8,emPhoneOnLine=9,emPhoneOnLineIVR=10,emPhoneOnLineCallout=11,emPhoneOnLineConsult=12,emPhoneOnLineConference=13,emPhoneHold=14,emPhoneRetrive=15,emPhoneListen=16,emPhoneHelp=17,emPhoneInsert=18,emPhoneIncept=19,emPhoneOnCalloutMid=20,emPhoneOnConsultMid=21,emPhoneOnBridge=22,emPhoneOnCallouting=23,emPhoneOnCallining=24,emPhoneOnConsultFailuer=25,emPhoneOnCalloutBefore=26,emPhoneOnCallinBefore=27,emPhoneOnCallConnect=28,emPhoneOnCallConnectAlerting=29,emPhonePickuping=30,emBtnWrapUp=0,emBtnSetBusy=1,emBtnSetIdle=2,emBtnMakeCall=3,emBtnHold=4,emBtnRetrieve=5,emBtnEndCall=6,emBtnTransfer=7,emBtnConference=8,emBtnPickUp=9,emBtnTransferOut=10,emBtnConsult=11,emBtnSendDtmf=12,emBtnBridge=13,emBtnAlterNate=14,emBtnConfig=15,emBtnForceReset=16,emBtnRecord=17,emBtnStopRecord=18,emBtnListen=19,emBtnInsert=20,emBtnIntercept=21,emBtnForceRelease=22,emBtnBeginPlay=23,emBtnStopPlay=24,emBtnLock=25,emBtnUnLock=26,emBtnMute=27,emBtnCallBack=28,emBtnReCall=29,emBtnHelp=30,emBtnConnect=31,emMonitorNoFlag=-1,emListenFlag=1,emHelpFlag=2,emInsertFlag=3,emInterceptFlag=4,emSreenCapture_none=-1,emSreenCapture_call=0,emSreenCapture_all=1,eventidOnSignInSuccess=1,eventidOnSignInFailure=2,eventidOnSignOutSuccess=3,eventidOnSignOutFailure=4,eventidOnAnswerRequest=5,eventidOnAnswerSuccess=6,eventidOnAnswerFailure=7,eventidOnUserHangupBeforeResponse=8,eventidOnRequestRelease=9,eventidOnReleaseSuccess=10,eventidOnReleaseFailure=11,eventidOnLongNoAnswer=12,eventidOnSetBusySuccess=13,eventidOnStartBusy=14,eventidOnSetBusyFailure=15,eventidOnSetIdleSuccess=16,eventidOnSetIdleFailure=17,eventidOnConsultationBack=18,eventidOnConsultationSuccess=19,eventidOnConsultationFailure=20,eventidOnTransSuccess=21,eventidOnTransFailure=22,eventidOnReturnFromIVR=23,eventidOnSingleStepTransSuccess=24,eventidOnSingleStepTransFailure=25,eventidOnCallInsideSuccess=26,eventidOnCallInsideFailure=27,eventidOnCallOutsideSuccess=28,eventidOnCallOutsideSuccTalk=29,eventidOnCallOutsideFailure=30,eventidOnHoldSuccess=31,eventidOnHoldFailure=32,eventidOnRetrieveHoldSuccess=33,eventidOnRetrieveHoldFailure=34,eventidOnHoldCallRelease=35,eventidOnConferenceSuccess=36,eventidOnConferenceFailure=37,eventidOnHangupCallInConf=38,eventidOnAlternateSuccess=39,eventidOnAlternateFailture=40,eventidOnListenSuccess=41,eventidOnListenFailure=42,eventidOnInsertSuccess=43,eventidOnInsertFailure=44,eventidOnStopInsertSuccess=45,eventidOnStopInsertFailure=46,eventidOnInterceptSuccess=47,eventidOnInterceptFailure=48,eventidOnForceIdleSuccess=49,eventidOnForceIdleFailure=50,eventidOnForceBusySuccess=51,eventidOnForceBusyFailure=52,eventidOnAgentForceOutSuccess=53,eventidOnAgentForceOutFailure=54,eventidOnBeginRecordSuccess=55,eventidOnBeginRecordFailure=56,eventidOnStopRecordSuccess=57,eventidOnStopRecordFailure=58,eventidOnForceIdle=59,eventidOnForceBusy=60,eventidOnForceOut=61,eventidOnForceRelease=62,eventidOnAgentAllBusy=63,eventidOnError=64,eventidOnCTIDisconnected=65,eventidOnMasterChanged=66,eventidOnReleaseReport=67,eventidOnCallInsideSuccTalk=68,eventidOnTransSuccessTalk=69,eventidOnConferenceSuccTalk=70,eventidOnHoldExSuccess=71,eventidOnHoldExFailure=72,eventidOnHoldExed=73,eventidOnRetrieveHolded=74,eventidOnIntercepted=75,eventidOnInserted=76,eventidOnStopInserted=77,eventidOnForceOutSuccess=78,eventidOnForceOutFailure=79,eventidOnStopListenSuccess=80,eventidOnStopListenFailure=81,eventidOnListened=82,eventidOnListenStoped=83,eventidOnRecordReport=84,eventidOnFranchiseChange=85,eventidOnAgentEnterIdleSuccess=86,eventidOnAgentEnterIdleFailure=87,eventidOnAgentEnterWrapUpSuccess=88,eventidOnAgentEnterWrapUpFailure=89,eventidOnOrigated=90,eventidOnBridgeSuccess=91,eventidOnBridgeFailure=92,eventidOnReturnFromPhone=93,eventidOnTransferred=94,eventidOnLocked=95,eventidOnSignOuted=96,eventidOnBeginSendDTMFSuccess=97,eventidOnBeginSendDTMFFailure=98,eventidOnStopSendDTMFSuccess=99,eventidOnStopSendDTMFFailure=100,eventidOnUnLocked=101,eventidOnBeginPlaySuccess=102,eventidOnBeginPlayFailure=103,eventidOnStopPlaySuccess=104,eventidOnStopPlayFailure=105,eventidOnBeginCollectSuccess=106,eventidOnBeginCollectFailure=107,eventidOnStopCollectSuccess=108,eventidOnStopCollectFailure=109,eventidOnSystemStatusReport=110,eventidOnGetLog=111,eventidOnCallQueueQuery=112,eventidOnQueueReport=113,eventidOnSystemMessage=114,eventidOnHelpSuccess=115,eventidOnHelpFailure=116,eventidOnRecvWeiboMsg=117,eventidOnStaticInfoReport=118,eventidOnRecvWeChatMsg=119,eventidOnWeChatEventReport=120,eventidOnForceReleaseCallSuccess=121,eventidOnForceReleaseCallFailure=122,eventidOnAQueryCTIInfo=123,eventidOnAgentBusyReason=124,eventidOnNetError=125,eventidOnMuteSuccess=126,emCenterOpStatusInitial=0,emCenterOpStatusConnecting=1,emCenterOpStatusConnected=2;function JScene(d,a){this._secneID=d;this._items=[];this._masterItems=[];this._description=a}function JPhoneStatus(d){this._arrCallScene=null;this._language=d;this._arrShowBtnIDs=Array(31);this._showBtnIDCount=0;this._Create=function(){this._arrCallScene=[];var a=new JScene(emPhoneNULL,G_AppJVccbarConst.getSceneItemDes(emPhoneNULL,this._language));this._arrCallScene.push(a);a=new JScene(emPhoneLogin,G_AppJVccbarConst.getSceneItemDes(emPhoneLogin,this._language));a._items.push(emBtnSetIdle);a._items.push(emBtnSetBusy);a._items.push(emBtnMakeCall);a._items.push(emBtnConfig);a._items.push(emBtnForceReset);a._items.push(emBtnListen);a._items.push(emBtnHelp);a._items.push(emBtnIntercept);a._items.push(emBtnInsert);a._items.push(emBtnForceRelease);this._arrCallScene.push(a);a=new JScene(emPhoneIdle,G_AppJVccbarConst.getSceneItemDes(emPhoneIdle,this._language));a._items.push(emBtnSetBusy);a._items.push(emBtnMakeCall);a._items.push(emBtnConfig);a._items.push(emBtnForceReset);a._items.push(emBtnRecord);a._items.push(emBtnListen);a._items.push(emBtnHelp);a._items.push(emBtnIntercept);a._items.push(emBtnInsert);a._items.push(emBtnForceRelease);this._arrCallScene.push(a);a=new JScene(emPhoneBusy,G_AppJVccbarConst.getSceneItemDes(emPhoneBusy,this._language));a._items.push(emBtnSetIdle);a._items.push(emBtnSetBusy);a._items.push(emBtnMakeCall);a._items.push(emBtnConfig);a._items.push(emBtnForceReset);a._items.push(emBtnListen);a._items.push(emBtnHelp);a._items.push(emBtnIntercept);a._items.push(emBtnInsert);a._items.push(emBtnForceRelease);this._arrCallScene.push(a);a=new JScene(emPhoneOrigated,G_AppJVccbarConst.getSceneItemDes(emPhoneOrigated,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneAlerting,G_AppJVccbarConst.getSceneItemDes(emPhoneAlerting,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnPickUp);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnLineOutIdle,G_AppJVccbarConst.getSceneItemDes(emPhoneOnLineOutIdle,this._language));a._items.push(emBtnSetBusy);a._items.push(emBtnConfig);a._items.push(emBtnForceReset);a._items.push(emBtnRecord);a._items.push(emBtnListen);a._items.push(emBtnHelp);a._items.push(emBtnIntercept);a._items.push(emBtnInsert);a._items.push(emBtnForceRelease);this._arrCallScene.push(a);a=new JScene(emPhoneOnLineOutBusy,G_AppJVccbarConst.getSceneItemDes(emPhoneOnLineOutBusy,this._language));a._items.push(emBtnWrapUp);a._items.push(emBtnSetBusy);a._items.push(emBtnSetIdle);a._items.push(emBtnMakeCall);a._items.push(emBtnConfig);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnLineIVR,G_AppJVccbarConst.getSceneItemDes(emPhoneOnLineIVR,this._language));a._masterItems.push(emBtnHold);a._masterItems.push(emBtnConsult);a._masterItems.push(emBtnEndCall);a._masterItems.push(emBtnTransferOut);a._masterItems.push(emBtnForceReset);a._masterItems.push(emBtnSendDtmf);a._masterItems.push(emBtnBridge);a._masterItems.push(emBtnBeginPlay);a._masterItems.push(emBtnStopPlay);a._masterItems.push(emBtnConnect);this._arrCallScene.push(a);a=new JScene(emPhoneOnLineCallout,G_AppJVccbarConst.getSceneItemDes(emPhoneOnLineCallout,this._language));a._masterItems.push(emBtnEndCall);a._masterItems.push(emBtnHold);a._masterItems.push(emBtnTransferOut);a._masterItems.push(emBtnConsult);a._masterItems.push(emBtnForceReset);a._masterItems.push(emBtnSendDtmf);a._masterItems.push(emBtnBridge);a._masterItems.push(emBtnBeginPlay);a._masterItems.push(emBtnStopPlay);a._masterItems.push(emBtnConnect);a._items.push(emBtnEndCall);a._items.push(emBtnTransferOut);a._items.push(emBtnForceReset);a._items.push(emBtnBeginPlay);a._items.push(emBtnStopPlay);this._arrCallScene.push(a);a=new JScene(emPhoneOnLineConsult,G_AppJVccbarConst.getSceneItemDes(emPhoneOnLineConsult,this._language));a._masterItems.push(emBtnEndCall);a._masterItems.push(emBtnConference);a._masterItems.push(emBtnTransfer);a._masterItems.push(emBtnForceReset);a._masterItems.push(emBtnAlterNate);a._masterItems.push(emBtnSendDtmf);a._masterItems.push(emBtnBeginPlay);a._masterItems.push(emBtnStopPlay);a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnLineConference,G_AppJVccbarConst.getSceneItemDes(emPhoneOnLineConference,this._language));a._masterItems.push(emBtnEndCall);a._masterItems.push(emBtnTransfer);a._masterItems.push(emBtnForceReset);a._masterItems.push(emBtnSendDtmf);a._masterItems.push(emBtnConnect);a._masterItems.push(emBtnHold);a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);a._items.push(emBtnBeginPlay);a._items.push(emBtnStopPlay);this._arrCallScene.push(a);a=new JScene(emPhoneHold,G_AppJVccbarConst.getSceneItemDes(emPhoneHold,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnConsult);a._items.push(emBtnRetrieve);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneListen,G_AppJVccbarConst.getSceneItemDes(emPhoneListen,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);a._items.push(emBtnInsert);a._items.push(emBtnIntercept);a._items.push(emBtnHelp);this._arrCallScene.push(a);a=new JScene(emPhoneHelp,G_AppJVccbarConst.getSceneItemDes(emPhoneHelp,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);a._items.push(emBtnListen);a._items.push(emBtnInsert);a._items.push(emBtnIntercept);this._arrCallScene.push(a);a=new JScene(emPhoneInsert,G_AppJVccbarConst.getSceneItemDes(emPhoneInsert,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);a._items.push(emBtnListen);a._items.push(emBtnHelp);a._items.push(emBtnIntercept);a._items.push(emBtnForceRelease);this._arrCallScene.push(a);a=new JScene(emPhoneOnCalloutMid,G_AppJVccbarConst.getSceneItemDes(emPhoneOnCalloutMid,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnConsultMid,G_AppJVccbarConst.getSceneItemDes(emPhoneOnConsultMid,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);a._items.push(emBtnSendDtmf);this._arrCallScene.push(a);a=new JScene(emPhoneOnBridge,G_AppJVccbarConst.getSceneItemDes(emPhoneOnBridge,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnCallouting,G_AppJVccbarConst.getSceneItemDes(emPhoneOnCallouting,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnCallining,G_AppJVccbarConst.getSceneItemDes(emPhoneOnCallining,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnConsultFailuer,G_AppJVccbarConst.getSceneItemDes(emPhoneOnConsultFailuer,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnConsult);a._items.push(emBtnRetrieve);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnCalloutBefore,G_AppJVccbarConst.getSceneItemDes(emPhoneOnCalloutBefore,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnCallinBefore,G_AppJVccbarConst.getSceneItemDes(emPhoneOnCallinBefore,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhonePickuping,G_AppJVccbarConst.getSceneItemDes(emPhonePickuping,this._language));a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);this._arrCallScene.push(a);a=new JScene(emPhoneOnCallConnect,G_AppJVccbarConst.getSceneItemDes(emPhoneOnCallConnect,this._language));a._masterItems.push(emBtnEndCall);a._masterItems.push(emBtnTransfer);a._masterItems.push(emBtnForceReset);a._masterItems.push(emBtnSendDtmf);a._masterItems.push(emBtnConnect);a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);a._items.push(emBtnBeginPlay);a._items.push(emBtnStopPlay);this._arrCallScene.push(a);a=new JScene(emPhoneOnCallConnectAlerting,G_AppJVccbarConst.getSceneItemDes(emPhoneOnCallConnectAlerting,this._language));a._masterItems.push(emBtnEndCall);a._masterItems.push(emBtnTransfer);a._masterItems.push(emBtnForceReset);a._masterItems.push(emBtnSendDtmf);a._masterItems.push(emBtnConnect);a._masterItems.push(emBtnHold);a._items.push(emBtnEndCall);a._items.push(emBtnForceReset);a._items.push(emBtnBeginPlay);a._items.push(emBtnStopPlay);this._arrCallScene.push(a)};this.GetSceneItems=function(a){for(var b=0;b<this._arrCallScene.length;b++)if(this._arrCallScene[b]._secneID==a)return this._arrCallScene[b];return 0};this.GetSceneDescription=function(a){return 0==a?"":a._description};this.SetShowBtns=function(a,b){if(""!=a){var c=a.split(",");this._showBtnIDCount=c.length;for(var e=0;e<c.length;e++)this._arrShowBtnIDs[e]=stringToInt(c[e],0)}};this._Create();return this}function JTimeInfo_t(d){this.nTimerID=d;this.maxTimeOut=300;this.bIninit=this.timeIndex=0;this.strBeginTime=this.strParam="";return this}function JThisCallInfo(){this._bOrigated=!1;this._userRingTime=this._ringTime=this._endTimer=this._answerTimer=this._alertTime=this._strNetworkInfo=this._strRecordFile=this._strRecordServer="";this._thisIdleSubStatus=this._thisIdleStatus=this._thisAutoStatusInteval=0;this._transParentParamet=this._taskID=this._alertingDevice="";this._transCodeType="0";this._queueTime=this._networkInfo=this._fileName=this._areaCode=this._authority=this._userType="";this._thisAutoAnswer=0;this._screenRecord=this._cityName=this._taskName=this._accessArea=this._serialID=this._callID=this._serverName=this._projectID=this._userNo="";this._disconnectType=this._retrieveCall=0;this._agentDisplayNumber="";this._timeAgentWrapUp=new JTimeInfo_t(CTRL_AgentWrapUp_ID);this._timeThisAgentWrapUp=new JTimeInfo_t(CTRL_ThisAgentWrapUp_ID);this.ReleaseInfo=function(){this._bOrigated=!1;this._transParentParamet=this._taskID=this._alertingDevice=this._userRingTime=this._ringTime=this._endTimer=this._answerTimer=this._alertTime=this._strNetworkInfo=this._strRecordFile=this._strRecordServer="";this._transCodeType="0";this._queueTime=this._networkInfo=this._fileName=this._areaCode=this._authority=this._userType="";this._thisAutoAnswer=0;this._userNo="";this._retrieveCall=0;this._serialID=this._callID="";this._disconnectType=0;this._screenRecord=this._cityName=this._taskName=this._accessArea=this._agentDisplayNumber=""};return this}function JAgentInfo_t(){this._agentType=0;this._vccID=this._dN=this._agentID=this._agentName="";this._pass_Word="9334543n";this._passWdCryptType=0;this._protocolCryptType=1;this._proTransportType=0;this._mainIP="";this._mainPortID=5049;this._backIP="";this._backPortID=5049;this._monitorIP="";this._monitorPort=5049;this._mainXPath="cti";this._monitorXPath="monitor";this._logXPath="agentlog";this._autoAnswer=!1;this._answerDelayTime=3;this._isForeCastCallAutoAnswer=this._userMainServer=1;this._strCallInNum=this._strCallOutNum="";this._isSignIn=this._isInitial=!1;this._isInitialReady=this._idleStatus=0;this._isMonitorLogin=!1;this._av=0;this._allTimeRecord=-1;this._deviceType=this._locked=0;this._taskID="";this._language=getLocalLanguage();this._monitorVersion="4.0";this._connectType=0;this._oldWorkStatus=-2;this._workstatus=-1;this._agentKickOff=0;this._agentVersion=CINVccBar_VERSION;this._ctiVersion=this._exitCause=this._substatus=this._timeStamp=this._ctiEvent="";this._loginmode=0;this._logLine=this._idleSubStatus=this._autoStatusInterval=-1;this._videoBypass=this._digitalman=0;this._phoneType=PhoneOutSide;this._sipRegisted=!1;this._ftpIp="";this._ftpPort=0;this._ftpUser="";this._ftpP="ryrfgr34534";this._sipServerIP=this._sipDn=this._ftpDirectory="";this._sipServerPort=5060;this._sipProtocol="wss";this._sip_Pass_Word="45t5hyt";this._sipXPath="acd";this._sipDomain="";this._sipAuthType=1;this._sipPassWdCryptType=0;this._sipBackIp="";this._sipBackServerPort=5060;this._sipBackProtocol="udp";this._sipBack_Pass_Word="345fg54546";this._sipBackDomain="";this._sipBackAuthType=1;this._agoraProxy=!1;this._selfPrompt=0;this._btnIDS="0,1,2,3,4,5,6,7,8,9,10,11,12,13,15,16";this._btnMaskIDS="";this._devConnectStatus=emCenterOpStatusInitial;this._logHttpCfg="";this._amptimeOff=0;this._recordTime=300;this._screenCaptureType=emSreenCapture_none;this._sipconfig={};this._barconfig={sip:{width:480,height:640,source:"camera",videosource:""}};this._mainLink=1;this.agentReporContinue=0;this._holdUpTimeCount=2;this._localIps=[]}function JVccBarCenter(d){this._oConfig=d;this._methodCallBackFunction=this._eventCallBackFunction=this._oTimer=this._oPhoneStatus=this._oMonitorDev=this._oPhoneDev=this._oAgentInfo=null;this._arrBtnStatus=[];this._thisCallInfo=new JThisCallInfo;this._AcpSocketReconnectTimer=0;this._arrQueryCTIInfo=Array(5);this._nMonitorFlag=emMonitorNoFlag;this._strReleaseSID=this._strExecuteMethod="";this._screenCaptureCtrl=this._sipCtrl=null;this._create=function(){this._oAgentInfo=new JAgentInfo_t;this._oAgentInfo._mainXPath="cti";this._oAgentInfo._monitorXPath="monitor";this._oPhoneDev=new JAcpDevice(this);this._oMonitorDev=new JAmpDevice(this);this._oTimer=new JTimerEx;this._oTimer.oParent=this;this._oTimer.SetTimerCallBack(this._OnTimerEvent);this._oTimer.Start();for(var a=0;a<emBtnHelp+1;a++)this._arrBtnStatus.push(0);this._arrBtnStatus[emBtnWrapUp]=1;this._arrBtnStatus[emBtnConfig]=1;this._oPhoneStatus=new JPhoneStatus(getLocalLanguage());this._oPhoneStatus.SetShowBtns(this._oAgentInfo._btnIDS,this._oAgentInfo._btnMaskIDS);var b=this;GetLocalUserIP(function(a){b._oAgentInfo._localIps.push(a)})};this._IsInitial=function(a){if(this._oAgentInfo._isInitial)return!0;a=stringFormat(G_AppJVccbarConst.getConstDes(const_des_not_initial,this._oAgentInfo._language),a);this._FireOnPrompt(4311,a);return!1};this._IsMethodEnable=function(a,b){if(!this._IsInitial(a))return!1;for(var c,e=!1,d=0;d<this._oPhoneStatus._showBtnIDCount;d++)if(c=this._oPhoneStatus._arrShowBtnIDs[d],c==b&&1==this._arrBtnStatus[c]){e=!0;break}return e?!0:(c=stringFormat(G_AppJVccbarConst.getConstDes(const_des_cmd_disable,this._oAgentInfo._language),a),this._FireOnPrompt(4311,c),!1)};this._IsSipCtrlUsed=function(){return this._oAgentInfo._phoneType==PhoneSip||this._oAgentInfo._phoneType==PhoneRemoteSip||this._oAgentInfo._phoneType==PhoneAgora||this._oAgentInfo._phoneType==PhoneWebrtc?!0:!1};this._RegisterPhone=function(){if(this._IsSipCtrlUsed()){if(null==this._sipCtrl){var a=sipAdapterTypeJSip;this._oAgentInfo._phoneType==PhoneRemoteSip&&(a=IsWebSocketValid()?sipAdapterTypeRemoteSip:sipAdapterTypeRemoteHttpSip);DisplayLog(VccBar_Log_Info,stringFormat("SIPCtrl Type:[{0}] 0:jsip 1:ws+sip 2:http+sip",a));this._sipCtrl=new SIPAdapterCtrl(a,null==this._oConfig.app?"":this._oConfig.app.GetRelationPath());this._sipCtrl.oParent=this;this._sipCtrl.OnCallRing=this._OnSipEventOnRing;this._sipCtrl.OnOrigated=this._OnSipEventOnOrigated;this._sipCtrl.OnDisconnected=this._OnSipEventOnDisconnected;this._sipCtrl.OnConnected=this._OnSipEventOnConnected;this._sipCtrl.OnError=this._OnSipEventOnError;this._sipCtrl.OnLoginSuccess=this._OnSipEventOnLoginSuccess;this._sipCtrl.OnLoginFailure=this._OnSipEventOnLoginFailure;this._sipCtrl.OnLogoutSuccess=this._OnSipEventOnLogoutSuccess;this._sipCtrl.OnDebug=this._OnSipEventDebug;DisplayLog(VccBar_Log_Info,stringFormat("SIPCtrl version:{0}",this._sipCtrl.GetVersion()))}1!=this._oAgentInfo._sipRegisted&&(this._sipCtrl.SetAttribute("SipServerIP",this._oAgentInfo._sipServerIP),this._sipCtrl.SetAttribute("SipServerPort",this._oAgentInfo._sipServerPort),this._sipCtrl.SetAttribute("Dn",this._oAgentInfo._dN),this._sipCtrl.SetAttribute("Domain",this._oAgentInfo._sipServerIP),this._sipCtrl.SetAttribute("PassWord",this._oAgentInfo._sip_Pass_Word),this._sipCtrl.SetAttribute("XPath",this._oAgentInfo._sipXPath),this._sipCtrl.SetAttribute("Vedio",1==this._oAgentInfo._av?!1:!0),this._sipCtrl.SetAttribute("Proxy",this._oAgentInfo._agoraProxy),a=0,5==this._oAgentInfo._av&&(a=1),6==this._oAgentInfo._av&&(a=2),this._sipCtrl.SetAttribute("MediaType",a),this._sipCtrl.SetAttribute("SipProtocol",this._oAgentInfo._sipProtocol),this._sipCtrl.Configurate(this._oAgentInfo._sipconfig),0==this._sipCtrl.Initial(!1)?(DisplayLog(VccBar_Log_Info,"init SIPCtrl success"),this._sipCtrl.RegisterPA(),this._FireOnPrompt(4360)):DisplayLog(VccBar_Log_Info,"init SIPCtrl failure"))}else this._FireOnInitalSuccess()};this.IsSurpportVideoBypass=function(){return this._oAgentInfo._phoneType==PhoneYealink&&1==this._oAgentInfo._videoBypass?!0:!1};this._BeginVideoBypass=function(){if(this.IsSurpportVideoBypass()){DisplayLog(VccBar_Log_Info,"_BeginVideoBypass");if(null==this._sipCtrl){var a=sipAdapterTypeJSip;this._oAgentInfo._phoneType==PhoneRemoteSip&&(a=IsWebSocketValid()?sipAdapterTypeRemoteSip:sipAdapterTypeRemoteHttpSip);DisplayLog(VccBar_Log_Info,stringFormat("SIPCtrl Type:[{0}] 0:jsip 1:ws+sip 2:http+sip",a));this._sipCtrl=new SIPAdapterCtrl(a,null==this._oConfig.app?"":this._oConfig.app.GetRelationPath());this._sipCtrl.oParent=this;this._sipCtrl.OnCallRing=this._OnSipEventOnRing;this._sipCtrl.OnOrigated=this._OnSipEventOnOrigated;this._sipCtrl.OnDisconnected=this._OnSipEventOnDisconnected;this._sipCtrl.OnConnected=this._OnSipEventOnConnected;this._sipCtrl.OnError=this._OnSipEventOnError;this._sipCtrl.OnLoginSuccess=this._OnSipEventOnLoginSuccess;this._sipCtrl.OnLoginFailure=this._OnSipEventOnLoginFailure;this._sipCtrl.OnLogoutSuccess=this._OnSipEventOnLogoutSuccess;this._sipCtrl.OnDebug=this._OnSipEventDebug;DisplayLog(VccBar_Log_Info,stringFormat("SIPCtrl version:{0}",this._sipCtrl.GetVersion()))}this._sipCtrl.SetAttribute("SipServerIP",this._oAgentInfo._sipServerIP);this._sipCtrl.SetAttribute("SipServerPort",this._oAgentInfo._sipServerPort);this._sipCtrl.SetAttribute("Dn",this._oAgentInfo._dN);this._sipCtrl.SetAttribute("Domain",this._oAgentInfo._sipServerIP);this._sipCtrl.SetAttribute("PassWord",this._oAgentInfo._sip_Pass_Word);this._sipCtrl.SetAttribute("XPath",this._oAgentInfo._sipXPath);this._sipCtrl.SetAttribute("Vedio",1==this._oAgentInfo._av?!1:!0);this._sipCtrl.SetAttribute("Audio",!1);this._sipCtrl.SetAttribute("Proxy",this._oAgentInfo._agoraProxy);a=0;5==this._oAgentInfo._av&&(a=1);6==this._oAgentInfo._av&&(a=2);this._sipCtrl.SetAttribute("MediaType",a);this._sipCtrl.SetAttribute("SipProtocol",this._oAgentInfo._sipProtocol);this._sipCtrl.Configurate(this._oAgentInfo._sipconfig);0==this._sipCtrl.Initial(!0)?(DisplayLog(VccBar_Log_Info,"init SIPCtrl success"),this._sipCtrl.DoCall("APPSBY"+this._thisCallInfo._callID,"")):DisplayLog(VccBar_Log_Info,"init SIPCtrl failure")}};this._RegisterMonitor=function(){var a=CINVccBar_FAILURE;if(1==this._oAgentInfo._appType||2==this._oAgentInfo._appType)this._FireOnPrompt(4408),a=this._oMonitorDev.OpenStream(this._oAgentInfo._monitorIP,this._oAgentInfo._monitorPort),1<a&&(this._FireOnPrompt(a,""),a=-1);return a};this._SetBtnStatus=function(a,b){if(null!=this._oPhoneDev){"undefined"==typeof b&&(b=!1);this._ResetBtn();var c=-1;switch(a){case emPhoneLogin:case emPhoneNULL:case emPhoneIdle:case emPhoneBusy:case emPhoneOrigated:case emPhoneAlerting:case emPhoneHold:case emPhoneOnLineConsult:case emPhoneOnLineCallout:case emPhoneOnLineConference:case emPhoneOnLineIVR:case emPhoneListen:case emPhoneHelp:case emPhoneInsert:case emPhoneOnConsultMid:case emPhoneOnCalloutMid:case emPhoneOnBridge:case emPhoneOnCallouting:case emPhoneOnCallining:case emPhoneOnConsultFailuer:case emPhoneOnCalloutBefore:case emPhoneOnCallinBefore:case emPhoneOnLineOutBusy:case emPhoneOnLineOutIdle:case emPhonePickuping:case emPhoneOnCallConnect:case emPhoneOnCallConnectAlerting:c=a;break;case emPhoneOnLine:case emPhoneRetrive:case emPhoneIncept:0==b&&(b=1==this._oPhoneDev._oAcpCall._acpEvent.body.agent.master);switch(this._oPhoneDev._oAcpCall.GetCallScene()){case CST_ONE:return;case CST_IVR:c=emPhoneOnLineIVR;break;case CST_INVITED:c=b?emPhoneOnLineIVR:emPhoneOnLineCallout;break;case CST_MAKECALL:c=this._oPhoneDev._oAcpCall._acpEvent.head.serviceID==CD_INTERCEPT_CALLIN?emPhoneOnLineIVR:emPhoneOnLineCallout;break;case CST_CONSULT:c=emPhoneOnLineConsult;break;case CST_CONFERENCE:c=emPhoneOnLineConference;break;case CST_MCONFERENCE:c=emPhoneOnCallConnect}break;case emPhoneOnLineOut:this._oPhoneDev._oAcpCall._acpEvent.body.agent.agentStatus==AG_WORKING_AFTER_CALL?(c=emPhoneOnLineOutBusy,this._SetAgentEnterWrapUp()):c=emPhoneOnLineOutIdle}this._SetPhoneBtnStatus(c,b)}};this._ResetBtn=function(){for(var a=0;31>a;a++)this._arrBtnStatus[a]=!1};this._SetPhoneBtnStatus=function(a,b){var c=this._oPhoneStatus.GetSceneItems(a);if(0!=c){var e;if(b)for(e=0;e<c._masterItems.length;e++)this._arrBtnStatus[c._masterItems[e]]=!0;else for(e=0;e<c._items.length;e++)this._arrBtnStatus[c._items[e]]=!0;this._arrBtnStatus[emBtnConfig]=!0;if(a==emPhoneOnLineOutBusy||a==emPhoneBusy)this._arrBtnStatus[emBtnCallBack]=""!=this._oAgentInfo._strCallInNum,this._arrBtnStatus[emBtnReCall]=""!=this._oAgentInfo._strCallOutNum;this._arrBtnStatus[emBtnMute]=this._arrBtnStatus[emBtnEndCall];this._oPhoneDev._SetHoldStatusTime(0);this._oAgentInfo._workstatus!=c._secneID&&(this._FireOnAgentWorkReport(c._secneID,this._oPhoneStatus.GetSceneDescription(c)),c=this._GetBtnIDs(),""!=c&&this._FireOnReportBtnStatus(c))}};this._GetBtnIDs=function(){for(var a,b="",c=0;c<this._oPhoneStatus._showBtnIDCount;c++)a=this._oPhoneStatus._arrShowBtnIDs[c],a==emBtnWrapUp?b=""==b?stringFormat("{0}",a):b+"|"+a:1==this._arrBtnStatus[a]&&(b=""==b?stringFormat("{0}",a):b+"|"+a);return b};this._NGCCARETURN=function(a){return 1==a?CINVccBar_SUCCESS:CINVccBar_FAILURE};this._AnswerPhone=function(a){if(!this._IsMethodEnable("Answer",emBtnPickUp))return-1;a=getDefaultParamValue(a,0);var b=-1;this._oAgentInfo._phoneType==PhoneYealink?(b=this._NGCCARETURN(this._oPhoneDev.Answer(this._oAgentInfo._dN,a,this._oAgentInfo._phoneType)),this._SetBtnStatus(emPhonePickuping,!1)):this._IsSipCtrlUsed()&&(b=this._sipCtrl.Pickup(this._oAgentInfo._sipconfig),this._SetBtnStatus(emPhonePickuping,!1));return b};this._SetAgentEnterWrapUp=function(){if(3==this._thisCallInfo._thisIdleStatus||4==this._thisCallInfo._thisIdleStatus)DisplayLog(VccBar_Log_Info,stringFormat("SetThisAgentEnterWrapUp(IdleStatus:{0},interval:{1})",this._thisCallInfo._thisIdleStatus,this._thisCallInfo._thisAutoStatusInteval)),0!=this._thisCallInfo._thisAutoStatusInteval&&0==this._thisCallInfo._timeThisAgentWrapUp.bIninit&&(this._thisCallInfo._timeThisAgentWrapUp.bIninit=1,this._thisCallInfo._timeThisAgentWrapUp.timeIndex=0,this._thisCallInfo._timeThisAgentWrapUp.maxTimeOut=this._thisCallInfo._thisAutoStatusInteval,this._thisCallInfo._timeThisAgentWrapUp.strBeginTime=getAcpTimeString(!1),this._oTimer.SetTimer(this._thisCallInfo._timeThisAgentWrapUp.nTimerID,1E3));else if(3==this._oAgentInfo._idleStatus||4==this._oAgentInfo._idleStatus)DisplayLog(VccBar_Log_Info,stringFormat("SetAgentEnterWrapUp(IdleStatus:%d,interval:%d)",this._oAgentInfo._idleStatus,this._oAgentInfo._autoStatusInterval)),0!=this._oAgentInfo._autoStatusInterval&&(this._thisCallInfo._timeAgentWrapUp.bIninit=1,this._thisCallInfo._timeAgentWrapUp.timeIndex=0,this._thisCallInfo._timeAgentWrapUp.maxTimeOut=this._oAgentInfo._autoStatusInterval,this._thisCallInfo._timeAgentWrapUp.strBeginTime=getAcpTimeString(!1),this._oTimer.SetTimer(this._thisCallInfo._timeAgentWrapUp.nTimerID,1E3))};this._StartScreenRecord=function(a,b){0!=this._thisCallInfo._screenRecord&&this._oAgentInfo._screenCaptureType==emSreenCapture_call&&null!=this._screenCaptureCtrl&&this._screenCaptureCtrl.BeginRecord(this._thisCallInfo._fileName,a,b)};this._EndScreenRecord=function(){null!=this._screenCaptureCtrl&&this._screenCaptureCtrl.EndRecord()};this._UpLoadLogToCTI=function(a,b){var c=a.split("|"),e=c[0],d=c[1],g=c[2],c=c[3],h="",h=""!=c?stringFormat("https://{0}?filePath\x3dlog/{1}\x26fileName\x3d",c,this._oAgentInfo._vccID):443==this._oAgentInfo._mainPortID?stringFormat("https://{0}/{1}/uploadCtiLog.jsp?filePath\x3dlog/{2}\x26fileName\x3d",this._oAgentInfo._mainIP,this._oAgentInfo._logXPath,this._oAgentInfo._vccID):stringFormat("https://{0}:{1}/{2}/uploadCtiLog.jsp?filePath\x3dlog/{3}\x26fileName\x3d",this._oAgentInfo._mainIP,this._oAgentInfo._mainPortID,this._oAgentInfo._logXPath,this._oAgentInfo._vccID);DisplayLog(VccBar_Log_Info,stringFormat("UploadFileTo({0})",h));var k=this;SendLogDataToServer(h,k._oConfig.app.GetLogText(),d,function(a,c,f){f=stringFormat("{0}|{1}|{2}|{3}|{4}|{5}|{6}",d,e,g,"",a,c,f);0<c?(k._FireOnPrompt(4461,f),k._oConfig.app.DelLog(!0)):(k._FireOnPrompt(4462,f),k._oConfig.app.DelLog(!1));b(f)})};this._MakeOnReleaseSuccess=function(){DisplayLog(VccBar_Log_Debug,stringFormat("MakeOnReleaseSuccess({0})",this._strReleaseSID));this._thisCallInfo._endTimer=getAcpTimeString(!1);this._oPhoneDev._oAcpCall._acpEvent.body.eventType=ACP_OnReleaseSuccess;this._oPhoneDev._oAcpCall._acpEvent.body.agent.agentStatus=4;this._FireOnCallEndEvent(this._oPhoneDev._oAcpCall)};this._CreateScreenCapture=function(){this._oAgentInfo._screenCaptureType!=emSreenCapture_none&&(this._screenCaptureCtrl=new ScreenRecordCtrl({OnScreenRecordDebug:function(a){DisplayLog(VccBar_Log_Info,stringFormat("OnScreenRecordDebug({0})",a))},OnScreenRecordError:function(a,b){DisplayLog(VccBar_Log_Info,stringFormat("OnScreenRecordError({0},{1})",a,b))},OnScreenRecordUploadFile:function(a){DisplayLog(VccBar_Log_Info,stringFormat("OnScreenRecordUploadFile({0})",a))},OnScreenConnected:function(){DisplayLog(VccBar_Log_Info,"OnScreenConnected()")}}))};this._OnTimerEvent=function(a){var b=this.oParent;a!=CINNGCCA_METHOD_ID&&a!=CINNGCCA_AGENTREPORT_ID&&a!=CINNGCCA_AGENTRECONNECT_ID&&a!=CINNGCCA_EMPTYHEARTBEAT_ID&&a!=CINNGCCA_OPENSOCKET_ID&&a!=CINNGCCA_REDIRECTSOCKET_ID&&a!=CINNGCCA_METHOD_HOLDUP_STATUS_ID||b._oPhoneDev.OnTimerEvent(a);a!=AMP_EMPTYHEARTBEAT_ID&&a!=AMP_AGENTRECONNECT_ID&&a!=AMP_STARTNOTIFICATION_ID&&a!=AMP_OPENSOCKET_ID||b._oMonitorDev.OnTimerEvent(a);a==CTRL_AGENTRECONNECT_ID&&(b._AcpSocketReconnectTimer>=TIMER_RECONNECT_TIME?(b._oTimer.KillTimer(CTRL_AGENTRECONNECT_ID),b._AcpSocketReconnectTimer=0,1==b._oAgentInfo._isInitial&&(b._oPhoneDev.CloseStream(),b._oPhoneDev._oAcpCall.SetAgentStatus(AG_NULL),b._oAgentInfo._isSignIn=!1),b._SetBtnStatus(emPhoneNULL,!1),b._IsSipCtrlUsed()&&-1==b._sipCtrl.ReleasePA()&&(b._oAgentInfo._sipRegisted=!1,b._sipCtrl=null),b._FireOnBarExit(4303,"")):(DisplayLog(VccBar_Log_Debug,stringFormat("JVccBarCenter:AgentReconnectTimer({0})",b._AcpSocketReconnectTimer)),b._AcpSocketReconnectTimer++,b._FireOnPrompt(4006),b._oPhoneDev.AgentReconnect(!0)&&b._oTimer.KillTimer(CTRL_AGENTRECONNECT_ID)));a==CTRL_QueryCTIInfo_ID_8&&b._NGCCARETURN(b._oPhoneDev.GetCTIParam("",8,b._arrQueryCTIInfo[0],1));a==CTRL_QueryCTIInfo_ID_9&&b._NGCCARETURN(b._oPhoneDev.GetCTIParam("",9,b._arrQueryCTIInfo[1],1));a==CTRL_QueryCTIInfo_ID_10&&b._NGCCARETURN(b._oPhoneDev.GetCTIParam("",10,b._arrQueryCTIInfo[2],1));a==CTRL_QueryCTIInfo_ID_22&&b._NGCCARETURN(b._oPhoneDev.GetCTIParam("",22,b._arrQueryCTIInfo[3],1));a==CTRL_CallQueueQuery_ID&&b._NGCCARETURN(b._oPhoneDev.CallQueueQuery(b._arrQueryCTIInfo[4]));a==CTRL_AnswerPhone_ID&&(b._oTimer.KillTimer(a),b._AnswerPhone());if(a==CTRL_GetLogFile_ID){b._oTimer.KillTimer(a);b._oTimer.KillTimer(a);var c=b._oAgentInfo._logHttpCfg.split("|"),d=stringFormat("{0}|{1}|{2}|||-7|not surpported",b._oAgentInfo._agentID,c[0],c[2]);4==c.length?b._UpLoadLogToCTI(b._oAgentInfo._logHttpCfg,function(a){b._NGCCARETURN(b._oPhoneDev.SetCTIParam("",33,a,0))}):b._NGCCARETURN(b._oPhoneDev.SetCTIParam("",33,d,0))}if(a==CTRL_AgentWrapUp_ID){c=b._oPhoneDev._oAcpCall._acpEvent.body.agent.agentStatus;if(4!=c){b._thisCallInfo._timeAgentWrapUp.timeIndex=0;b._thisCallInfo._timeAgentWrapUp.bIninit=0;b._oTimer.KillTimer(a);return}b._thisCallInfo._timeAgentWrapUp.timeIndex+1>=b._thisCallInfo._timeAgentWrapUp.maxTimeOut||getStringTimerInterval(b._thisCallInfo._timeAgentWrapUp.strBeginTime,getAcpTimeString(!1))>b._thisCallInfo._timeAgentWrapUp.maxTimeOut?(b._thisCallInfo._timeAgentWrapUp.timeIndex=0,b._thisCallInfo._timeAgentWrapUp.bIninit=0,b._oTimer.KillTimer(a),3==b._oAgentInfo._idleStatus?b.SetIdle():b.SetBusy(b._oAgentInfo._idleSubStatus)):b._thisCallInfo._timeAgentWrapUp.timeIndex++}if(a==CTRL_ThisAgentWrapUp_ID){c=b._oPhoneDev._oAcpCall._acpEvent.body.agent.agentStatus;if(4!=c){b._thisCallInfo._timeThisAgentWrapUp.timeIndex=0;b._thisCallInfo._timeThisAgentWrapUp.bIninit=0;b._oTimer.KillTimer(a);return}b._thisCallInfo._timeThisAgentWrapUp.timeIndex+1>=b._thisCallInfo._timeThisAgentWrapUp.maxTimeOut||getStringTimerInterval(b._thisCallInfo._timeThisAgentWrapUp.strBeginTime,getAcpTimeString(!1))>b._thisCallInfo._timeThisAgentWrapUp.maxTimeOut?(b._thisCallInfo._timeThisAgentWrapUp.timeIndex=0,b._thisCallInfo._timeThisAgentWrapUp.bIninit=0,b._oTimer.KillTimer(a),3==b._thisCallInfo._thisIdleStatus?b.SetIdle():b.SetBusy(b._thisCallInfo._thisIdleSubStatus)):b._thisCallInfo._timeThisAgentWrapUp.timeIndex++}a==CINNGCCA_SIPDISCTI_ID&&(b._oTimer.KillTimer(a),3==b.GetAgentStatus()&&b._strReleaseSID==b._oPhoneDev._oAcpCall._acpEvent.head.serialID&&b.Disconnect(1))};this._OnRecieveAcpMessage=function(a){var b=a._acpEvent.body.eventTypeName;DisplayLog(VccBar_Log_Debug,stringFormat("JVccBarCenter:_OnRecieveAcpMessage({0},{1})",a._acpEvent.body.eventType,a._acpEvent.body.eventTypeName));switch(a._acpEvent.body.eventType){case ACP_Initial_CONF:if("2"==a._acpEvent.body.datas[0]){var c;try{c=a._acpEvent.body.datas[4].split("|")}catch(f){}this._oAgentInfo._mainIP=c[0];this._oAgentInfo._mainPortID=stringToInt(c[1]);this._oAgentInfo._monitorIP=c[2];this._oAgentInfo._monitorPort=stringToInt(c[3]);this._oAgentInfo._sipServerIP=c[4];this._oAgentInfo._sipServerPort=stringToInt(c[5])}break;case ACP_SignIn_CONF:if(a._msgReceived==MSG_SUCCESS)this._oAgentInfo._isSignIn=!0,this._oAgentInfo._idleStatus=stringToInt(a._acpEvent.body.datas[0],0),this._oAgentInfo._serviceLists=a._acpEvent.body.datas[2],this._oAgentInfo._ggentType=stringToInt(a._acpEvent.body.datas[3],0),this._oAgentInfo._locked=stringToInt(a._acpEvent.body.datas[4],0),this._oAgentInfo._allTimeRecord=stringToInt(a._acpEvent.body.datas[5],0),this._oAgentInfo._deviceType=stringToInt(a._acpEvent.body.datas[6],0),this._oAgentInfo._ctiEvent=a._acpEvent.body.datas[10],this._oAgentInfo._av=stringToInt(a._acpEvent.body.datas[11],0),this._oAgentInfo._timeStamp=a._acpEvent.head.timeStamp,this._oAgentInfo._substatus=a._acpEvent.body.datas[12],this._oAgentInfo._ctiVersion=a._acpEvent.body.datas[17],this._oAgentInfo._exitCause=a._acpEvent.body.datas[16],this._oAgentInfo._loginmode=stringToInt(a._acpEvent.body.datas[13],0),this._oAgentInfo._autoStatusInterval=stringToInt(a._acpEvent.body.datas[14],0),this._oAgentInfo._idleSubStatus=stringToInt(a._acpEvent.body.datas[1],0),this._oAgentInfo._autoAnswer=stringToInt(a._acpEvent.body.datas[15],0),this._oAgentInfo._agentName=a._acpEvent.body.datas[18],this._oAgentInfo._logLine=stringToInt(a._acpEvent.body.datas[19],0),1<=this._oAgentInfo._logLine&&(1==this._oAgentInfo._logLine?this._oConfig.app.DislayLog(VccBar_Log_Protocol,1):this._oConfig.app.DislayLog(VccBar_Log_Error|VccBar_Log_Warn|VccBar_Log_Info|VccBar_Log_Debug|VccBar_Log_Protocol,1),DisplayLog(VccBar_Log_Protocol,stringFormat("Rec{0}:",a.GetAcpMessage())),this._oConfig.app.SetLogMaxLen(this._oAgentInfo._logLine)),this._oAgentInfo._digitalman=stringToInt(a._acpEvent.body.datas[21],0),this._oAgentInfo._videoBypass=stringToInt(a._acpEvent.body.datas[22],0),this._oAgentInfo._phoneType=this._oAgentInfo._deviceType,this._FireOnPrompt(4400),this._FireOnEventPrompt(eventidOnSignInSuccess,this._oAgentInfo._av),this._RegisterMonitor(),this._RegisterPhone();else if(a._msgReceived==MSG_FAILURE){this._oAgentInfo.IsSignIn=!1;0!=this._oAgentInfo._appType&&2!=this._oAgentInfo._appType||this._oPhoneDev.CloseStream();if(1==this._oAgentInfo._appType||2==this._oAgentInfo._appType)this._oMonitorDev.CloseStream(),this._oAgentInfo._isMonitorLogin=!1;this._FireOnPrompt(4401,a._acpEvent.body.cause.code);this._FireOnEventPrompt(eventidOnSignInFailure,"");this._FireOnInitalFailure(IE_InitCTIError,"")}break;case ACP_SetIdle_CONF:a._msgReceived==MSG_SUCCESS?(this._FireOnMethodResponseEvent(b,"0"),this._SetBtnStatus(emPhoneIdle,!1),null!=this._sipCtrl&&this._sipCtrl.CheckSoundPlay()):(this._FireOnMethodResponseEvent(b,a._acpEvent.body.cause.code),this._oPhoneDev._SetHoldStatusTime(0));break;case ACP_SetBusy_CONF:a._msgReceived==MSG_SUCCESS?(this._FireOnMethodResponseEvent(b,"0"),this._SetBtnStatus(emPhoneBusy,!1)):(this._FireOnMethodResponseEvent(b,a._acpEvent.body.cause.code),this._oPhoneDev._SetHoldStatusTime(0));break;case ACP_SetWrapUp_CONF:a._msgReceived==MSG_SUCCESS?(this._FireOnMethodResponseEvent(b,"0"),this._SetBtnStatus(emPhoneOnLineOutBusy,!1)):(this._FireOnMethodResponseEvent(b,a._acpEvent.body.cause.code),this._oPhoneDev._SetHoldStatusTime(0));break;case ACP_OnForceOut:case ACP_OnSignOuted:case ACP_SignOut_CONF:if(a._acpEvent.body.eventType==ACP_OnForceOut&&2116==a._acpEvent.body.cause.code){this._oAgentInfo._connectType=1;this._oPhoneDev.SignIn();break}this._SetBtnStatus(emPhoneNULL,!1);c=this._oAgentInfo._isInitial;if(0==this._oAgentInfo._appType||2==this._oAgentInfo._appType)this._oAgentInfo._isInitial=!1,this._oPhoneDev.CloseStream();if(1==this._oAgentInfo._appType||2==this._oAgentInfo._appType)this._oAgentInfo._isMonitorLogin=!1,this._oMonitorDev.CloseStream();this._IsSipCtrlUsed()&&(a._acpEvent.body.eventType==ACP_OnSignOuted?this._sipCtrl.UnInitial(!1):this._sipCtrl.ReleasePA());a._acpEvent.body.eventType==ACP_OnSignOuted?a=0!=a._acpEvent.body.cause.code?a._acpEvent.body.cause.code:4305:a._acpEvent.body.eventType==ACP_OnForceOut?a=4404:(a._msgReceived==MSG_SUCCESS?this._FireOnMethodResponseEvent(b,"0"):this._FireOnMethodResponseEvent(b,a._acpEvent.body.cause.code),a=ACP_SignOut_CONF);c&&(this._FireOnPrompt(a,""),this._FireOnBarExit(a,""));break;case ACP_AgentReport_CONF:0==a._acpEvent.body.agent.agentStatus&&(this._oAgentInfo._connectType=1,this._oPhoneDev.SignIn());break;case ACP_SetAgentAutoEnterIdle_CONF:case ACP_AgentEnterIdle_CONF:case ACP_ForceIdle_CONF:case ACP_ForceBusy_CONF:case ACP_ForceOut_CONF:case ACP_Lock_CONF:case ACP_UnLock_CONF:case ACP_SendDTMF_CONF:case ACP_CallInside_CONF:case ACP_Consultation_CONF:case ACP_CallOutside_CONF:case ACP_SingleStepTransfer_CONF:case ACP_Transfer_CONF:case ACP_SetTransfer_CONF:case ACP_Hold_CONF:case ACP_RetrieveHold_CONF:case ACP_Conference_CONF:case ACP_Alternate_CONF:case ACP_DoReplyMultimeAndHangUpCall_CONF:case ACP_Listen_CONF:case ACP_Help_CONF:case ACP_Intercept_CONF:case ACP_Insert_CONF:case ACP_StopInsert_CONF:case ACP_BeginRecord_CONF:case ACP_StopRecord_CONF:case ACP_BeginPlay_CONF:case ACP_StopPlay_CONF:case ACP_BeginCollect_CONF:case ACP_StopCollect_CONF:case ACP_Bridge_CONF:case ACP_SMMsg_CONF:case ACP_Answer_CONF:case ACP_Mute_CONF:case ACP_SetCallData_CONF:case ACP_ChangeCallQueue_CONF:case ACP_TransferCallQueue_CONF:case ACP_AgentReconnect_CONF:case ACP_WorkReport_CONF:case ACP_SendWeiboMsg_CONF:case ACP_SendMessage_CONF:case ACP_UpdateMedia_CONF:case ACP_BeginCapture_CONF:case ACP_Connect_CONF:if(a._acpEvent.body.eventType==ACP_SendMessage_CONF&&"NULL"==this._strExecuteMethod){this._strExecuteMethod="";break}a._msgReceived==MSG_SUCCESS?(this._FireOnMethodResponseEvent(b,"0"),a._acpEvent.body.eventType==ACP_AgentReconnect_CONF&&-2!=this._oAgentInfo._oldWorkStatus&&(this._SetBtnStatus(this._oAgentInfo._oldWorkStatus,!1),this._oAgentInfo._oldWorkStatus=-2,this._RegisterPhone(),this._FireOnPrompt(4007,""),this._oTimer.KillTimer(CTRL_AGENTRECONNECT_ID)),a._acpEvent.body.eventType==ACP_CallOutside_CONF&&this._SetBtnStatus(emPhoneOnCalloutBefore,!1),a._acpEvent.body.eventType==ACP_CallInside_CONF&&this._SetBtnStatus(emPhoneOnCallinBefore,!1)):a._acpEvent.body.eventType==ACP_AgentReconnect_CONF?(this._FireOnPrompt(4008,""),this.UnInitial(4008)):this._FireOnMethodResponseEvent(b,a._acpEvent.body.cause.code);break;case ACP_ReleaseCall_CONF:case ACP_ReleaseCallByCallID_CONF:a._msgReceived==MSG_SUCCESS?this._FireOnMethodResponseEvent(this._strExecuteMethod,"0"):(this._FireOnMethodResponseEvent(this._strExecuteMethod,a._acpEvent.body.cause.code),0!=a._acpEvent.body.cause.code&&this._strReleaseSID==this._oPhoneDev._oAcpCall._acpEvent.head.serialID&&this._MakeOnReleaseSuccess(),this._FireOnPrompt(a._acpEvent.body.cause.code));this._strExecuteMethod="";break;case ACP_SetCTIParam_CONF:switch(stringToInt(a._acpEvent.body.datas[1],0)){case 6:b="GetTransfer";break;case 3:b="Mute";break;case 2:b="SetCallData";break;case 4:b="SetCTICalloutTask";break;case 7:b="SetTransparentParameter";break;case 30:b="SetWeChatQueueFlag";break;case 26:b="SetActiveService";break;case 25:b="SetForwardNumber";break;case 8:b="SetDisplayNumber";break;case 31:b="SetAgentReservedStatus";break;case 32:b="GetAgentLogFile";break;case 34:b="SetMMService";break;case 35:b="DeleteCaptureFile";break;default:this._FireOnPrompt(a._acpEvent.body.cause.code);return}a._msgReceived==MSG_SUCCESS?this._FireOnMethodResponseEvent(b,"0"):this._FireOnMethodResponseEvent(b,a._acpEvent.body.cause.code);break;case ACP_GetCTIParam_CONF:c=stringToInt(a._acpEvent.body.datas[1],0);switch(c){case 6:b="GetTransfer";break;case 4:b="GetCTICalloutTask";break;case 2:b="GetCallData";break;case 20:b="SynchronizeCTITime";break;case 30:b="GetWeChatQueueFlag";break;case 26:b="GetActiveService";break;case 21:b="GetDisplayNumber";break;case 22:b="QueryGroupAgentStatus";break;case 23:b="QueryPreViewCallOutNumbers";break;case 25:b="GetForwardNumber";break;case 8:case 9:case 10:case 32:b="QuerySPGroupList";break;default:return}if(a._msgReceived==MSG_SUCCESS){var d=a._acpEvent.body.datas[2];"1"==a._acpEvent.body.datas[3]&&(d=this.GetDataFromBase64(a._acpEvent.body.datas[2]));"QuerySPGroupList"==b?this._FireOnQuerySPGroupList(c,d):this._FireOnMethodResponseEvent(b,d,1)}else this._FireOnMethodResponseEvent(b,a._acpEvent.body.cause.code);break;case ACP_OnAnswerFailure:this._nMonitorFlag=emMonitorNoFlag;this._FireOnEventPrompt(eventidOnAnswerFailure,a._acpEvent.body.cause.code);this._FireOnCallEndEvent(a);break;case ACP_OnConsultationFailure:a=this._oPhoneDev._oAcpCall;b=a.GetAlertDevice();b!=CINVccBar_NULL&&a.DeleteDeviceByID(b.deviceID);this._SetBtnStatus(emPhoneOnConsultFailuer,!1);break;case ACP_OnTransSuccess:this._nMonitorFlag=emMonitorNoFlag;this._FireOnCallEndEvent(a);break;case ACP_OnSingleTransferSuccess:this._nMonitorFlag=emMonitorNoFlag;break;case ACP_OnCallInsideSuccess:this._thisCallInfo._userRingTime=a._acpEvent.head.curtime;a=a.GetAlertDevice();null!=a&&this._FireOnEventPrompt(eventidOnCallInsideSuccess,a.deviceID);this._SetBtnStatus(emPhoneOnCalloutMid,!1);break;case ACP_OnCallInsideFailure:this._SetBtnStatus(emPhoneOnLineOut,!1);this._FireOnEventPrompt(eventidOnCallInsideFailure,"");break;case ACP_OnCallOutsideSuccess:this._thisCallInfo._userRingTime=a._acpEvent.head.curtime;this._thisCallInfo._agentDisplayNumber=a._acpEvent.body.agent.displayNumber;a=a.GetAlertDevice();null!=a&&this._FireOnEventPrompt(eventidOnCallOutsideSuccess,a.deviceID);this._SetBtnStatus(emPhoneOnCalloutMid,!1);break;case ACP_OnCallOutsideFailure:this._SetBtnStatus(emPhoneOnLineOut,!1);this._FireOnEventPrompt(eventidOnCallOutsideFailure,a._acpEvent.body.cause.code);break;case ACP_OnStopRecordSuccess:this._thisCallInfo._endTimer=a._acpEvent.head.curtime;break;case ACP_OnForceRelease:this._nMonitorFlag=emMonitorNoFlag;this._thisCallInfo._endTimer=a._acpEvent.head.curtime;this._thisCallInfo._disconnectType=stringToInt(a._acpEvent.body.datas[2],0);this._thisCallInfo._agentDisplayNumber=a._acpEvent.body.agent.displayNumber;this._FireOnCallEndEvent(a);break;case ACP_OnForceIdle:this._SetBtnStatus(emPhoneIdle);break;case ACP_OnForceBusy:this._SetBtnStatus(emPhoneBusy);break;case ACP_OnAgentAllBusy:this._FireOnPrompt(4457);break;case ACP_OnLocked:this._FireOnPrompt(4405);break;case ACP_OnSystemIdle:a._acpEvent.body.agent.agentStatus==AG_NOT_READY&&this._SetBtnStatus(emPhoneBusy,!1);a._acpEvent.body.agent.agentStatus==AG_READY&&this._SetBtnStatus(emPhoneIdle,!1);break;case ACP_OnConsultationBack:a._acpEvent.body.datas[0]==a._acpEvent.body.callinfo.callingDevice?(this._nMonitorFlag=emMonitorNoFlag,a._acpEvent.body.datas[0]==this._oAgentInfo._dN?this._FireOnCallEndEvent(a):1==a.GetDeviceCount()?a.GetUserNo()==a._acpEvent.body.datas[0]&&a._acpEvent.head.serviceID!=CD_MONITOR_CALLIN&&a._acpEvent.head.serviceID!=CD_INTERCEPT_CALLIN&&a._acpEvent.head.serviceID!=CD_INSERT_CALLIN&&a._acpEvent.head.serviceID!=CD_HELP_CALLIN&&this._FireOnPrompt(4456):2==a.GetDeviceCount()&&(a.GetUserNo()==a._acpEvent.body.datas[0]&&(a._acpEvent.head.serviceID!=CD_MONITOR_CALLIN&&a._acpEvent.head.serviceID!=CD_INTERCEPT_CALLIN&&a._acpEvent.head.serviceID!=CD_INSERT_CALLIN&&a._acpEvent.head.serviceID!=CD_HELP_CALLIN&&this._FireOnPrompt(4456),this._FireOnEventPrompt(203,"")),0!=a.GetAlertDevice()?this._SetBtnStatus(emPhoneOnConsultMid,!1):a.GetHoldDevice()?this._SetBtnStatus(emPhoneHold):this._SetBtnStatus(emPhoneOnLine,!0))):(a=a.GetHoldDevice(),0!=a?(this._SetBtnStatus(emPhoneHold,!1),this._FireOnEventPrompt(eventidOnConsultationBack,"1")):(this._SetBtnStatus(emPhoneOnLine,!1),this._FireOnEventPrompt(eventidOnConsultationBack,"0")));break;case ACP_OnReturnFromPhone:case ACP_OnReturnFromIVR:b=a.GetDeviceByDeviceID(a._acpEvent.body.datas[0]);0!=b&&a._acpEvent.body.eventType==ACP_OnReturnFromIVR&&this._FireOnEventPrompt(eventidOnReturnFromIVR,"");a=a.GetHoldDevice();0!=a?this._SetBtnStatus(emPhoneHold,!1):this._SetBtnStatus(emPhoneOnLine,!1);break;case ACP_OnReleaseSuccess:this._nMonitorFlag=emMonitorNoFlag;b=a._acpEvent.body.datas[0];b==this._oAgentInfo._dN?(this._thisCallInfo._endTimer=a._acpEvent.head.curtime,this._thisCallInfo._disconnectType=stringToInt(a._acpEvent.body.datas[2],0),this._thisCallInfo._agentDisplayNumber=a._acpEvent.body.agent.displayNumber,this._FireOnCallEndEvent(a)):1==a.GetDeviceCount()?a.GetUserNo()==a._acpEvent.body.datas[0]&&a._acpEvent.head.serviceID!=CD_MONITOR_CALLIN&&a._acpEvent.head.serviceID!=CD_INTERCEPT_CALLIN&&a._acpEvent.head.serviceID!=CD_INSERT_CALLIN&&a._acpEvent.head.serviceID!=CD_HELP_CALLIN&&this._FireOnPrompt(4456):2==a.GetDeviceCount()?(a.GetUserNo()==a._acpEvent.body.datas[0]&&(a._acpEvent.head.serviceID!=CD_MONITOR_CALLIN&&a._acpEvent.head.serviceID!=CD_INTERCEPT_CALLIN&&a._acpEvent.head.serviceID!=CD_INSERT_CALLIN&&a._acpEvent.head.serviceID!=CD_HELP_CALLIN&&this._FireOnPrompt(4456),this._FireOnEventPrompt(204,"")),0!=a.GetAlertDevice()?this._SetBtnStatus(emPhoneOnConsultMid,!1):a.GetHoldDevice()?this._SetBtnStatus(emPhoneHold):(this._FireOnEventPrompt(208,b),this._SetBtnStatus(emPhoneOnLine,!0))):(this._FireOnEventPrompt(208,b),a.GetHoldDevice()?this._SetBtnStatus(emPhoneHold):this._SetBtnStatus(emPhoneOnLine,!0));break;case ACP_OnAnswerSuccess:this._thisCallInfo._taskID=a._acpEvent.body.datas[0];this._thisCallInfo._transParentParamet=a._acpEvent.body.datas[1];this._thisCallInfo._authority=a._acpEvent.body.datas[2];this._thisCallInfo._transCodeType=a._acpEvent.body.datas[3];this._FireAnswerCallEvent(a);a._acpEvent.head.serviceID==CD_AGENT_OUTSIDE_CALLOUT||a._acpEvent.head.serviceID==CD_PREVIEW_CALLOUT?(b=a.GetDeviceByDeviceID(a._acpEvent.body.callinfo.calledDevice),0!=b?b.phonestatus!=CS_CONFERENCED?this._SetBtnStatus(emPhoneOnCallouting,!1):this._SetBtnStatus(emPhoneOnLine,!this._thisCallInfo._bOrigated):this._SetBtnStatus(emPhoneOnLine,!this._thisCallInfo._bOrigated)):a._acpEvent.head.serviceID==CD_AGENT_INSIDE_CALLOUT?(b=a.GetDeviceByDeviceID(a._acpEvent.body.callinfo.calledDevice),0!=b?b.phonestatus!=CS_CONFERENCED?this._SetBtnStatus(emPhoneOnCallouting,!1):this._SetBtnStatus(emPhoneOnLine,!this._thisCallInfo._bOrigated):this._SetBtnStatus(emPhoneOnLine,!this._thisCallInfo._bOrigated)):this._SetBtnStatus(emPhoneOnLine,!this._thisCallInfo._bOrigated);break;case ACP_OnCallInsideSuccTalk:this._FireAnswerCallEvent(a);this._SetBtnStatus(emPhoneOnLine,!1);this._FireOnEventPrompt(eventidOnCallInsideSuccTalk,a.GetUserNo());break;case ACP_OnCallOutsideSuccTalk:this._thisCallInfo._agentDisplayNumber=a._acpEvent.body.agent.displayNumber;this._FireAnswerCallEvent(a);this._SetBtnStatus(emPhoneOnLine,!1);this._FireOnEventPrompt(eventidOnCallOutsideSuccTalk,a.GetUserNo());break;case ACP_OnConsultationSuccess:if(2==a._acpEvent.body.callinfo.count){this._SetBtnStatus(emPhoneOnLine);break}this._SetBtnStatus(emPhoneOnLineConsult,!0);for(b=0;b<a._acpEvent.body.callinfo.count;b++)if(c=a._acpEvent.body.callinfo.device[b],c.deviceID!=this._oAgentInfo._dN&&c!=a.GetHoldDevice()){this._FireOnEventPrompt(202,c.deviceID);break}break;case ACP_OnHoldSuccess:this._SetBtnStatus(emPhoneHold,!1);break;case ACP_OnRetrieveHoldSuccess:this._SetBtnStatus(emPhoneOnLine,!0);break;case ACP_OnConferenceSuccess:this._SetBtnStatus(emPhoneOnLineConference,!0);a=this._oPhoneDev._oAcpCall;if(2>=a.GetDeviceCount())break;for(c=0;c<a._acpEvent.body.callinfo.count;c++)if(b=a._acpEvent.body.callinfo.device[c].deviceID,b!=this._oAgentInfo._dN&&b!=a._acpEvent.body.callinfo.calledDevice&&b!=a._acpEvent.body.callinfo.callingDevice){this._strExecuteMethod="NULL";this.SendIMMessage(b,"","",0,2,"$#CONFERENCENOTIFY#$");break}break;case ACP_OnConferenceSucTalk:this._SetBtnStatus(emPhoneOnLineConference,!1);break;case ACP_OnListenSuccess:this._nMonitorFlag=emListenFlag;this._SetBtnStatus(emPhoneListen);break;case ACP_OnHelpSuccess:this._nMonitorFlag=emHelpFlag;this._SetBtnStatus(emPhoneHelp);break;case ACP_OnInsertSuccess:this._nMonitorFlag=emInsertFlag;this._SetBtnStatus(emPhoneInsert);break;case ACP_OnInterceptSuccess:this._nMonitorFlag=emInterceptFlag;this._SetBtnStatus(emPhoneIncept);break;case ACP_OnInserted:this._SetBtnStatus(emPhoneOnLine);break;case ACP_OnBridgeSuccess:this._SetBtnStatus(emPhoneOnBridge);break;case ACP_OnTransferred:this._SetBtnStatus(emPhoneOnLine,!0);break;case ACP_OnOrigated:this._thisCallInfo._bOrigated=!0;this._thisCallInfo._alertTime=a._acpEvent.head.curtime;this._thisCallInfo._ringTime=a._acpEvent.head.curtime;this._FireOnRingCallEvent(a);this._SetBtnStatus(emPhoneOrigated,!1);break;case ACP_OnBeginRecordSuccess:this._thisCallInfo._strRecordFile=a._acpEvent.body.datas[0];this._thisCallInfo._strRecordServer=a._acpEvent.body.datas[1];this._thisCallInfo._strNetworkInfo=a._acpEvent.body.datas[2];break;case ACP_OnAnswerRequest:this._FireOnRingCallEvent(a);break;case ACP_OnCallQueueQuery:this._invokeEvent(eventOnCallQueueQuery,a._acpEvent.body.datas[0]);break;case ACP_OnBeginSendDTMFSuccess:this._FireOnEventPrompt(eventidOnBeginSendDTMFSuccess,a._acpEvent.body.datas[0]);break;case ACP_OnBeginSendDTMFFailure:this._FireOnEventPrompt(eventidOnBeginSendDTMFFailure,a._acpEvent.body.datas[0]);break;case ACP_OnBeginPlaySuccess:this._FireOnEventPrompt(eventidOnBeginPlaySuccess,a._acpEvent.body.datas[0]);break;case ACP_OnBeginPlayFailure:this._FireOnEventPrompt(eventidOnBeginPlayFailure,a._acpEvent.body.datas[0]);break;case ACP_OnStopPlaySuccess:this._FireOnEventPrompt(eventidOnStopPlaySuccess,a._acpEvent.body.datas[0]);break;case ACP_OnStopPlayFailure:this._FireOnEventPrompt(eventidOnStopPlayFailure,a._acpEvent.body.datas[0]);break;case ACP_OnBeginCollectSuccess:this._FireOnEventPrompt(eventidOnBeginCollectSuccess,a._acpEvent.body.datas[0]);break;case ACP_OnBeginCollectFailure:this._FireOnEventPrompt(eventidOnBeginCollectFailure,a._acpEvent.body.datas[0]);break;case ACP_OnStopCollectSuccess:this._FireOnEventPrompt(eventidOnStopCollectSuccess,a._acpEvent.body.datas[0]);break;case ACP_OnStopcollectFailure:this._FireOnEventPrompt(eventidOnStopCollectFailure,a._acpEvent.body.datas[0]);break;case ACP_OnQueueReport:this._FireOnQueueReport(a._acpEvent.body.datas[0]);break;case ACP_OnSystemMessage:if("3"==a._acpEvent.body.datas[0]&&"0"==a._acpEvent.body.datas[2]&&"$#CONFERENCENOTIFY#$"==a._acpEvent.body.datas[3]&&2==this._oPhoneDev._oAcpCall.GetDeviceCount()){this._FireOnEventPrompt(205,"");break}this._FireOnSystemMessage(a._acpEvent.body.datas[0],a._acpEvent.body.datas[1],a._acpEvent.body.datas[2],a._acpEvent.body.datas[3]);a._acpEvent.ctiversion.IsOverAndEqualVersion(2,202105,1)&&"2"==a._acpEvent.body.datas[0]&&this._SetBtnStatus(emPhoneOnLineOut,!1);break;case ACP_OnAgentBusyReason:this._invokeEvent(eventOnAgentBusyReasonReport,stringFormat("{0}|{1}",a._acpEvent.body.datas[0],a._acpEvent.body.datas[1]));this._SetBtnStatus(emPhoneBusy,!1);break;case ACP_OnAsrEventReport:this._invokeEvent(eventOnAsrEventReport,stringFormat("{0}|{1}|{2}|{3}|{4}|{5}",a._acpEvent.body.datas[0],a._acpEvent.body.datas[1],a._acpEvent.body.datas[4],a._acpEvent.body.datas[5],a._acpEvent.body.datas[2],a._acpEvent.body.datas[3]));break;case ACP_OnStopSmSuccess:this._invokeEvent(eventOnStopSmSuccess,a._acpEvent.body.datas[1]);break;case ACP_OnUpdateMediaEvent:this._invokeEvent(eventOnUpdateMediaEvent,stringFormat("{0}|{1}|{2}",a._acpEvent.body.datas[0],a._acpEvent.body.datas[1],a._acpEvent.body.datas[2]));break;case ACP_OnStopCaptureSuccess:this._invokeEvent(eventOnStopCaptureSuccess,stringFormat("{0}|{1}",a._acpEvent.body.datas[0],a._acpEvent.body.datas[1]));break;case ACP_OnConnectFailure:a=this._oPhoneDev._oAcpCall;3>=a.GetDeviceCount()?this._SetBtnStatus(emPhoneOnLine,!0):this._SetBtnStatus(emPhoneOnCallConnect,!0);break;case ACP_OnMuteSuccess:a=this._oPhoneDev._oAcpCall.GetCallInfoString();""!=a&&this._FireOnEventPrompt(eventidOnMuteSuccess,a);break;case ACP_OnStaticInfoReport:this._FireOnWorkStaticInfoReport(a._acpEvent.body.datas[0])}};this._OnAcpMessageOutTime=function(a){};this._OnAcpMessageInvoke=function(a){};this._FireOnRingCallEvent=function(a){this._thisCallInfo._alertTime=a._acpEvent.head.curtime;this._thisCallInfo._thisAutoStatusInteval=stringToInt(a._acpEvent.body.datas[0],0);this._thisCallInfo._thisIdleStatus=stringToInt(a._acpEvent.body.datas[1],0);this._thisCallInfo._thisIdleSubStatus=stringToInt(a._acpEvent.body.datas[2],0);this._thisCallInfo._alertingDevice=a._acpEvent.body.datas[3];this._thisCallInfo._taskID=a._acpEvent.body.datas[4];this._thisCallInfo._transParentParamet=a._acpEvent.body.datas[5];this._thisCallInfo._authority=a._acpEvent.body.datas[6];this._thisCallInfo._areaCode=a._acpEvent.body.datas[7];this._thisCallInfo._fileName=a._acpEvent.body.datas[8];this._thisCallInfo._networkInfo=a._acpEvent.body.datas[9];this._thisCallInfo._queueTime=a._acpEvent.body.datas[10];this._thisCallInfo._thisAutoAnswer=stringToInt(a._acpEvent.body.datas[11],0);this._thisCallInfo._projectID=a._acpEvent.body.datas[12];this._thisCallInfo._accessArea=a._acpEvent.body.datas[13];this._thisCallInfo._taskName=a._acpEvent.body.datas[14];this._thisCallInfo._cityName=a._acpEvent.body.datas[15];this._thisCallInfo._transCodeType=a._acpEvent.body.datas[16];this._thisCallInfo._serverName=a._acpEvent.body.datas[17];this._thisCallInfo._screenRecord=a._acpEvent.body.datas[18];this._thisCallInfo._userType=a._acpEvent.body.datas[19];var b=a.GetAlertDevice();if(0!=b&&this._oAgentInfo._dN==b.deviceID){this._thisCallInfo._ringTime=a._acpEvent.head.curtime;this._FireOnCallRing(a._acpEvent.body.callinfo.callingDevice,a._acpEvent.body.callinfo.calledDevice,a._acpEvent.body.callinfo.orgCalledDevice,a._acpEvent.body.callinfo.callData,a._acpEvent.head.serialID,a._acpEvent.head.serviceID,a._acpEvent.head.sessionID,this._thisCallInfo._transParentParamet,this._thisCallInfo._taskID,a.GetPartenerNum(),this._oAgentInfo._dN,this._thisCallInfo._areaCode,this._thisCallInfo._fileName,this._thisCallInfo._networkInfo,this._thisCallInfo._queueTime,a._acpEvent.body.callinfo.opAgentID,this._thisCallInfo._ringTime,this._thisCallInfo._projectID,this._thisCallInfo._accessArea,this._thisCallInfo._taskName,this._thisCallInfo._cityName,this._thisCallInfo._transCodeType,this._thisCallInfo._userType);this._SetBtnStatus(emPhoneAlerting,!1);var c=a._acpEvent.head.serviceID;if(1==this._thisCallInfo._thisAutoAnswer||1==this._oAgentInfo._autoAnswer||c==CD_AGENT_OUTSIDE_CALLOUT&&1==a.GetDirection()||c==CD_AGENT_INSIDE_CALLOUT&&1==a.GetDirection()||c==CD_PREVIEW_CALLOUT&&1==a.GetDirection()||c==CD_SERVRE_EXACT_CALLOUT||c==CD_STEPBYSTEP_CALLOUT||c==CD_FORECAST_CALLOUT&&1==this._oAgentInfo._isForeCastCallAutoAnswer||c==CD_EXACT_PREVIEW_CALLOUT)DisplayLog(VccBar_Log_Info,"alerting:auto pickup"),c!=CD_AGENT_OUTSIDE_CALLOUT&&c!=CD_AGENT_INSIDE_CALLOUT&&c!=CD_PREVIEW_CALLOUT&&c!=CD_EXACT_PREVIEW_CALLOUT?0<this._oAgentInfo._answerDelayTime?(DisplayLog(VccBar_Log_Info,"delaytime: "+this._oAgentInfo._answerDelayTime),this._oTimer.SetTimer(CTRL_AnswerPhone_ID,1E3*this._oAgentInfo._answerDelayTime)):this._AnswerPhone():this._AnswerPhone()}3==a.GetDeviceCount()&&0!=a.GetHoldDevice()?(a.GetServiceDirect()!=CD_BRIDGE_CALLOUT&&this._SetBtnStatus(emPhoneOnConsultMid,!1),0!=b&&this._FireOnEventPrompt(201,b.deviceID)):3<=a.GetDeviceCount()&&(0!=b&&this._FireOnEventPrompt(207,b.deviceID),a.GetServiceDirect()==CD_CONNECT_CALLOUT&&this._SetBtnStatus(emPhoneOnCallConnectAlerting,!0))};this._FireAnswerCallEvent=function(a){this._thisCallInfo._answerTimer=a._acpEvent.head.curtime;this._thisCallInfo._userNo=a.GetUserNo();switch(a._acpEvent.body.eventType){case ACP_OnAnswerSuccess:if(3<=a.GetDeviceCount()||a.GetCallScene()==CST_MAKECALL&&!this._thisCallInfo._bOrigated&&a._acpEvent.head.serviceID!=CD_MONITOR_CALLIN&&a._acpEvent.head.serviceID!=CD_INTERCEPT_CALLIN&&a._acpEvent.head.serviceID!=CD_INSERT_CALLIN&&a._acpEvent.head.serviceID!=CD_HELP_CALLIN&&a._acpEvent.head.serviceID!=CD_CONNECT_CALLOUT)return;this._oAgentInfo._strCallInNum=this._thisCallInfo._userNo;break;case ACP_OnCallInsideSuccTalk:case ACP_OnCallOutsideSuccTalk:this._oAgentInfo._strCallOutNum=this._thisCallInfo._userNo;break;default:return}this._thisCallInfo._serialID=a._acpEvent.head.serialID;this._thisCallInfo._callID=a._acpEvent.head.sessionID;this._FireOnCallConnectd(this._thisCallInfo._userNo,this._thisCallInfo._answerTimer,a._acpEvent.head.serialID,a._acpEvent.head.serviceID,a._acpEvent.head.sessionID,this._thisCallInfo._transParentParamet,this._thisCallInfo._taskID,a.GetUserAV(),a.GetUserTC())};this._FireOnCallEndEvent=function(a){DisplayLog(VccBar_Log_Debug,stringFormat("ringTime:{0} UserRingTime:{1} answerTimer:{2} endTimer:{3}",this._thisCallInfo._ringTime,this._thisCallInfo._userRingTime,this._thisCallInfo._answerTimer,this._thisCallInfo._endTimer));var b=this._thisCallInfo._strRecordFile,c,d;d=c="";var f=b.lastIndexOf("/");0<f&&(c=b.substr(f,b.length-f+1),d=b.substr(0,f));switch(a._acpEvent.body.eventType){case ACP_OnAnswerFailure:case ACP_OnReleaseSuccess:case ACP_OnTransSuccess:case ACP_OnForceRelease:case ACP_OnSingleTransferSuccess:break;default:return}this._strReleaseSID="";var g,h,b=stringFormat("{0}",getStringTimerInterval(this._thisCallInfo._ringTime,this._thisCallInfo._answerTimer)),f=stringFormat("{0}",getStringTimerInterval(this._thisCallInfo._userRingTime,this._thisCallInfo._answerTimer));g=this._thisCallInfo._answerTimer;h=this._thisCallInfo._endTimer;""==c&&(f="0",h=g="");this._FireOnCallEnd(a._acpEvent.head.sessionID,a._acpEvent.head.serialID,a._acpEvent.head.serviceID,this._thisCallInfo._userNo,g,h,b,f,c,d,this._thisCallInfo._disconnectType,this._thisCallInfo._transParentParamet,this._thisCallInfo._taskID,this._thisCallInfo._strRecordServer,this._thisCallInfo._strNetworkInfo,this._thisCallInfo._agentDisplayNumber);this._FireOnCdrReportInfo(a);this._thisCallInfo.ReleaseInfo();this._SetBtnStatus(emPhoneOnLineOut,!1)};this._FireOnCallRing=function(a,b,c,d,f,g,h,k,l,m,q,p,n,t,u,v,z,y,w,S,I,T,O){this._invokeEvent(eventOnCallRing,stringFormat("{0}|{1}|{2}|{3}|{4}|{5}|{6}|{7}|{8}|{9}|{10}|{11}|{12}|{13}|{14}|{15}|{16}|{17}|{18}|{19}|{20}|{21}|{22}",a,b,c,d,f,g,h,k,l,m,q,p,n,t,u,v,z,y,w,S,I,T,O))};this._FireOnCallConnectd=function(a,b,c,d,f,g,h,k,l,m){this._StartScreenRecord(f,c);this._BeginVideoBypass();this._invokeEvent(eventOnAnswerCall,stringFormat("{0}|{1}|{2}|{3}|{4}|{5}|{6}|{7}|{8}|{9}",a,b,c,d,f,g,h,k,l,m))};this._FireOnCallEnd=function(a,b,c,d,f,g,h,k,l,m,q,p,n,t,u,v,z){this._IsSipCtrlUsed()&&null!=this._sipCtrl&&this._sipCtrl.Disconnect();this._EndScreenRecord();this._invokeEvent(eventOnCallEnd,stringFormat("{0}|{1}|{2}|{3}|{4}|{5}|{6}|{7}|{8}|{9}|{10}|{11}|{12}|{13}|{14}|{15}|{16}",a,b,c,d,f,g,h,k,l,m,q,p,n,t,u,v,z))};this._FireOnCdrReportInfo=function(a){reportInfo=a._acpEvent.body.reportinfo;""==reportInfo.callid?this._invokeEvent(eventOnCallCdrReport,stringFormat("{0}|{1}|{2}|{3}|{4}|{5}|{6}|{7}|{8}|{9}|{10}|{11}|{12}|{13}|{14}|{15}",a._acpEvent.head.sessionID,a._acpEvent.head.serialID,this._thisCallInfo._userNo,1==a.GetDirection()?2:1,this._thisCallInfo._taskID,"",this._thisCallInfo._answerTimer,this._thisCallInfo._ringTime,this._thisCallInfo._answerTimer,"",getStringTimerInterval(this._thisCallInfo._ringTime,this._thisCallInfo._answerTimer),0,""==this._thisCallInfo._answerTimer?"0":"1",this._thisCallInfo._strRecordFile,this._thisCallInfo._strRecordServer,"")):this._invokeEvent(eventOnCallCdrReport,stringFormat("{0}|{1}|{2}|{3}|{4}|{5}|{6}|{7}|{8}|{9}|{10}|{11}|{12}|{13}|{14}|{15}",reportInfo.callid,reportInfo.sid,reportInfo.usernumber,reportInfo.direction,reportInfo.serviceid,reportInfo.detail,reportInfo.starttime,reportInfo.ringtime,reportInfo.answertime,reportInfo.endtime,reportInfo.ringseconds,reportInfo.answerseconds,reportInfo.answerflag,reportInfo.srfmsgid,reportInfo.msserver,reportInfo.callrescode))};this._FireOnPrompt=function(a,b){"undefined"==typeof b&&(b="");this._invokeEvent(eventOnPrompt,stringFormat("{0}|{1}",a,b))};this._FireOnReportBtnStatus=function(a){this._invokeEvent(eventOnReportBtnStatus,a)};this._FireOnInitalSuccess=function(){if(1!=this._oAgentInfo._isInitial){var a=1==this._oAgentInfo._appType||2==this._oAgentInfo._appType,b=this._IsSipCtrlUsed(),c=0==this._oAgentInfo._appType||2==this._oAgentInfo._appType,a=a?a&&this._oAgentInfo._isMonitorLogin:1,b=b?b&&this._oAgentInfo._sipRegisted:1,c=c?c&&this._oAgentInfo._isSignIn:1;a&&b&&c&&(this._FireOnPrompt(4410),this._oAgentInfo._isInitial=!0,this._SetBtnStatus(emPhoneLogin,!1),0==this._oAgentInfo._connectType&&this._invokeEvent(eventOnInitalSuccess,""),this._oAgentInfo._connectType=0)}};this._FireOnInitalFailure=function(a,b){this._oAgentInfo._isInitial=!1;this._oAgentInfo._isSignIn=!1;0==this._oAgentInfo._connectType&&this._invokeEvent(eventOnInitalFailure,stringFormat("{0}|{1}",a,b));this._oAgentInfo._connectType=0};this._FireOnEventPrompt=function(a,b){this._invokeEvent(eventOnEventPrompt,stringFormat("{0}|{1}",a,b))};this._FireOnAgentWorkReport=function(a,b){this._oAgentInfo._workstatus=a;this._invokeEvent(eventOnAgentWorkReport,stringFormat("{0}|{1}",a,b));var c=this._oPhoneDev._oAcpCall.GetCallInfoString();""!=c&&this._FireOnEventPrompt(130,c);1==this._thisCallInfo._retrieveCall&&(a==emPhoneHold&&this.RetrieveHold(),this._thisCallInfo._retrieveCall=0)};this._FireOnCallDataChanged=function(a){this._invokeEvent(eventOnCallDataChanged,a)};this._FireOnBarExit=function(a,b){this._oAgentInfo._isInitial=!1;this._oAgentInfo._isSignIn=!1;null!=this._screenCaptureCtrl&&this._screenCaptureCtrl.UnInitial();this._invokeEvent(eventOnBarExit,stringFormat("{0}|{1}",a,b))};this._FireOnSystemMessage=function(a,b,c,d){"1"==a?this._FireOnCallDataChanged(c):"2"==a?this._invokeEvent(eventOnSystemMessage,"2|"+c):"3"==a?"0"==c?this._invokeEvent(eventOnIMMessage,"0|"+d):this._invokeEvent(eventOnIMMessage,"1|"+d):"4"==a?(this._oAgentInfo._logHttpCfg=c,this._oTimer.SetTimer(CTRL_GetLogFile_ID,1E3)):"5"==a?(a=c.split("|"),7==a.length&&this._invokeEvent(eventOnAgentLogUploadReport,a[1]+"|"+a[2]+"|"+a[3]+"|"+a[4]+"|"+a[5]+"|"+a[6])):"22"==a?this._invokeEvent(eventOnQueryGroupAgentStatus,c+"@"+d):"23"==a||"24"==a?this._invokeEvent(eventOnSystemMessage,a+"|"+c):"25"==a&&this._invokeEvent(eventOnSystemMessage,a+"|")};this._FireOnWorkStaticInfoReport=function(a){this._invokeEvent(eventOnWorkStaticInfoReport,a)};this._FireOnQueueReport=function(a){this._invokeEvent(eventOnQueueReport,a)};this._FireOnQuerySPGroupList=function(a,b){this._invokeEvent(eventOnAQueryCTIInfoReport,a+"|"+b)};this._FireOnMethodResponseEvent=function(a,b,c){null!=this._methodCallBackFunction&&"AgentReconnect"!=a&&"AgentReport"!=a&&(c=getDefaultParamValue(c,0),this._methodCallBackFunction(a,b),0==c&&"0"!=b&&"-1"!=b&&this._FireOnPrompt(b))};this._invokeEvent=function(a,b){null!=this._eventCallBackFunction&&(a!=eventOnCallEnd&&a!=eventOnAnswerCall&&a==eventOnInitalSuccess&&(DisplayLog(VccBar_Log_Info,stringFormat("screenCaptureType({0})",this._oAgentInfo._screenCaptureType)),this._CreateScreenCapture(),this._oAgentInfo._screenCaptureType!=emSreenCapture_none&&(this._oAgentInfo._ftpDirectory="/home/media/media/",this._screenCaptureCtrl.Initial({ftpServer:this._oAgentInfo._ftpIp,ftpPort:this._oAgentInfo._ftpPort,ftpUser:this._oAgentInfo._ftpUser,ftpPppppp:this._oAgentInfo._ftpP,ftpDir:this._oAgentInfo._ftpDirectory,screenRecordType:this._oAgentInfo._screenCaptureType,vccID:this._oAgentInfo._vccID,agentID:this._oAgentInfo._agentID,recordTime:this._oAgentInfo._recordTime}))),this._eventCallBackFunction(a,b))};this._OnSipEventOnRing=function(a){DisplayLog(VccBar_Log_Info,"OnBarSipEventOnRing")};this._OnSipEventOnOrigated=function(){DisplayLog(VccBar_Log_Info,"OnBarSipEventOnOrigated")};this._OnSipEventOnDisconnected=function(){DisplayLog(VccBar_Log_Info,"OnBarSipEventOnDisconnected");var a=this.oParent;3==a.GetAgentStatus()&&(a._strReleaseSID=a._oPhoneDev._oAcpCall._acpEvent.head.serialID,a._oTimer.SetTimer(CINNGCCA_SIPDISCTI_ID,100*CINNGCCA_SIPDISCTI_INTERVAL))};this._OnSipEventOnConnected=function(a){DisplayLog(VccBar_Log_Info,"OnBarSipEventOnConnected");this.oParent._oTimer.KillTimer(CTRL_AnswerPhone_ID)};this._OnSipEventOnError=function(a,b){var c=this.oParent;488==a?c._FireOnPrompt(4800,b):c._FireOnPrompt(4801,b);DisplayLog(VccBar_Log_Error,stringFormat("OnBarSipEventOnError({0},{1})",a,b))};this._OnSipEventOnLoginSuccess=function(){DisplayLog(VccBar_Log_Info,"OnBarSipEventOnLoginSuccess");var a=this.oParent;0==a._oAgentInfo._isInitial&&a._FireOnPrompt(4361);a._oAgentInfo._sipRegisted=!0;a._IsSipCtrlUsed()&&0==a._oAgentInfo._isInitial&&a._FireOnInitalSuccess()};this._OnSipEventOnLoginFailure=function(a,b){DisplayLog(VccBar_Log_Debug,stringFormat("OnBarSipEventOnLoginFailure({0},{1})",a,b));var c=this.oParent;c._oAgentInfo._sipRegisted=!1;if(c._IsSipCtrlUsed()){c._oAgentInfo.IsSignIn=!1;0!=c._oAgentInfo._appType&&2!=c._oAgentInfo._appType||c.UnInitial();if(1==c._oAgentInfo._appType||2==c._oAgentInfo._appType)c._oMonitorDev.CloseStream(),c._oAgentInfo._isMonitorLogin=!1;c._FireOnPrompt(4316,a+":"+b);c._FireOnInitalFailure(IE_InitSIPError,"")}};this._OnSipEventOnLogoutSuccess=function(){DisplayLog(VccBar_Log_Debug,"OnBarSipEventOnLogoutSuccess");var a=this.oParent;a._oAgentInfo._sipRegisted=!1;a._sipCtrl=null};this._OnSipEventDebug=function(a){DisplayLog(VccBar_Log_Debug,"OnBarSipEventDebug:"+a)};this.Initial=function(a){if(this._oAgentInfo._isInitial||this._oAgentInfo._isSignIn)return CINVccBar_TRUE;this._oAgentInfo._mainLink=getDefaultParamValue(a,1);1==this._oAgentInfo._mainLink?this._FireOnPrompt(4407):this._FireOnPrompt(4412);a=CINVccBar_FAILURE;if(0==this._oAgentInfo._appType||2==this._oAgentInfo._appType)a=this._oPhoneDev.OpenStream(this._oAgentInfo._mainIP,this._oAgentInfo._mainPortID,!0),1<a&&(this._FireOnPrompt(a,""),this._FireOnPrompt(4401,a),this._FireOnInitalFailure(IE_InitCTIError),a=CINVccBar_FAILURE);else if(1==this._oAgentInfo._appType||2==this._oAgentInfo._appType)this._RegisterMonitor(),a=CINVccBar_FAILURE;return a};this.SerialBtn=function(a,b){this._oAgentInfo._btnIDS=a;this._oAgentInfo._btnMaskIDS=b;this._oPhoneStatus.SetShowBtns(this._oAgentInfo._btnIDS,this._oAgentInfo._btnMaskIDS)};this.GetBtnStatus=function(a){return this._GetBtnIDs()};this.Configurate=function(a){if(a instanceof Object){this._barconfig=a;if(a.sip instanceof Object)return this._oAgentInfo._sipconfig=a.sip,null!=this._sipCtrl?this._sipCtrl.Configurate(a.sip):CINVccBar_SUCCESS;this._FireOnPrompt(-1,"sip object is invalid")}return CINVccBar_FAILURE};this.GetConfiguration=function(){return this._barconfig};this.UnInitial=function(a){0==this._oAgentInfo._appType||2==this._oAgentInfo._appType?this._oAgentInfo._isSignIn&&this._oPhoneDev.SignOut(a):1!=this._oAgentInfo._appType&&2!=this._oAgentInfo._appType||this._oMonitorDev.CloseStream();return CINVccBar_SUCCESS};this.SetUIStyle=function(a){return CINVccBar_NOT_IMPL};this.GetVersion=function(){return g_JsVccBarVersion+"-"+getJssipVersion()};this.GetLocalIp=function(){return 0<this._oAgentInfo._localIps.length?this._oAgentInfo._localIps[0]:""};this.SetBusy=function(a){return this._IsMethodEnable("SetBusy",emBtnSetBusy)?this._NGCCARETURN(this._oPhoneDev.SetBusy(a)):CINVccBar_FAILURE};this.SetIdle=function(){return this._IsMethodEnable("SetIdle",emBtnSetIdle)?this._NGCCARETURN(this._oPhoneDev.SetIdle()):CINVccBar_FAILURE};this.SetWrapUp=function(){if(!this._IsInitial("SetWrapUp"))return CINVccBar_FAILURE;var a=this.GetAgentStatus();return a==AG_NOT_READY||a==AG_READY?this._NGCCARETURN(this._oPhoneDev.SetWrapUp()):CINVccBar_FAILURE};this.SetCTICalloutTask=function(a){this._oAgentInfo._taskID=a;return this._IsInitial("SetCTICalloutTask")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",4,this._oAgentInfo._taskID)):CINVccBar_FAILURE};this.GetCTICalloutTask=function(){return this._IsInitial("GetCTICalloutTask")?this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",4)):CINVccBar_FAILURE};this.GetCallData=function(a){return this._IsInitial("GetCallData")?""==a&&(a=this._oPhoneDev._oAcpCall,a._acpEvent.body.agent.phoneStatus==CS_ALERTING||a.GetCallScene()==CST_IVR)?a._acpEvent.body.callinfo.callData:this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",2,"")):CINVccBar_FAILURE};this.SetCallData=function(a,b){return this._IsInitial("SetCallData")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam(a,2,b)):CINVccBar_FAILURE};this.GetTransfer=function(){return CINVccBar_NOT_IMPL};this.SetTransfer=function(a,b,c){return CINVccBar_NOT_IMPL};this.ChangeCallQueue=function(a,b,c){return this._IsInitial("ChangeCallQueue")?this._NGCCARETURN(this._oPhoneDev.ChangeCallQueue(a,b,c)):CINVccBar_FAILURE};this.GetCallID=function(){return this._IsInitial("GetCallID")?this._oPhoneDev._oAcpCall.GetCallID():CINVccBar_EMPTY_STRING};this.QuerySPGroupList=function(a,b,c,d,f,g){if(!this._IsInitial("QuerySPGroupList"))return CINVccBar_FAILURE;var e=-1;"undefined"==typeof c&&(c=9);"undefined"==typeof d&&(d=0);"undefined"==typeof f&&(f=2);"undefined"==typeof g&&(g=0);if(8!=c&&9!=c&&10!=c&&32!=c)return alert("\u9519\u8bef\u53c2\u6570!"),e;var k=CTRL_QueryCTIInfo_ID_8;9==c&&(k=CTRL_QueryCTIInfo_ID_9);10==c&&(k=CTRL_QueryCTIInfo_ID_10);1==f?(this._oTimer.KillTimer(k),e=0):0==f?(a=stringFormat("{0}|{1}|{2}",a,b,d),e=this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",c,a,1)),0<g&&(this._oTimer.SetTimer(k,1E3*g),8==c&&(this._arrQueryCTIInfo[0]=""),9==c&&(this._arrQueryCTIInfo[1]=a),10==c&&(this._arrQueryCTIInfo[2]=a))):2==f&&(a=stringFormat("{0}|{1}|{2}",a,b,d),e=this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",c,a,1)));return e};this.GetCallInfo=function(){return this._IsInitial("GetCallInfo")?this._oPhoneDev._oAcpCall.GetCallInfoString():CINVccBar_EMPTY_STRING};this.SetTransparentParameter=function(a){return this._IsInitial("SetTransparentParameter")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",7,a)):CINVccBar_FAILURE};this.GetAgentStatus=function(){return this._oAgentInfo._isInitial?this._oPhoneDev._oAcpCall._acpEvent.body.agent.agentStatus:CINVccBar_FAILURE};this.GetAgentSubBusyStatus=function(){return this._oAgentInfo._isInitial?this._oPhoneDev._oAcpCall._acpEvent.body.agent.agentSubStatus:CINVccBar_FAILURE};this.GetBusySubStatus=function(){return this._oAgentInfo._isInitial?this._oAgentInfo._substatus:CINVccBar_EMPTY_STRING};this.SetDisplayNumber=function(a){return this._IsInitial("SetDisplayNumber")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",8,a)):CINVccBar_FAILURE};this.GetDisplayNumber=function(){return this._IsInitial("GetDisplayNumber")?this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",21,"")):CINVccBar_FAILURE};this.CallQueueQuery=function(a,b,c){if(!this._IsInitial("CallQueueQuery"))return CINVccBar_FAILURE;var d=-1;"undefined"==typeof b&&(b=2);"undefined"==typeof c&&(c=0);1==b?(this._oTimer.KillTimer(CTRL_CallQueueQuery_ID),d=0):0==b?(d=this._NGCCARETURN(this._oPhoneDev.CallQueueQuery(a)),0<c&&(this._oTimer.SetTimer(CTRL_CallQueueQuery_ID,1E3*c),this._arrQueryCTIInfo[4]=a)):2==b&&(d=this._NGCCARETURN(this._oPhoneDev.CallQueueQuery(a)));return d};this.QueryGroupAgentStatus=function(a,b,c,d){if(!this._IsInitial("QueryGroupAgentStatus"))return CINVccBar_FAILURE;var e=-1;"undefined"==typeof b&&(b=2);"undefined"==typeof c&&(c=0);"undefined"==typeof d&&(d=0);1==b?(this._oTimer.KillTimer(CTRL_QueryCTIInfo_ID_22),e=0):0==b&&(a=stringFormat("{0}|{1}",a,d),e=this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",22,a,1)),0<c&&(this._oTimer.SetTimer(CTRL_QueryCTIInfo_ID_22,1E3*c),this._arrQueryCTIInfo[3]=a));return e};this.QueryPreViewCallOutNumbers=function(a,b,c,d){return this._IsInitial("QueryPreViewCallOutNumbers")?this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",23,stringFormat("{0}|{1}|{2}|{3}",a,b,c,d))):CINVccBar_FAILURE};this.GetBase64Data=function(a){return GetBase64FromGBK(a)};this.GetDataFromBase64=function(a){return GetGBKFromBase64(a)};this.SetWeChatQueueFlag=function(a){return this._IsInitial("SetWeChatQueueFlag")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",30,a)):CINVccBar_FAILURE};this.GetWeChatQueueFlag=function(){return this._IsInitial("GetWeChatQueueFlag")?this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",30,"")):CINVccBar_FAILURE};this.TransferCallQueue=function(a,b,c){return this._IsInitial("TransferCallQueue")?this._NGCCARETURN(this._oPhoneDev.TransferCallQueue(a,b,c)):CINVccBar_FAILURE};this.SetActiveService=function(a){return this._IsInitial("SetActiveService")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",26,a)):CINVccBar_FAILURE};this.GetActiveService=function(){return this._IsInitial("GetActiveService")?this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",26,"")):CINVccBar_FAILURE};this.GetExitCause=function(){return this._oAgentInfo._exitCause};this.SetForwardNumber=function(a,b){return this._IsInitial("SetForwardNumber")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",25,stringFormat("{0}|{1}",a,b))):CINVccBar_FAILURE};this.GetForwardNumber=function(){return this._IsInitial("GetForwardNumber")?this._NGCCARETURN(this._oPhoneDev.GetCTIParam("",25,"")):CINVccBar_FAILURE};this.SetAgentReservedStatus=function(a,b){return this._IsInitial("SetAgentReservedStatus")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",31,stringFormat("{0}|{1}",a,b))):CINVccBar_FAILURE};this.SetMMService=function(a,b){return this._IsInitial("SetMMService")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",34,stringFormat("{0}|{1}",a,b))):CINVccBar_FAILURE};this.DeleteCaptureFile=function(a){return this._IsInitial("DeleteCaptureFile")?this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",35,a)):CINVccBar_FAILURE};this.GetAgentLogFile=function(a,b,c){if(!this._IsInitial("GetAgentLogFile"))return CINVccBar_FAILURE;a=getDefaultParam(a);if(""==a)return CINVccBar_FAILURE;"undefined"==typeof c&&(c=0);b=getDefaultParam(b);return this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",32,stringFormat("{0}|{1}|{2}|{3}",this._oAgentInfo._agentID,a,b,c)))};this.GetMonitorStatus=function(){return this._oAgentInfo._isMonitorLogin};this.MakeCall=function(a,b,c,d,f,g,h,k,l,m,q){if(!this._IsMethodEnable("MakeCall",emBtnMakeCall))return CINVccBar_FAILURE;if(""==a)return this._FireOnPrompt(4312),CINVccBar_FAILURE;a=formatCallNum(a);b=getDefaultParam(b);""==b&&(b=CD_PREVIEW_CALLOUT);b!=CD_PREVIEW_CALLOUT&&b!=CD_AGENT_OUTSIDE_CALLOUT&&(b=CD_PREVIEW_CALLOUT);"undefined"==typeof c&&(c="");"undefined"==typeof d&&(d="");"undefined"==typeof f&&(f="");"undefined"==typeof g&&(g="");"undefined"==typeof h&&(h=0);"undefined"==typeof k&&(k="");"undefined"==typeof l&&(l="");"undefined"==typeof m&&(m="");"undefined"==typeof q&&(q="");return this._NGCCARETURN(this._oPhoneDev.CallOutside(a,this._oAgentInfo._dN,c,d,f,b,g,h,k,l,m,q))};this.CallIn=function(a,b,c,d,f){if(!this._IsMethodEnable("CallIn",emBtnMakeCall))return CINVccBar_FAILURE;if(""==a)return this._FireOnPrompt(4312),CINVccBar_FAILURE;getDefaultParam(b);b=CD_AGENT_INSIDE_CALLOUT;"undefined"==typeof c&&(c="");"undefined"==typeof d&&(d="");"undefined"==typeof f&&(f="");return this._NGCCARETURN(this._oPhoneDev.CallInside(a,c,d,b,f))};this.TransferOut=function(a,b){if(!this._IsMethodEnable("TransferOut",emBtnTransferOut))return CINVccBar_FAILURE;if(""==b)return this._FireOnPrompt(4312),CINVccBar_FAILURE;var c=this._oPhoneDev._oAcpCall;if(2!=c.GetDeviceCount())return CINVccBar_FAILURE;for(var d="",f=0;f<c._acpEvent.body.callinfo.count;f++)if(c._acpEvent.body.callinfo.device[f].deviceID!=this._oAgentInfo._dN){d=c._acpEvent.body.callinfo.device[f].deviceID;break}return this._NGCCARETURN(this._oPhoneDev.SingleStepTransfer(b,a,d))};this.Hold=function(a){if(!this._IsMethodEnable("Hold",emBtnHold))return CINVccBar_FAILURE;"undefined"==typeof a&&(a="");if(""!=a){for(var b=this._oPhoneDev._oAcpCall,c=0;c<b._acpEvent.body.callinfo.count;c++)if(device=b._acpEvent.body.callinfo.device[c],device.deviceID==a)return device.phonestatus==CS_HELD?(this._FireOnPrompt(4017),CINVccBar_FAILURE):this._NGCCARETURN(this._oPhoneDev.Hold(a));this._FireOnPrompt(4016);return CINVccBar_FAILURE}b=this._oPhoneDev._oAcpCall;a=b.GetUserDevice();return a!=CINVccBar_NULL?(c=a.deviceID,""==this._oAgentInfo._ctiVersion&&(b._acpEvent.head.serviceID==CD_INTERCEPT_CALLIN?c=stringFormat("cinss103{0}",a.deviceID):b._acpEvent.head.serviceID==CD_MONITOR_CALLIN?c=stringFormat("cinss105{0}",a.deviceID):b._acpEvent.head.serviceID==CD_INSERT_CALLIN&&(c=stringFormat("cinss106{0}",a.deviceID))),this._NGCCARETURN(this._oPhoneDev.Hold(c))):CINVccBar_FAILURE};this.RetrieveHold=function(a){if(!this._IsMethodEnable("RetrieveHold",emBtnRetrieve))return CINVccBar_FAILURE;"undefined"==typeof a&&(a="");if(""!=a){for(var b=this._oPhoneDev._oAcpCall,c=0;c<b._acpEvent.body.callinfo.count;c++)if(device=b._acpEvent.body.callinfo.device[c],device.deviceID==a)return device.phonestatus!=CS_HELD?(this._FireOnPrompt(4018),CINVccBar_FAILURE):this._NGCCARETURN(this._oPhoneDev.RetrieveHold(a));this._FireOnPrompt(4016);return CINVccBar_FAILURE}b=this._oPhoneDev._oAcpCall;a=b.GetUserDevice();return a!=CINVccBar_NULL?(c=a.deviceID,""==this._oAgentInfo._ctiVersion&&(b._acpEvent.head.serviceID==CD_INTERCEPT_CALLIN?c=stringFormat("cinss103{0}",a.deviceID):b._acpEvent.head.serviceID==CD_MONITOR_CALLIN?c=stringFormat("cinss105{0}",a.deviceID):b._acpEvent.head.serviceID==CD_INSERT_CALLIN&&(c=stringFormat("cinss106{0}",a.deviceID))),this._NGCCARETURN(this._oPhoneDev.RetrieveHold(c))):CINVccBar_FAILURE};this.Disconnect=function(a){if(!this._IsMethodEnable("Disconnect",emBtnEndCall))return CINVccBar_FAILURE;this._strExecuteMethod="Disconnect";return 1==a?this._NGCCARETURN(this._oPhoneDev.ReleaseCall(this._oAgentInfo._agentID)):2>=this._oPhoneDev._oAcpCall.GetDeviceCount()?this._NGCCARETURN(this._oPhoneDev.ReleaseCall(this._oAgentInfo._agentID)):this.ReleaseThirdOne(0)};this.Answer=function(a){return this._IsMethodEnable("Answer",emBtnPickUp)?this._AnswerPhone(a):CINVccBar_FAILURE};this.Consult=function(a,b){if(!this._IsMethodEnable("Consult",emBtnConsult))return CINVccBar_FAILURE;if(""==b)return this._FireOnPrompt(4312),CINVccBar_FAILURE;var c=this._oPhoneDev._oAcpCall,d=c._acpEvent.body.callinfo.callingDevice;d==this._oAgentInfo._dN&&(d=c._acpEvent.body.callinfo.calledDevice);return this._NGCCARETURN(this._oPhoneDev.Consultation(b,a,d))};this.Transfer=function(){if(!this._IsMethodEnable("Transfer",emBtnTransfer))return CINVccBar_FAILURE;var a=this._oPhoneDev._oAcpCall,b=a.GetDeviceCount();if(2>=b)return CINVccBar_FAILURE;var c=a.GetHoldDevice();c==CINVccBar_NULL&&(c=a._acpEvent.body.callinfo.device[b-1],c.deviceID==this._oAgentInfo._dN&&(c=a._acpEvent.body.callinfo.device[b-2]));for(b=0;b<a._acpEvent.body.callinfo.count;b++)if(a._acpEvent.body.callinfo.device[b].deviceID!=this._oAgentInfo._dN&&a._acpEvent.body.callinfo.device[b].deviceID!=c.deviceID)return this._NGCCARETURN(this._oPhoneDev.Transfer(a._acpEvent.body.callinfo.device[b].deviceID,c.deviceID));return CINVccBar_FAILURE};this.Conference=function(){if(!this._IsMethodEnable("Conference",emBtnConference))return CINVccBar_FAILURE;var a=this._oPhoneDev._oAcpCall.GetHoldDevice();return a!=CINVccBar_NULL?this._NGCCARETURN(this._oPhoneDev.Conference(a.deviceID)):CINVccBar_FAILURE};this.SendDTMF=function(a){if(!this._IsMethodEnable("SendDTMF",emBtnSendDtmf))return CINVccBar_FAILURE;for(var b=0,c=this._oPhoneDev._oAcpCall,d=(c.GetDeviceCount(),0);d<c._acpEvent.body.callinfo.count;d++)b=c._acpEvent.body.callinfo.device[d];return this._NGCCARETURN(this._oPhoneDev.SendDTMF(a,b.deviceID))};this.Bridge=function(a,b){if(!this._IsMethodEnable("Bridge",emBtnBridge))return CINVccBar_FAILURE;var c,d=this._oPhoneDev._oAcpCall;if(2==d.GetDeviceCount())for(var f=0;f<d._acpEvent.body.callinfo.count;f++)if(c=d._acpEvent.body.callinfo.device[f],c.deviceID!=this._oAgentInfo._dN)return this._NGCCARETURN(this._oPhoneDev.Bridge(a,c.deviceID,b));return CINVccBar_FAILURE};this.Mute=function(a,b){if(!this._IsMethodEnable("Mute",emBtnMute))return CINVccBar_FAILURE;"undefined"==typeof b&&(b="");b==this._oAgentInfo._dN&&(b="");if(""!=b){for(var c=this._oPhoneDev._oAcpCall,d=0;d<c._acpEvent.body.callinfo.count;d++)if(device=c._acpEvent.body.callinfo.device[d],device.deviceID==b)return 1==a&&device.phonestatus==CS_MUTE?(this._FireOnPrompt(4014),CINVccBar_FAILURE):0==a&&device.phonestatus!=CS_MUTE?(this._FireOnPrompt(4015),CINVccBar_FAILURE):this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",3,stringFormat("{0}|{1}",a,b)));this._FireOnPrompt(4016);return CINVccBar_FAILURE}return this._NGCCARETURN(this._oPhoneDev.SetCTIParam("",3,stringFormat("{0}|{1}",a,b)))};this.ReleaseThirdOne=function(a){if(!this._IsMethodEnable("ReleaseThirdOne",emBtnEndCall))return CINVccBar_FAILURE;this._strExecuteMethod="ReleaseThirdOne";var b=this._oPhoneDev._oAcpCall;this._thisCallInfo._retrieveCall=getDefaultParamValue(a,0);if(2>=b.GetDeviceCount())return this._NGCCARETURN(this._oPhoneDev.ReleaseCall(this._oAgentInfo._agentID));for(a=0;a<b._acpEvent.body.callinfo.count;a++){var c=b._acpEvent.body.callinfo.device[a].deviceID;if(c!=this._oAgentInfo._dN){if(b.GetCallScene()==CST_CONSULT){if(b.GetHoldDevice()==b._acpEvent.body.callinfo.device[a])continue}else{if(c==b._acpEvent.body.callinfo.callingDevice)continue;this._thisCallInfo._retrieveCall=0}return this._NGCCARETURN(this._oPhoneDev.ReleaseCallbyCallID(this._oAgentInfo._agentID,c))}}this._strExecuteMethod="";return CINVccBar_FAILURE};this.SendIMMessage=function(a,b,c,d,f,g){return this._IsInitial("SendIMMessage")?this._NGCCARETURN(this._oPhoneDev.SendMessage(a,b,c,d,f,g)):CINVccBar_FAILURE};this.ForceReset=function(){if(!this._IsMethodEnable("ForceReset",emBtnForceReset))return CINVccBar_FAILURE;0<this._oPhoneDev._oAcpCall.GetDeviceCount()?this.ReleaseCall():this.SetBusy(0);return CINVccBar_SUCCESS};this.BeginPlay=function(a,b,c,d,f){return this._IsMethodEnable("BeginPlay",emBtnBeginPlay)?this._NGCCARETURN(this._oPhoneDev.BeginPlay(a,b,c,d,f)):CINVccBar_FAILURE};this.StopPlay=function(a,b){return this._IsMethodEnable("StopPlay",emBtnStopPlay)?this._NGCCARETURN(this._oPhoneDev.StopPlay(a,b)):CINVccBar_FAILURE};this.BeginCollect=function(a,b,c,d,f,g,h,k,l,m){return this._IsMethodEnable("BeginCollect",emBtnEndCall)?this._NGCCARETURN(this._oPhoneDev.BeginCollect(a,b,c,d,f,g,h,k,l,m)):CINVccBar_FAILURE};this.StopCollect=function(a,b){return this._IsMethodEnable("StopCollect",emBtnStopCollect)?this._NGCCARETURN(this._oPhoneDev.StopCollect(a,b)):CINVccBar_FAILURE};this.CallBack=function(){return this._IsMethodEnable("CallBack",emBtnCallBack)?this.MakeCall(this._oAgentInfo._strCallInNum,CD_AGENT_OUTSIDE_CALLOUT):CINVccBar_FAILURE};this.ReCall=function(){return this._IsMethodEnable("ReCall",emBtnReCall)?this.MakeCall(this._oAgentInfo._strCallOutNum,CD_AGENT_OUTSIDE_CALLOUT):CINVccBar_FAILURE};this.UpdateMedia=function(a,b){return this._IsMethodEnable("UpdateMedia",emBtnHold)?this._NGCCARETURN(this._oPhoneDev.UpdateMedia(a,b)):CINVccBar_FAILURE};this.BeginCapture=function(a,b){if(!this._IsMethodEnable("BeginCapture",emBtnEndCall))return CINVccBar_FAILURE;"undefined"==typeof a&&(a="");"undefined"==typeof b&&(b="1");return this._NGCCARETURN(this._oPhoneDev.BeginCapture(a,b))};this.Connect=function(a){if(!this._IsMethodEnable("Connect",emBtnConnect))return CINVccBar_FAILURE;"undefined"==typeof a&&(a="");return""==a?(this._FireOnPrompt(4312),CINVccBar_FAILURE):this._NGCCARETURN(this._oPhoneDev.Connect(a))};this.ReleaseConnectOne=function(a){if(!this._IsMethodEnable("ReleaseConnectOne",emBtnEndCall))return CINVccBar_FAILURE;"undefined"==typeof a&&(a="");if(""==a)return this._FireOnPrompt(4312),CINVccBar_FAILURE;this._strExecuteMethod="ReleaseConnectOne";for(var b=this._oPhoneDev._oAcpCall,c=0;c<b._acpEvent.body.callinfo.count;c++){var d=b._acpEvent.body.callinfo.device[c].deviceID;if(d==a)return this._NGCCARETURN(this._oPhoneDev.ReleaseCallbyCallID(this._oAgentInfo._agentID,d))}this._strExecuteMethod="";return CINVccBar_FAILURE};this.MultiConfTransfer=function(a){if(!this._IsMethodEnable("MultiConfTransfer",emBtnTransfer))return CINVccBar_FAILURE;"undefined"==typeof a&&(a="");if(""==a)return this._FireOnPrompt(4312),CINVccBar_FAILURE;var b=this._oPhoneDev._oAcpCall;if(3>b._acpEvent.body.callinfo.count)return CINVccBar_FAILURE;for(var c=0;c<b._acpEvent.body.callinfo.count;c++)if(0==b._acpEvent.body.callinfo.device[c].legID)return this._NGCCARETURN(this._oPhoneDev.Transfer(a,b._acpEvent.body.callinfo.device[c].deviceID));return CINVccBar_FAILURE};this.ModifyVideoStream=function(a,b,c){if(!this._IsMethodEnable("ModifyVideoStream",emBtnTransfer))return CINVccBar_FAILURE;"undefined"==typeof a&&(a=0);"undefined"==typeof b&&(b="");"undefined"==typeof c&&(c="CPV");return 3>this._oPhoneDev._oAcpCall._acpEvent.body.callinfo.count?CINVccBar_FAILURE:this._NGCCARETURN(this._oPhoneDev.ModifyVideoStream(a,b,c))};this.UploadMemLogToServer=function(){var a="",a=443==this._oAgentInfo._mainPortID?stringFormat("https://{0}/{1}/uploadCtiLog.jsp?filePath\x3dlog/{2}\x26fileName\x3d",this._oAgentInfo._mainIP,this._oAgentInfo._logXPath,this._oAgentInfo._vccID):stringFormat("https://{0}:{1}/{2}/uploadCtiLog.jsp?filePath\x3dlog/{3}\x26fileName\x3d",this._oAgentInfo._mainIP,this._oAgentInfo._mainPortID,this._oAgentInfo._logXPath,this._oAgentInfo._vccID);DisplayLog(VccBar_Log_Info,stringFormat("UploadMemLogToServer({0})",a));var b=this;SendLogDataToServer(a,b._oConfig.app.GetLogText(),this._oAgentInfo._agentID,function(a,d,f){0<d?(b._FireOnPrompt(4461,f),b._oConfig.app.DelLog(!0)):(b._FireOnPrompt(4462,f),b._oConfig.app.DelLog(!1))})};this.BeginRecord=function(a,b){return CINVccBar_NOT_IMPL};this.StopRecord=function(a){return CINVccBar_NOT_IMPL};this.AlterNate=function(a){return CINVccBar_NOT_IMPL};this.SMMsg=function(a,b){return CINVccBar_NOT_IMPL};this.ForeReleaseCall=function(a,b){return this._IsMethodEnable("ForeReleaseCall",emBtnForceRelease)?this._NGCCARETURN(this._oPhoneDev.ForceReleaseCall(a,b)):CINVccBar_FAILURE};this.Insert=function(a,b,c){if(!this._IsMethodEnable("Insert",emBtnInsert))return CINVccBar_FAILURE;"undefined"==typeof b&&(b=0);"undefined"==typeof c&&(c="");var d;d=this._oPhoneDev._oAcpCall;if(this._nMonitorFlag==emMonitorNoFlag&&0==d.GetDeviceCount())d="Comm";else if(this._nMonitorFlag==emListenFlag)d="Listen";else if(this._nMonitorFlag==emHelpFlag)d="Help";else return this._NGCCARETURN(!1);return this._NGCCARETURN(this._oPhoneDev.Insert(d,"Insert",a,b,c))};this.Listen=function(a,b,c){if(!this._IsMethodEnable("Listen",emBtnListen))return CINVccBar_FAILURE;"undefined"==typeof b&&(b=0);"undefined"==typeof c&&(c="");var d;d=this._oPhoneDev._oAcpCall;if(this._nMonitorFlag==emMonitorNoFlag&&0==d.GetDeviceCount())d="Comm";else if(this._nMonitorFlag==emInsertFlag)d="Insert";else if(this._nMonitorFlag==emHelpFlag)d="Help";else return this._NGCCARETURN(!1);return this._NGCCARETURN(this._oPhoneDev.Listen(d,"Listen",a,b,c))};this.Intercept=function(a,b,c,d){if(!this._IsMethodEnable("Intercept",emBtnIntercept))return CINVccBar_FAILURE;"undefined"==typeof b&&(b=0);"undefined"==typeof c&&(c="");"undefined"==typeof d&&(d=0);var e;e=this._oPhoneDev._oAcpCall;if(this._nMonitorFlag==emMonitorNoFlag&&0==e.GetDeviceCount())e="Comm";else if(this._nMonitorFlag==emInsertFlag)e="Insert";else if(this._nMonitorFlag==emListenFlag)e="Listen";else if(this._nMonitorFlag==emHelpFlag)e="Help";else return this._NGCCARETURN(!1);return this._NGCCARETURN(this._oPhoneDev.Intercept(e,"Intercept",a,b,c,d))};this.Help=function(a,b,c){if(!this._IsMethodEnable("Help",emBtnHelp))return CINVccBar_FAILURE;"undefined"==typeof b&&(b=0);"undefined"==typeof c&&(c="");var d;d=this._oPhoneDev._oAcpCall;if(this._nMonitorFlag==emMonitorNoFlag&&0==d.GetDeviceCount())d="Comm";else if(this._nMonitorFlag==emInsertFlag)d="Insert";else if(this._nMonitorFlag==emInsertFlag)d="Insert";else return this._NGCCARETURN(!1);return this._NGCCARETURN(this._oPhoneDev.Help(d,"Help",a,b,c))};this.Lock=function(a){return this._IsMethodEnable("Lock",emBtnLock)?this._NGCCARETURN(this._oPhoneDev.Lock(a)):CINVccBar_FAILURE};this.UnLock=function(a){return this._IsMethodEnable("UnLock",emBtnUnLock)?this._NGCCARETURN(this._oPhoneDev.UnLock(a)):CINVccBar_FAILURE};this.ForceIdle=function(a){return this._IsInitial("ForceIdle")?this._NGCCARETURN(this._oPhoneDev.ForceIdle(a)):CINVccBar_FAILURE};this.ForceBusy=function(a){return this._IsInitial("ForceBusy")?this._NGCCARETURN(this._oPhoneDev.ForceBusy(a)):CINVccBar_FAILURE};this.ForceOut=function(a){return this._IsInitial("ForceOut")?this._NGCCARETURN(this._oPhoneDev.ForceOut(a)):CINVccBar_FAILURE};this.InitialState=function(a){if(!this._oAgentInfo._isMonitorLogin)return CINVccBar_FAILURE;"undefined"==typeof a&&(a=0);return this._oMonitorDev.InitialState(a)};this.AgentQuery=function(a,b,c){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.AgentQuery(a,b,c):CINVccBar_FAILURE};this.TelQuery=function(a,b){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.TelQuery(a,b):CINVccBar_FAILURE};this.IvrQuery=function(a,b){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.IvrQuery(a,b):CINVccBar_FAILURE};this.TrunkQuery=function(a,b){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.TrunkQuery(a,b):CINVccBar_FAILURE};this.MMServiceQuery=function(a){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.MMServiceQuery(a):CINVccBar_FAILURE};this.AgentStateQuery=function(a,b,c,d){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.AgentStateQuery(a,b,c,d):CINVccBar_FAILURE};this.ServiceQuery=function(a,b){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.ServiceQuery(a,b):CINVccBar_FAILURE};this.TaskQuery=function(a,b){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.TaskQuery(a,b):CINVccBar_FAILURE};this.CallReportQuery=function(a,b,c){if(!this._oAgentInfo._isMonitorLogin)return CINVccBar_FAILURE;"undefined"==typeof c&&(c=this._oAgentInfo._monitorVersion);return this._oMonitorDev.CallReportQuery(a,b,c)};this.GetTaskSummary=function(a,b){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.GetTaskSummary(a,b):CINVccBar_FAILURE};this.QueryMonitorSumInfo=function(a,b){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.QueryMonitorSumInfo(a,b):CINVccBar_FAILURE};this.StartNotification=function(a,b,c){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.StartNotification(a,b,c):CINVccBar_FAILURE};this.EndNotification=function(a){return this._oAgentInfo._isMonitorLogin?this._oMonitorDev.EndNotification(a):CINVccBar_FAILURE};this.SendWeiboMsg=function(a){return CINVccBar_NOT_IMPL};this.UploadFileToMMS=function(a,b,c){return CINVccBar_NOT_IMPL};this.DownFileFromMMS=function(a,b,c,d,f){return CINVccBar_NOT_IMPL};this.SendWeChatMsg=function(a,b,c,d,f,g,h,k,l,m){return CINVccBar_NOT_IMPL};this.QueryWeChatData=function(a,b,c,d,f,g,h){return CINVccBar_NOT_IMPL};this.QueryWeChatHistory=function(a,b,c,d,f,g,h){return CINVccBar_NOT_IMPL};this.GetWeChatParam=function(a){return CINVccBar_NOT_IMPL};this.GetSipCtrl=function(){return this._sipCtrl};this.SetCtrlAttribute=function(a,b){if("MainIP"==a)this._oAgentInfo._mainIP=b;else if("BackIP"==a)this._oAgentInfo._backIP=b;else if("MainPortID"==a)this._oAgentInfo._mainPortID=b;else if("BackPortID"==a)this._oAgentInfo._backPortID=b;else if("AgentID"==a)this._oAgentInfo._agentID=b;else if("Dn"==a)this._oAgentInfo._dN=b;else if("PassWord"==a)this._oAgentInfo._pass_Word=b;else if("MediaFlag"==a)this._oAgentInfo._vccID=b;else if("PhonType"!=a)if("AppType"==a)this._oAgentInfo._appType=b;else if("ProtocolType"==a)this._oAgentInfo._protocolCryptType=b;else if("TransportType"==a)this._oAgentInfo._proTransportType=b;else if("CtiXPath"==a)this._oAgentInfo._mainXPath=b;else if("LogXPath"==a)this._oAgentInfo._logXPath=b;else if("SipServerIP"==a)this._oAgentInfo._sipServerIP=b;else if("SipServerPort"==a)this._oAgentInfo._sipServerPort=b;else if("SipProtocol"==a)this._oAgentInfo._sipProtocol=b;else if("SipDn"==a)this._oAgentInfo._sipDn=b;else if("SipAuthType"==a)this._oAgentInfo._sipAuthType=b;else if("SipDomain"==a)this._oAgentInfo._sipDomain=b;else if("SipPassWord"==a)this._oAgentInfo._sip_Pass_Word=b;else if("SipXPath"==a)this._oAgentInfo._sipXPath=b;else if("SipBackServerIP"==a)this._oAgentInfo._sipBackServerIP=b;else if("SipBackServerPort"==a)this._oAgentInfo._sipBackServerPort=b;else if("SipBackProtocol"==a)this._oAgentInfo._sipBackProtocol=b;else if("SipBackAuthType"==a)this.oATL_BarShow._sipBackAuthType=b;else if("SipBackDomain"==a)this._oAgentInfo._sipBackDomain=b;else if("SipBackPassWord"==a)this._oAgentInfo._sipBack_Pass_Word=b;else if("AgoraProxy"==a)this._oAgentInfo._agoraProxy=b;else if("MonitorIP"==a)this._oAgentInfo._monitorIP=b;else if("MonitorPort"==a)this._oAgentInfo._monitorPort=b;else if("MonitorXPath"==a)this._oAgentInfo._monitorXPath=b;else if("WeChatServer"==a)this._oAgentInfo._weChatServer=b;else if("SelfPrompt"==a)this._oAgentInfo._selfPrompt=b;else if("MinotorVersion"==a)this._oAgentInfo._minotorVersion=b;else if("TaskID"==a)this._oAgentInfo._taskID=b;else if("AutoUpdateURL"==a)this._oAgentInfo._autoUpdateURL=b;else if("SipPassWdCryptType"==a)this._oAgentInfo._sipPassWdCryptType=b;else if("PassWdCryptType"==a)this._oAgentInfo._passWdCryptType=b;else if("AutoSelectAgent"==a)this._oAgentInfo._autoSelectAgent=b;else if("VersionType"==a)this._oAgentInfo._versionType=b;else if("SetScreenRecordType"==a)-1!=b&&0!=b&&1!=b&&(b=-1),this._oAgentInfo._screenCaptureType=b;else if("SetScreenRecordTime"==a)300>b&&(b=300),this._oAgentInfo._recordTime=b;else if("ForeCastCallAutoAnswer"==a)this._oAgentInfo._isForeCastCallAutoAnswer=b;else if("AutoAnswerDelayTime"==a)this._oAgentInfo._answerDelayTime=b;else{if("CurUseServer"==a)return this._oAgentInfo._userMainServer;"IsAllTimeRecord"==a?this._oAgentInfo._isAllTimeRecord=b:"RecordType"==a?this._oAgentInfo._recordType=b:"AgentName"==a?this._oAgentInfo._agentName=b:"msgFlag"==a?this._oAgentInfo._msgFlag=b:"AgentType"==a?this._oAgentInfo._agentType=b:"LocalPort"==a?this._oAgentInfo._localPort=b:"ServiceLists"==a?this._oAgentInfo.ServiceLists=b:"TimeOut"==a?this._oAgentInfo._timeOut=b:"ftpServerIP"==a?this._oAgentInfo._ftpIp=b:"ftpServerPort"==a?this._oAgentInfo._ftpPort=b:"ftpUser"==a?this._oAgentInfo._ftpUser=b:"ftpPassWord"==a?this._oAgentInfo._ftpP=b:"ftpDirectory"==a?this._oAgentInfo._ftpDirectory=b:"forceEndProcess"!=a&&DisplayLog(VccBar_Log_Error,"SetCtrlAttribute bad attribute name:"+a)}};this.GetCtrlAttribute=function(a){if("MainIP"==a)return this._oAgentInfo._mainIP;if("BackIP"==a)return this._oAgentInfo._backIP;if("MainPortID"==a)return this._oAgentInfo._mainPortID;if("BackPortID"==a)return this._oAgentInfo._backPortID;if("AgentID"==a)return this._oAgentInfo._agentID;if("Dn"==a)return this._oAgentInfo._dN;if("PassWord"==a)return this._oAgentInfo._pass_Word;if("MediaFlag"==a)return this._oAgentInfo._vccID;if("PhonType"==a)return this._oAgentInfo._phoneType;if("AppType"==a)return this._oAgentInfo._appType;if("ProtocolType"==a)return this._oAgentInfo._protocolCryptType;if("TransportType"==a)return this._oAgentInfo._proTransportType;if("CtiXPath"==a)return this._oAgentInfo._mainXPath;if("LogXPath"==a)return this._oAgentInfo._logXPath;if("SipServerIP"==a)return this._oAgentInfo._sipServerIP;if("SipServerPort"==a)return this._oAgentInfo._sipServerPort;if("SipProtocol"==a)return this._oAgentInfo._sipProtocol;if("SipDn"==a)return this._oAgentInfo._sipDn;if("SipAuthType"==a)return this._oAgentInfo._sipAuthType;if("SipDomain"==a)return this._oAgentInfo._sipDomain;if("SipPassWord"==a)return this._oAgentInfo._sip_Pass_Word;if("SipXPath"==a)return this._oAgentInfo._sipXPath;if("SipBackServerIP"==a)return this._oAgentInfo._sipBackServerIP;if("SipBackServerPort"==a)return this._oAgentInfo._sipBackServerPort;if("SipBackProtocol"==a)return this._oAgentInfo._sipBackProtocol;if("SipBackAuthType"==a)return this._oAgentInfo._sipBackAuthType;if("SipBackDomain"==a)return this._oAgentInfo._sipBackDomain;if("SipBackPassWord"==a)return this._oAgentInfo._sipBack_Pass_Word;if("AgoraProxy"==a)return this._oAgentInfo._agoraProxy;if("MonitorIP"==a)return this._oAgentInfo._monitorIP;if("MonitorPort"==a)return this._oAgentInfo._monitorPort;if("MonitorXPath"==a)return this._oAgentInfo._monitorXPath;if("WeChatServer"==a)return this._oAgentInfo._weChatServer;if("SelfPrompt"==a)return this._oAgentInfo._selfPrompt;if("MinotorVersion"==a)return this._oAgentInfo._minotorVersion;if("TaskID"==a)return this._oAgentInfo._taskID;if("AutoUpdateURL"==a)return this._oAgentInfo._autoUpdateURL;if("PassWdCryptType"==a)return this._oAgentInfo._sipPassWdCryptType;if("SipPassWdCryptType"==a)return this._oAgentInfo._passWdCryptType;if("AutoSelectAgent"==a)return this._oAgentInfo._autoSelectAgent;if("VersionType"==a)return this._oAgentInfo._versionType;if("AmpTimeOffSet"==a)return this._oAgentInfo._amptimeOff;if("Av"==a)return this._oAgentInfo._av;if("SetScreenRecordType"==a)return this._oAgentInfo._screenCaptureType;if("SetScreenRecordTime"==a)return this._oAgentInfo._recordTime;if("ForeCastCallAutoAnswer"==a)return this._oAgentInfo._isForeCastCallAutoAnswer;if("AutoAnswerDelayTime"==a)return this._oAgentInfo._answerDelayTime;if("IsAllTimeRecord"==a)return this._oAgentInfo._isAllTimeRecord;if("RecordType"==a)return this._oAgentInfo._recordType;if("AgentName"==a)return this._oAgentInfo._agentName;if("msgFlag"==a)return this._oAgentInfo._msgFlag;if("AgentType"==a)return this._oAgentInfo._agentType;if("LocalPort"==a)return this._oAgentInfo._localPort;if("ServiceLists"==a)return this._oAgentInfo._vccId;if("TimeOut"==a)return this._oAgentInfo._timeOut;if("ftpServerIP"==a)return this._oAgentInfo._ftpIp;if("ftpServerPort"==a)return this._oAgentInfo._ftpPort;if("ftpUser"==a)return this._oAgentInfo._ftpUser;if("ftpPassWord"==a)return this._oAgentInfo._ftpP;if("ftpDirectory"==a)return this._oAgentInfo._ftpDirectory;"forceEndProcess"!=a&&DisplayLog(VccBar_Log_Error,"GetCtrlAttribute bad attribute name:"+a);return""};this.OnMonitorNotify=function(a,b){switch(a.eventType){case AMP_InitialState_CONF:case AMP_AgentQuery_CONF:case AMP_IvrQuery_CONF:case AMP_TelQuery_CONF:case AMP_StartNotification_CONF:case AMP_EndNotification_CONF:case AMP_CallReportQuery_CONF:case AMP_M4AgentSumQuery_CONF:case AMP_M4ServiceSumQuery_CONF:case AMP_M4IvrServiceQuery_CONF:case AMP_M4TrunkSumQuery_CONF:var c=a.eventTypeName;if(a.eventType==AMP_InitialState_CONF){var d=getAcpTimeString(!1);this._oAgentInfo._amptimeOff=getStringTimerInterval(a.currentTime,d);DisplayLog(VccBar_Log_Info,"AmpSeverTimer:\u3010"+a.currentTime+"\u3011 localTime:\u3010"+d+"\u3011 offSet:\u3010"+this._oAgentInfo._amptimeOff+"\u3011");if(0==this._oAgentInfo._isMonitorLogin){"2300"==a.data?this._FireOnPrompt(2300):(this._FireOnPrompt(4409),this._oAgentInfo._isMonitorLogin=!0,this._FireOnInitalSuccess());break}}else a.eventType==AMP_CallReportQuery_CONF?c="CallReportQuery30":a.eventType==AMP_M4AgentSumQuery_CONF?c="CallReportQuery":a.eventType==AMP_M4ServiceSumQuery_CONF?c="ServiceQuery":a.eventType==AMP_M4IvrServiceQuery_CONF?c="IvrQuery":a.eventType==AMP_M4TrunkSumQuery_CONF&&(c="TrunkQuery");0==a.code?a.eventType==AMP_EndNotification_CONF?this._FireOnMethodResponseEvent(c,a.code):this._FireOnMethodResponseEvent(c,a.data,1):this._FireOnMethodResponseEvent(c,a.code);break;case AMP_TaskQuerySummary_CONF:"4.0"==this._oAgentInfo._monitorVersion?0==a.code?this._FireOnMethodResponseEvent("GetTaskSummary",a.data,1):this._FireOnMethodResponseEvent("GetTaskSummary",a.code):this._invokeEvent(eventOnQueryMonitorSumReport,"TaskQuerySummary|"+a.data);break;case AMP_QueryActiveTask_CONF:case AMP_ServiceQuerySummary_CONF:case AMP_AgentSumQuery_CONF:case AMP_IvrSumQuery_CONF:case AMP_AgentWorkSumQuery_CONF:case AMP_ServiceSumQueryByHour_CONF:case AMP_TaskSumQueryByHour_CONF:this._invokeEvent(eventOnQueryMonitorSumReport,a.eventTypeName+"|"+a.data);break;case AMP_AgentReport:this._invokeEvent(eventOnAgentReport,a.data);break;case AMP_IvrReport:this._invokeEvent(eventOnIvrReport,a.data);break;case AMP_M4IvrServiceReport:this._invokeEvent(eventOnIvrReport,a.data);break;case AMP_TrunkReport:this._invokeEvent(eventOnTrunkReport,a.data);break;case AMP_TrunkSumReport:this._invokeEvent(eventOnTrunkSumReport,a.data);break;case AMP_TelReport:this._invokeEvent(eventOnTelReport,a.data);break;case AMP_ServiceReport:this._invokeEvent(eventOnServiceReport,a.data);break;case AMP_TaskReport:this._invokeEvent(eventOnTaskReport,a.data);break;case AMP_OutboundReport:this._invokeEvent(eventOnOutboundReport,a.data);break;case AMP_CallReportReport:this._invokeEvent(eventOnCallReportInfo,a.data);break;case AMP_M4WallServiceReport:this._invokeEvent(eventOnWallServiceReport,a.data);break;case AMP_M4WallQueueReport:this._invokeEvent(eventOnWallQueueReport,a.data);break;case AMP_M4AgentSumReport:this._invokeEvent(eventOnAgentStaticReport,a.data);break;case AMP_M4ServiceSumReport:this._invokeEvent(eventOnServiceStaticReport,a.data);break;case AMP_OnSignOuted:this._invokeEvent(eventOnAgentMonitorSignOut,a.data);break;default:bReturn=!1}};this.OnAcpSocketNotify=function(a){a==WS_EVENT_ONOPEN?(this._oAgentInfo._devConnectStatus=emCenterOpStatusConnected,this._AcpSocketReconnectTimer=0):a==WS_EVENT_ONCLOSE&&(1==this._oAgentInfo._isInitial?(this._oTimer.SetTimer(CTRL_AGENTRECONNECT_ID,1E3*CTRL_AGENTRECONNECT_INTERVAL),-2==this._oAgentInfo._oldWorkStatus&&(this._oAgentInfo._oldWorkStatus=this._oAgentInfo._workstatus,DisplayLog(VccBar_Log_Debug,stringFormat("JVccBarCenter:oldWorkStatus:{0}",this._oAgentInfo._oldWorkStatus))),this._FireOnPrompt(4005)):0==this._oAgentInfo._isInitial&&this._oAgentInfo._devConnectStatus==emCenterOpStatusConnecting&&(this._oAgentInfo._devConnectStatus=emCenterOpStatusInitial,this._FireOnPrompt(4401,4002),this._FireOnInitalFailure(IE_InitCTIError,"")),this._oAgentInfo._devConnectStatus=emCenterOpStatusInitial)};this.OnNotify=function(a,b){b==Notify_MSG?this._OnRecieveAcpMessage(a):b==Notify_OUTOFTIME?this._OnAcpMessageOutTime(a):this._OnAcpMessageInvoke(a)};this.attachEventfun=function(a){this._eventCallBackFunction=a};this.attachResponsefun=function(a){this._methodCallBackFunction=a};this.beginAgentReport=function(){if(AGENTREPORT_OPTIMIS){DisplayLog(VccBar_Log_Info,"JVccBarCenter:beginAgentReport()");var a=this;a._oAgentInfo.agentReporContinue=1;setTimeout(function(){a._oPhoneDev.OnTimerEvent(CINNGCCA_AGENTREPORT_ID)},1E3*CINNGCCA_AGENTREPORT_INTERVAL)}else this._oTimer.SetTimer(CINNGCCA_AGENTREPORT_ID,1E3*CINNGCCA_AGENTREPORT_INTERVAL,!0)};this.stopAgentReport=function(){AGENTREPORT_OPTIMIS?this._oAgentInfo.agentReporContinue=0:this._oTimer.KillTimer(CINNGCCA_AGENTREPORT_ID)};this.resetAgentReport=function(){if(AGENTREPORT_OPTIMIS){DisplayLog(VccBar_Log_Info,"JVccBarCenter:resetAgentReport()");var a=this;setTimeout(function(){a._oPhoneDev.OnTimerEvent(CINNGCCA_AGENTREPORT_ID)},1E3*CINNGCCA_AGENTREPORT_INTERVAL)}};this._create();return this}var const_des_ag_logout=0,const_des_ag_busy=1,const_des_ag_ready=2,const_des_ag_ring=3,const_des_ag_connect=4,const_des_ag_aftercall=5,const_des_versiotip=6,const_des_cause=7,const_des_not_initial=8,const_des_cmd_disable=9,G_AppJVccbarConst={barConst:[{id:const_des_ag_logout,des:"\u672a\u767b\u5f55",eng_des:"logout"},{id:const_des_ag_busy,des:"\u5fd9\u788c",eng_des:"busy"},{id:const_des_ag_ready,des:"\u5c31\u7eea",eng_des:"idle"},{id:const_des_ag_ring,des:"\u632f\u94c3",eng_des:"ring"},{id:const_des_ag_connect,des:"\u901a\u8bdd",eng_des:"connect"},{id:const_des_ag_aftercall,des:"\u540e\u7eed\u6001",eng_des:"aftercall"},{id:const_des_versiotip,des:"\u7248\u672c\u4e0d\u5339\u914d\uff0c\u8bf7\u66f4\u65b0\u7248\u672c\u518d\u4f7f\u7528!",eng_des:"dismatch version\uff0cplease update new version!"},{id:const_des_cause,des:"\u539f\u56e0",eng_des:"Cause"},{id:const_des_not_initial,des:"\u547d\u4ee4[{0}]\u4e0d\u53ef\u7528,\u8bf7\u521d\u59cb\u5316\u63a7\u4ef6!",eng_des:"Method [{0}] can't to be used,please initial this control first!"},{id:const_des_cmd_disable,des:"\u547d\u4ee4[{0}]\u4e0d\u53ef\u7528,\u65e0\u6cd5\u6267\u884c!",eng_des:"Method [{0}] forbidden to be execute"}],getConstDes:function(d,a){for(var b=0;b<this.barConst.length;b++)if(this.barConst[b].id==d)return a==lg_zhcn?""!=this.barConst[b].des?this.barConst[b].des:this.barConst[b].eng_des:this.barConst[b].eng_des;return""},sceneConst:[{id:emPhoneNULL,des:"\u6ca1\u6709\u521d\u59cb\u5316!",eng_des:"In uninitial scene"},{id:emPhoneLogin,des:"\u767b\u5f55CTI\u6210\u529f!",eng_des:"In login scene"},{id:emPhoneIdle,des:"\u5ea7\u5e2d\u5c31\u7eea!",eng_des:"In idle scene"},{id:emPhoneBusy,des:"\u5ea7\u5e2d\u5fd9\u788c!",eng_des:"In busy scene"},{id:emPhoneOrigated,des:"\u5ea7\u5e2d\u5916\u62e8!",eng_des:"In makeouting scene"},{id:emPhoneAlerting,des:"\u5ea7\u5e2d\u632f\u94c3!",eng_des:"In alert scene"},{id:emPhoneOnLineOutIdle,des:"\u5ea7\u5e2d\u6302\u673a\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001!",eng_des:"In idle scene after call scene"},{id:emPhoneOnLineOutBusy,des:"\u5ea7\u5e2d\u6302\u673a\u5904\u4e8e\u540e\u5904\u7406\u72b6\u6001!",eng_des:"In wrapup scene after call scene"},{id:emPhoneOnLineIVR,des:"\u5ea7\u5e2d\u63a5\u901a\u547c\u5165\u7535\u8bdd!",eng_des:"In callin scene"},{id:emPhoneOnLineCallout,des:"\u5ea7\u5e2d\u63a5\u901a\u547c\u51fa\u7535\u8bdd!",eng_des:"In callout scene"},{id:emPhoneOnLineConsult,des:"\u5ea7\u5e2d\u6b63\u5728\u54a8\u8be2\u4e2d!",eng_des:"In consult scene"},{id:emPhoneOnLineConference,des:"\u5ea7\u5e2d\u5728\u4f1a\u8bae\u4e2d!",eng_des:"In conference scene"},{id:emPhoneHold,des:"\u7528\u6237\u5904\u4e8e\u4fdd\u6301\u4e2d!",eng_des:"In hold scene"},{id:emPhoneListen,des:"\u5ea7\u5e2d\u6b63\u5728\u76d1\u542c\u4e2d!",eng_des:"In listen scene"},{id:emPhoneHelp,des:"\u5ea7\u5e2d\u6b63\u5728\u8f85\u52a9\u4e2d!",eng_des:"In help scene"},{id:emPhoneInsert,des:"\u5ea7\u5e2d\u6b63\u5728\u5f3a\u63d2\u4e2d!",eng_des:"In insert scene"},{id:emPhoneOnCalloutMid,des:"\u5ea7\u5e2d\u5916\u547c,\u5bf9\u65b9\u6b63\u5728\u632f\u94c3!",eng_des:"In alerting In callout scene"},{id:emPhoneOnConsultMid,des:"\u5ea7\u5e2d\u54a8\u8be2,\u5bf9\u65b9\u6b63\u5728\u632f\u94c3!",eng_des:"In alerting In consult scene"},{id:emPhoneOnBridge,des:"\u6865\u63a5\u4e2d\uff0c\u5ea7\u5e2d\u5904\u4e8e\u4fdd\u6301\u72b6\u6001!",eng_des:"In hold In bridge scene"},{id:emPhoneOnCallouting,des:"\u5ea7\u5e2d\u5916\u547c\u4e2d!",eng_des:"In connect In callout scene"},{id:emPhoneOnCallining,des:"\u5ea7\u5e2d\u5185\u547c\u4e2d!",eng_des:"In connect In callin scene"},{id:emPhoneOnConsultFailuer,des:"\u54a8\u8be2\u5931\u8d25\uff0c\u7528\u6237\u4fdd\u6301\u4e2d!",eng_des:"In opponent hold In consult failure scene"},{id:emPhoneOnCalloutBefore,des:"\u5916\u547c\u540e\u5ea7\u5e2d\u632f\u94c3\u524d\u72b6\u6001!",eng_des:"before agent alert after callout scense"},{id:emPhoneOnCallinBefore,des:"\u5185\u90e8\u540e\u5ea7\u5e2d\u632f\u94c3\u524d\u72b6\u6001!",eng_des:"before agent alert after callin scense"},{id:emPhonePickuping,des:"\u5206\u673a\u63a5\u542c\u4e2d!",eng_des:"sipphone pickuping scense"},{id:emPhoneOnCallConnect,des:"\u5ea7\u5e2d\u5728\u591a\u65b9\u4f1a\u8bae\u4e2d!",eng_des:"In multi-conference scene"},{id:emPhoneOnCallConnectAlerting,des:"\u5ea7\u5e2d\u9080\u8bf7\u5bf9\u65b9\u52a0\u5165\u4f1a\u8bae\uff0c\u5bf9\u65b9\u632f\u94c3!",eng_des:"Connect one come to conference, oppent alerting"}],getSceneItemDes:function(d,a){for(var b=0;b<this.sceneConst.length;b++)if(this.sceneConst[b].id==d)return a==lg_zhcn?""!=this.sceneConst[b].des?this.sceneConst[b].des:this.sceneConst[b].eng_des:this.sceneConst[b].eng_des;return""},barDescription:[{id:IE_InitSIPError,level:0,des:"sip\u7535\u8bdd\u6ce8\u518c\u5931\u8d25",eng_des:"Sipphone register failure!"},{id:IE_InitCTIError,level:0,des:"CTI\u670d\u52a1\u5668\u7b7e\u5165\u5931\u8d25",eng_des:"signin to CTI sevrer failure"},{id:IE_InitMonitorError,level:0,des:"Monitor\u670d\u52a1\u5668\u7b7e\u5165\u5931\u8d25",eng_des:"signin to Monitor sevrer failure"},{id:2100,level:0,des:"\u6d88\u606f\u672a\u5b9a\u4e49",eng_des:"message not defined"},{id:2101,level:2,des:"\u6d88\u606f\u53c2\u6570\u5f02\u5e38",eng_des:"parameter error"},{id:2102,level:2,des:"\u6d88\u606f\u53d1\u9001\u5931\u8d25",eng_des:"send message failure"},{id:2110,level:2,des:"\u5ea7\u5e2d\u4e0d\u5b58\u5728",eng_des:"agent not exist"},{id:2111,level:2,des:"\u5ea7\u5e2d\u6682\u505c\u4f7f\u7528",eng_des:"agent unusefull temporary"},{id:2112,level:2,des:"\u5ea7\u5e2d\u5bc6\u7801\u9a8c\u8bc1\u9519\u8bef",eng_des:"wrong agent password"},{id:2113,level:2,des:"\u5ea7\u5e2d\u5bc6\u7801\u672a\u751f\u6548",eng_des:"agent password uneffective"},{id:2114,level:2,des:"\u5ea7\u5e2d\u5bc6\u7801\u5df2\u8fc7\u671f",eng_des:"agent password overdue"},{id:2115,level:2,des:"\u5ea7\u5e2d\u5df2\u9501\u5b9a",eng_des:"agent locked"},{id:2116,level:2,des:"\u5ea7\u5e2d\u65f6\u95f4\u6233\u4e0d\u5339\u914d",eng_des:"agent timestamp mismatching"},{id:2117,level:2,des:"\u5ea7\u5e2d\u767b\u5f55\u5206\u673a\u548c\u7ed1\u5b9a\u5206\u673a\u4e0d\u5339\u914d",eng_des:"agent'd device is mismatching with binded device"},{id:2118,level:2,des:"\u5ea7\u5e2d\u6240\u7528\u5206\u673a\u5df2\u88ab\u5176\u4ed6\u5ea7\u5e2d\u767b\u5f55",eng_des:"agent'd device is used by other"},{id:2119,level:1,des:"\u5ea7\u5e2d\u5df2\u767b\u5f55",eng_des:"agent signined"},{id:2120,level:2,des:"\u5ea7\u5e2d\u4e0d\u5141\u8bb8\u88ab\u66ff\u4ee3",eng_des:"agent can't be replaced"},{id:2121,level:1,des:"\u5ea7\u5e2d\u672a\u767b\u5f55",eng_des:"agent have not been signined"},{id:2122,level:1,des:"\u5ea7\u5e2d\u5fd9",eng_des:"agent busy"},{id:2123,level:2,des:"\u767b\u5f55\u5931\u8d25\uff1a\u6b64\u5ea7\u5e2d\u5df2\u5728\u5176\u4ed6\u5730\u65b9\u767b\u5f55\u4e14\u6b63\u5728\u901a\u8bdd\u4e2d",eng_des:"signing failuer:this agent is called by other"},{id:2124,level:2,des:"\u767b\u5f55\u5931\u8d25\uff1a\u6b64\u5ea7\u5e2d\u5df2\u5728\u5176\u4ed6\u5730\u65b9\u767b\u5f55\u4e14\u540e\u5904\u7406\u4e2d",eng_des:"signing failuer:this agent is wrapup by other"},{id:2125,level:1,des:"\u5ea7\u5e2d\u672a\u7a7a\u95f2",eng_des:"agent not idle"},{id:2126,level:1,des:"\u5ea7\u5e2d\u672a\u63a5\u901a",eng_des:"agent not connected"},{id:2130,level:2,des:"\u5bf9\u65b9\u5ea7\u5e2d\u4e0d\u5b58\u5728",eng_des:"opponent agent not exist"},{id:2131,level:2,des:"\u5bf9\u65b9\u5ea7\u5e2d\u6682\u505c\u4f7f\u7528",eng_des:"opponent agent unusefull temporary"},{id:2132,level:2,des:"\u5bf9\u65b9\u5ea7\u5e2d\u5df2\u9501\u5b9a",eng_des:"opponent agent locked"},{id:2133,level:2,des:"\u5bf9\u65b9\u5ea7\u5e2d\u5206\u673a\u672a\u8bbe\u7f6e",eng_des:"opponent agent's device not set"},{id:2134,level:1,des:"\u5bf9\u65b9\u5ea7\u5e2d\u672a\u767b\u5f55",eng_des:"opponent agent not signin"},{id:2135,level:1,des:"\u5bf9\u65b9\u5ea7\u5e2d\u5fd9",eng_des:"opponent agent busy"},{id:2136,level:1,des:"\u5bf9\u65b9\u5ea7\u5e2d\u901a\u8bdd\u4e2d",eng_des:"opponent agent calling"},{id:2137,level:1,des:"\u5bf9\u65b9\u5ea7\u5e2d\u540e\u5904\u7406\u4e2d",eng_des:"opponent agent wrapup"},{id:2138,level:1,des:"\u5bf9\u65b9\u5ea7\u5e2d\u7a7a\u95f2",eng_des:"opponent agent idle"},{id:2140,level:1,des:"\u5206\u673a\u901a\u8bdd\u4e2d",eng_des:"agent'device calling"},{id:2141,level:2,des:"\u5206\u673a\u672a\u8bbe\u7f6eIVR\u670d\u52a1",eng_des:"device not set IVR service"},{id:2142,level:2,des:"\u4f01\u4e1a\u5df2\u6682\u505c\u6216\u65e0\u6b64\u4f01\u4e1a",eng_des:"department invalid"},{id:2143,level:2,des:"\u5750\u5e2d\u767b\u5f55\u8fbe\u5230\u6700\u5927\u9650\u5236",eng_des:"signined agent count over limit"},{id:2144,level:2,des:"\u5750\u5e2d\u5206\u673a\u4e0d\u662fcti\u53d7\u63a7",eng_des:"signined agent count over limit"},{id:2150,level:2,des:"\u5750\u5e2d\u5df2\u88ab\u9009\u4e2d",eng_des:"agent already selected"},{id:2151,level:2,des:"\u5ea7\u5e2d\u88ab\u8d28\u68c0\u5458\u5f3a\u5236\u7b7e\u51fa",eng_des:"agent forceouted by monitor agent"},{id:2152,level:2,des:"\u5ea7\u5e2d\u56e0\u632f\u94c3\u8d85\u65f6\u88ab\u5f3a\u5236\u7b7e\u51fa",eng_des:"agent forceouted for alerting out of time"},{id:2153,level:2,des:"\u5ea7\u5e2d\u88ab\u8bdd\u673a\u547d\u4ee4\u5f3a\u5236\u7b7e\u51fa",eng_des:"agent forceouted by phone command"},{id:2160,level:2,des:"\u5ea7\u5e2d\u5fc3\u8df3\u8d85\u65f6cti\u53d1\u9001OnSignOuted\u4e8b\u4ef6",eng_des:"cti send OnSignOuted to agent for heartbeat overtime"},{id:2161,level:2,des:"\u5ea7\u5e2d\u6536\u5230AgentReport\u53d1\u73b0\u5750\u5e2d\u7b7e\u51facti\u53d1\u9001OnSignOuted\u4e8b\u4ef6",eng_des:"cti send OnSignOuted to agent for AgentReport message"},{id:2162,level:2,des:"\u5ea7\u5e2d\u4e0d\u5728\u5916\u547c\u4efb\u52a1\u4e2d\u9884\u8bbe\u5ea7\u5e2d\u5217\u8868\u4e2d",eng_des:"This agent is not in outtask's pre-setting agent list!"},{id:2300,level:2,des:"\u5ea7\u5e2d\u767b\u5f55\u8d28\u68c0\u670d\u52a1\u9a8c\u8bc1\u9519\u8bef",eng_des:"monitor login failure for wrong password"},{id:3001,level:2,des:"\u8fde\u63a5\u7535\u8bdd\u6761\u536b\u58eb\u6210\u529f",eng_des:"connect CINGurad success"},{id:3003,level:2,des:"\u7535\u8bdd\u6761\u536b\u58eb\u8fde\u63a5\u5931\u8d25,\u8bf7\u786e\u8ba4\u662f\u5426\u542f\u52a8!",eng_des:"connect CINGurad failure,be sure CINGuard startup"},{id:4E3,level:2,des:"\u521b\u5efaA\u670d\u52a1\u7c7b\u5931\u8d25",eng_des:"create AClass failuer"},{id:4001,level:2,des:"CTI Interface\u670d\u52a1\u5668\u5730\u5740\u9519\u8bef\u6216\u8005\u6ca1\u6709\u542f\u52a8!",eng_des:"CTI Interface address wrong or CTI Interface server not startup"},{id:4002,level:2,des:"\u65e0\u6cd5\u8fde\u63a5CTI\u670d\u52a1\u5668!",eng_des:"CTI server address wrong or CTI server server not startup"},{id:4003,level:2,des:"CTI Interface\u7684Initail\u65b9\u6cd5\u8c03\u7528\u5931\u8d25!",eng_des:"invoke Initial failure in CTI Interface"},{id:4004,level:2,des:"\u767b\u5f55CTI\u670d\u52a1\u5668\u5931\u8d25,\u786e\u8ba4CTI\u53ef\u7528\u6216\u8005\u914d\u7f6e\u4fe1\u606f\u662f\u5426\u6210\u529f!",eng_des:"login cti failure,be sure cti server is ok and congfiguration is right"},{id:4005,level:2,des:"\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\u5ea7\u5e2d\u548cCTI\u65ad\u5f00\uff0c\u8bf7\u4e0d\u8981\u6302\u673a\uff0c3S\u540e\u91cd\u65b0\u8fde\u63a5!",eng_des:"agent disconnect temporary cause by network,it will be reconnect after three seconds"},{id:4006,level:2,des:"\u5ea7\u5e2d\u6b63\u5728\u91cd\u8fde...",eng_des:"agent reconnecting ..."},{id:4007,level:0,des:"\u91cd\u8fde\u6210\u529f,\u5ea7\u5e2d\u5c31\u7eea\u53ef\u4ee5\u91cd\u65b0\u4f7f\u7528!",eng_des:"reconnected success! the agent is already ok"},{id:4008,level:2,des:"\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\u7f51\u7edc\u4e2d\u65ad,\u5bfc\u81f4\u5ea7\u5e2d\u548cCTI\u670d\u52a1\u5668\u65ad\u5f00,\u8bf7\u548c\u7ba1\u7406\u5458\u8054\u7cfb!",eng_des:"agent is signout from cti cause of network,please get help for administrator"},{id:4009,level:2,des:"\u5fc3\u8df3\u68c0\u6d4b\u5230CTI\u4e2d\u5ea7\u5e2d\u5df2\u7ecf\u9000\u51fa!",eng_des:"agent is signout by heartbeat checking"},{id:4010,level:1,des:"\u5ea7\u5e2d\u8bbe\u7f6e\u7684phoneType\u7c7b\u578b\u548c\u670d\u52a1\u5668\u7aef\u8bbe\u7f6e\u4e0d\u4e00\u6837\uff0c\u4f7f\u7528\u670d\u52a1\u5668\u7aef\u8bbe\u7f6e\u7684\u7535\u8bdd\u7c7b\u578b",eng_des:"phoneType mismatch with server's,using server's setting"},{id:4011,level:1,des:"\u5ea7\u5e2d\u5904\u4e8e\u6ede\u7559\u6001",eng_des:"agent in method holdup status"},{id:4012,level:1,des:"\u5ea7\u5e2d\u5f00\u59cb\u6ede\u7559\u6001",eng_des:"begin holdup status"},{id:4013,level:1,des:"\u5ea7\u5e2d\u7ed3\u675f\u6ede\u7559\u6001",eng_des:"end holdup status"},{id:4014,level:1,des:"\u76ee\u6807\u53f7\u7801\u5728\u9759\u97f3\u4e2d,\u4e0d\u80fd\u518d\u6b21\u9759\u97f3",eng_des:"target num in mute status"},{id:4015,level:1,des:"\u76ee\u6807\u53f7\u7801\u5728\u975e\u9759\u97f3\u4e2d,\u4e0d\u80fd\u89e3\u9664\u9759\u97f3",eng_des:"target num in unmute status"},{id:4016,level:1,des:"\u76ee\u6807\u53f7\u7801\u4e0d\u5728\u547c\u53eb\u4e2d",eng_des:"target num not in call"},{id:4017,level:1,des:"\u76ee\u6807\u53f7\u7801\u5728\u4fdd\u6301\u4e2d,\u4e0d\u80fd\u4fdd\u6301",eng_des:"target num not in hold status"},{id:4018,level:1,des:"\u76ee\u6807\u53f7\u7801\u5728\u4e0d\u5728\u4fdd\u6301\u4e2d,\u4e0d\u80fd\u53d6\u4fdd\u6301",eng_des:"target num not in hold status"},{id:4300,level:2,des:"A\u63a5\u53e3\u63a7\u4ef6\u6ca1\u6709\u6ce8\u518c\u6216\u8005\u8def\u5f84\u4e0d\u5bf9!",eng_des:"CINNGCCA not register"},{id:4301,level:2,des:"PA\u63a7\u4ef6\u6ca1\u6709\u6ce8\u518c\u6216\u8005\u8def\u5f84\u4e0d\u5bf9!",eng_des:"PA not register"},{id:4302,level:2,des:"M\u63a7\u4ef6\u6ca1\u6709\u6ce8\u518c\u6216\u8005\u8def\u5f84\u4e0d\u5bf9!",eng_des:"CINMonitor not register"},{id:4303,level:2,des:"CTI\u670d\u52a1\u5668\u65ad\u5f00,\u8bf7\u4e0e\u7ba1\u7406\u5458\u8054\u7cfb!",eng_des:"disconnect from cti,please get help for administrator"},{id:4305,level:2,des:"\u672c\u5ea7\u5e2d\u88ab\u5176\u4ed6\u7ec8\u7aef\u6240\u66ff\u4ee3!",eng_des:"agent replaced by other"},{id:4309,level:2,des:"\u7535\u8bdd\u6ce8\u518c\u5931\u8d25!",eng_des:"sipphone register failure"},{id:4310,level:2,des:"\u8bf7\u521d\u59cb\u5316\u63a7\u4ef6!",eng_des:"please initial the ocx"},{id:4311,level:2,des:"\u547d\u4ee4\u4e0d\u53ef\u7528,\u65e0\u6cd5\u6267\u884c!",eng_des:"method disanble,can't execute"},{id:4312,level:2,des:"\u76ee\u6807\u53f7\u7801\u4e0d\u80fd\u4e3a\u7a7a!",eng_des:"target number can't be empty"},{id:4313,level:2,des:"\u76ee\u6807\u53f7\u7801\u4e0d\u5408\u6cd5!",eng_des:"target number unvalidated "},{id:4314,level:2,des:"\u76ee\u6807\u53f7\u7801\u4e0d\u80fd\u8d85\u8fc764\u4f4d",eng_des:"target number can't be more then 64 character"},{id:4315,level:2,des:"\u5ea7\u5e2d\u88abUnInitial",eng_des:"agent invkoe UnInitial "},{id:4316,level:2,des:"sip\u6ce8\u518c\u9519\u8bef\u7801",eng_des:"sip register error:"},{id:4360,level:0,des:"\u6b63\u5728\u6ce8\u518cSip\u7535\u8bdd...",eng_des:"sipphone regsitering..."},{id:4361,level:0,des:"\u7535\u8bdd\u6ce8\u518c\u6210\u529f!",eng_des:"sipphone regsitered success"},{id:4362,level:0,des:"\u6b63\u5728\u68c0\u6d4b\u5230\u5ea7\u5e2d\u5361...",eng_des:"checking agent card..."},{id:4363,level:2,des:"\u6ca1\u6709\u68c0\u6d4b\u5230\u5ea7\u5e2d\u5361!",eng_des:"ageng card not checked"},{id:4364,level:1,des:"\u8bbe\u7f6eftp\u670d\u52a1\u5668\u4fe1\u606f\u5931\u8d25!",eng_des:"ftp config wrong"},{id:4400,level:0,des:"\u7b7e\u5165CTI\u670d\u52a1\u5668\u6210\u529f!",eng_des:"agent signin success"},{id:4401,level:2,des:"\u7b7e\u5165CTI\u670d\u52a1\u5668\u5931\u8d25!",eng_des:"agent signin failure"},{id:4402,level:0,des:"\u7b7e\u51faCTI\u670d\u52a1\u5668\u6210\u529f!",eng_des:"agent signout success"},{id:4403,level:0,des:"\u7b7e\u51faCTI\u670d\u52a1\u5668\u5931\u8d25!",eng_des:"agent signout failure"},{id:4404,level:2,des:"\u5ea7\u5e2d\u88ab\u5f3a\u5236\u8fc1\u51fa!",eng_des:"agent force signout"},{id:4405,level:2,des:"\u5ea7\u5e2d\u5df2\u7ecf\u88ab\u9501\u5b9a,\u8bf7\u8054\u7cfb\u8d28\u68c0\u5e2d\u89e3\u9501!",eng_des:"agent locked,please contact with monitor agent"},{id:4407,level:1,des:"\u6b63\u5728\u5411CTI\u670d\u52a1\u5668\u6ce8\u518c...",eng_des:"sigining to cti server..."},{id:4408,level:0,des:"\u6b63\u5728\u5411Monitor\u670d\u52a1\u5668\u6ce8\u518c...",eng_des:"logining to monitor server..."},{id:4409,level:0,des:"\u6ce8\u518cMonitor\u6210\u529f!",eng_des:"login monitor server success"},{id:4410,level:0,des:"\u7535\u8bdd\u6761\u521d\u59cb\u5316\u6210\u529f!",eng_des:"cinvccbar initial success"},{id:4411,level:2,des:"\u7535\u8bdd\u6761\u521d\u59cb\u5316\u5931\u8d25!",eng_des:"cinvccbar initial failure"},{id:4412,level:0,des:"\u6b63\u5728\u5411\u5907\u7528CTI\u670d\u52a1\u5668\u6ce8\u518c...",eng_des:"sigining to backup cti server..."},{id:4413,level:0,des:"\u6b63\u5728\u5411\u5907\u7528Monitor\u670d\u52a1\u5668\u6ce8\u518c...",eng_des:"logining to backup monitor server..."},{id:4414,level:2,des:"\u5ea7\u5e2d\u5b50\u72b6\u6001\u62a5\u544a",eng_des:"agent substatus report"},{id:4450,level:0,des:"\u5ea7\u5e2d\u5df2\u7ecf\u88ab\u62e6\u622a!",eng_des:"agent intercepted"},{id:4451,level:1,des:"\u6ca1\u6709\u8981\u88ab\u63a5\u56de\u7684\u5bf9\u8c61!",eng_des:"have no retrieved line"},{id:4452,level:1,des:"\u5916\u547c\u5fc5\u987b\u5fd9\u788c\u4e0b\u624d\u80fd\u8fdb\u884c!",eng_des:"makeout must be use in busy"},{id:4453,level:1,des:"\u6ca1\u6709\u901a\u8bdd,\u4e0d\u80fd\u8f6c\u79fb...",eng_des:"can't transfer out of call"},{id:4454,level:1,des:"\u53ea\u6709\u4e24\u4e2a\u4eba\u901a\u8bdd\u7684\u65f6\u5019\u624d\u80fd\u6267\u884c\u6b64\u547d\u4ee4...",eng_des:"can only be executed in tow line"},{id:4455,level:1,des:"\u666e\u901a\u72b6\u6001\u4e0b,\u4e8c\u6b21\u62e8\u53f7\u7801\u5fc5\u987b\u57280-15\u4e4b\u95f4!",eng_des:"the code must be from 0 to 15 in senddtmf"},{id:4456,level:1,des:"\u7528\u6237\u5df2\u6302\u673a",eng_des:"user have been out of call"},{id:4457,level:1,des:"\u8bf7\u5feb\u70b9\u670d\u52a1,\u6240\u6709\u5750\u5e2d\u90fd\u5fd9\u788c!",eng_des:"hurry! all agents are busy"},{id:4458,level:1,des:"Mute\u5fc5\u987b\u901a\u8bdd\u4e0b\u624d\u80fd\u8fdb\u884c!",eng_des:"mute can only be execute in call"},{id:4459,level:2,des:"\u5ba2\u6237\u7aef\u63a5\u901ayealink\u8bdd\u673a\u7684\u5931\u8d25!",eng_des:"yealink phone pickup failure in client type"},{id:4460,level:1,des:"\u4f1a\u8bae\u6216\u8005\u54a8\u8be2\u65f6\u4e0d\u80fd\u6302\u65ad\u4e3b\u63a7\u5ea7\u5e2d!",eng_des:"the master agent can't be disconnect in conferece or consult scene"},{id:4461,level:1,des:"\u4e0a\u4f20\u65e5\u5fd7\u6587\u4ef6\u6210\u529f",eng_des:"upload log to server success"},{id:4462,level:1,des:"\u4e0a\u4f20\u65e5\u5fd7\u6587\u4ef6\u5931\u8d25",eng_des:"upload log to server failure"},{id:4600,level:2,des:"\u521b\u5efaM\u670d\u52a1\u7c7b\u5931\u8d25!",eng_des:"create M class failure"},{id:4601,level:2,des:"Monitor Interface\u7684Initail\u65b9\u6cd5\u8c03\u7528\u5931\u8d25!",eng_des:"Initail to Monitor Interface failure"},{id:4602,level:2,des:"Monitor\u670d\u52a1\u5668\u5730\u5740\u9519\u8bef\u6216\u8005\u6ca1\u6709\u542f\u52a8!",eng_des:"Monitor server  can't be use"},{id:4603,level:2,des:"Monitor Interface\u670d\u52a1\u5668\u5730\u5740\u9519\u8bef\u6216\u8005\u6ca1\u6709\u542f\u52a8!",eng_des:"Monitor Interface  can't be use"},{id:4604,level:2,des:"\u767b\u5f55(Login)Monitor\u670d\u52a1\u5668\u5931\u8d25!",eng_des:"login in Monitor server failure"},{id:4605,level:2,des:"\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\u7f51\u7edc\u4e2d\u65ad,\u5bfc\u81f4Monitor\u548c\u670d\u52a1\u5668\u65ad\u5f00,5\u540e\u91cd\u65b0\u8fde\u63a5....",eng_des:"agent disconnect from monitor server by network,will reconnect in 5 minutes"},{id:4606,level:2,des:"Monitor\u6b63\u5728\u548c\u670d\u52a1\u5668\u91cd\u65b0\u8fde\u63a5....",eng_des:"monitor is reconnecting..."},{id:4607,level:2,des:"\u7531\u4e8e\u67d0\u4e9b\u539f\u56e0\u7f51\u7edc\u4e2d\u65ad,\u5bfc\u81f4Monitor\u548c\u670d\u52a1\u5668\u65ad\u5f00,\u8bf7\u548c\u7ba1\u7406\u5458\u8054\u7cfb!",eng_des:"monitor can't be connected with server by network,please contact to admin"},{id:4608,level:2,des:"Monitor\u91cd\u8fde\u6210\u529f,\u76d1\u63a7\u5ea7\u5e2d\u5c31\u7eea\u53ef\u4ee5\u91cd\u65b0\u4f7f\u7528!",eng_des:"monitor reconnect success,it works"},{id:4800,level:2,des:"sip\u4e25\u91cd\u9519\u8bef",eng_des:"sip fatal error"},{id:4801,level:2,des:"sip\u547c\u53eb\u9519\u8bef",eng_des:"sip call error"}]},application=null,sipTypeJSip=0,sipTypeRemoteSip=1,sipTypeRemoteHttpSip=2,sipTypeAuto=3;function applicationSipLoad(d,a,b){null==application&&("undefined"==typeof d&&(d=""),"undefined"==typeof a&&(a=null),"undefined"==typeof b&&(b=sipTypeJSip),application=new JSipApplication(d,b),application.onLoad=a,null!=a&&setTimeout(createSipBar,1E3))}function applicationSipUnLoad(){null!==application&&(null!=application.oJSipCtrl&&(application.oJSipCtrl.ReleasePA(),application.oJSipCtrl=null),application=null)}function JSipApplication(d,a){this.path=d;this.sipType=a;this.realsipType=-1;this.oBrowserSys=null;this.surpportWebsocket=!1;this.Log=function(a){this.OnDebug(a)};this.DislayProtocol=function(a){gSIP_Log_Protocol=a;gLogType=0==gSIP_Log_Protocol?0:31;g_consoleFlag=a};this.GetSipType=function(){return this.realsipType};this._IsWebSocketValid=function(){!window.WebSocket&&window.MozWebSocket&&(window.WebSocket=window.MozWebSocket);return window.WebSocket?!0:!1};this._CreateObject=function(){this.surpportWebsocket=this._IsWebSocketValid();switch(this.sipType){case sipTypeAuto:this.realsipType=this.surpportWebsocket?sipAdapterTypeRemoteSip:sipAdapterTypeRemoteHttpSip;break;case sipTypeRemoteSip:this.realsipType=sipAdapterTypeRemoteSip;break;case sipTypeRemoteHttpSip:this.realsipType=sipAdapterTypeRemoteHttpSip;break;case sipTypeJSip:this.realsipType=sipAdapterTypeJSip;break;default:this.realsipType=-1}};this.OnDebug=function(a){};this.OnLoad=function(){};this._CreateObject();return this}function createSipBar(){application.oJSipCtrl=new SIPAdapterCtrl(application.realsipType,application.path,!0);if(application.onLoad)application.onLoad()}function GetMediaDevices(d){function a(){d([])}function b(a){var b=[];console.info(a);for(var c=0;c!==a.length;++c){var g=a[c];"videoinput"===g.kind&&b.push(g)}d(b)}navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices().then(b.bind(this))["catch"](a)}function GetAudioInputDevices(d){function a(){d([])}function b(a){for(var b=[],c=0;c!==a.length;++c){var g=a[c];"audioinput"===g.kind&&b.push(g)}d(b)}navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices().then(b.bind(this))["catch"](a)}function GetAudioOutputDevices(d){function a(){d([])}function b(a){for(var b=[],c=0;c!==a.length;++c){var g=a[c];"audiooutput"===g.kind&&b.push(g)}d(b)}navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices().then(b.bind(this))["catch"](a)}function GetLocalUserIP(d){var a=new (window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection)({iceServers:[]}),b=function(){},c={},e=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/g,f=function(a){c[a]||d(a);c[a]=!0};a.createDataChannel("");a.createOffer().then(function(c){c.sdp.split("\n").forEach(function(a){0>a.indexOf("candidate")||a.match(e).forEach(f)});a.setLocalDescription(c,b,b)})["catch"](function(a){});a.onicecandidate=function(a){a&&a.candidate&&a.candidate.candidate&&a.candidate.candidate.match(e)&&a.candidate.candidate.match(e).forEach(f)}}var g_resPath="",RTPTYPE_NULL=-1,RTPTYPE_WEBRTC=0,RTPTYPE_XYLINK=1,RTPTYPE_AGORA=2,SipCallSence={SIPCALL_NULL:0,SIPCALL_IDLE:1,SIPCALL_CALLING:2,SIPCALL_RING:3,SIPCALL_ORIGATE:4,SIPCALL_CONNECTED:5,SIPCALL_MUTE:6,SIPCALL_HOLD:7,SIPCALL_CONSULTRING:8,SIPCALL_CONSULT:9,SIPCALL_CONFERENCE:10,SIPCALL_END:11},LocalVideoSrc={Camera:"camera",BackGround:"background",Stream:"stream",Screen:"screen",VideoFile:"videoFile"},Sip_HeartBeat_TimeId=100,Sip_Webrtc_GetStatics_TimeId=101;function SIPCtrl(d){this.path=d;this.config={Dn:"",SipServerIP:"",SipServerPort:5068,SipProtocol:"wss",XPath:"",AuthType:"",Domain:"",Pass_Word:"45rkkk5g",Version:"20.20191210",JsipVersion:"",Audio:!0,Vedio:!1,Sequence:0,Token:"",Route:"",Source:"camera",VideoSource:"",VideoText:"",audioInputdeviceId:"",audioOutputdeviceId:"",Width:480,Height:640,FrameRate:15,ProxyServer:!1,Fit:"contain",Reconnect:!0,rtpType:RTPTYPE_NULL,callRtpType:RTPTYPE_NULL,Heartbeat:!1,GetRtpStatics:!1,Mp3File:!1,SingleAudioPlay:!0,AudioPlayTimeoutMode:!0,PlayRingSound:!0,BandWidth:320};this.sipConfig={sockets:null,log:{level:"debug"},uri:"",pass_word:"46ek5gneke",ws_servers:"",display_name:"",authorization_user:"",register:!1,register_expires:600,registrar_server:"",no_answer_timeout:60,session_timers:!0,use_preloaded_route:!1,connection_recovery_min_interval:2,connection_recovery_max_interval:30,hack_via_tcp:!1,hack_via_ws:!1,hack_ip_in_contact:!1,token:"",route:"",user_agent:"CINcc ",registered:!1};this.peerconnection_config={rtcpMuxPolicy:"require",gatheringTimeout:2E3};this.inComingCallSurpportVedio=!1;this.localCanRenegotiateRTC="";this.SipCallSenceDes={items:"UnRegister Ready CallOut Ring Origate Connected Mute Hold Consult Consult Conference --".split(" ")};this.CallInfo={ScenseID:SipCallSence.SIPCALL_NULL,ScenseName:"\u672a\u6ce8\u518c",Code:0,RequsetName:"",Result:"",CallSegments:[]};this.opUpdateMedia=!1;this.call=this.ua=null;this.sessionCount=0;this.remoteViewContainer=this.selfViewContainer=this.remoteView=this.selfView=null;this.msg_session=[];this.callVSrc="";this.uiOptions={localDivView:null,remoteDivView:null,shareDivView:null};this.soundPlayer=this.soundPlayerDiv=this.remoteStream=this.localStream=null;this.oldsipConfig=this.sipConfig;this.oXYsession=this.oParse=this.options=null;this.cin_callID="";this.messge_options=this._oTimer=this._oRtpStatics=this._oMediaSrcData=this._oMediaSrcData=this._oStreamCtrl=this._oXYLinkCtrl=this._oAgoraCtrl=null;this.Initial=function(a){"undefined"==typeof a&&(a=!1);this._GetBrowerInfo();"chrome"==this.os?53>string2Int(this.version)&&(alert("The version of Chrome browser is lower than 53 and can not be used. Please upgrade!"),this.OnError(-1,"The version of Chrome browser is lower than 53 and can not be used. Please upgrade!")):"msie"==this.os&&(alert("IE browser does not support jsip, please change browser!"),this.OnError(-1,"IE browser does not support jsip, please change browser!"));null==this._oStreamCtrl&&(this._oStreamCtrl=new StreamCtrl(this.config.Width,this.config.Height,null));null==this._oMediaSrcData&&(this._oMediaSrcData=MediaSrcData());null==this._oRtpStatics&&(this._oRtpStatics=new RtpStaticsCtrl);if(this.config.SingleAudioPlay){if(null==this.soundPlayerDiv){this.soundPlayerDiv=document.createElement("DIV");document.body.appendChild(this.soundPlayerDiv);var b="lsoundLayer"+getCurrentTimeString();this.soundPlayerDiv.innerHTML="\x3caudio id\x3d'"+b+"' src\x3d'"+this._GetAudioFileName("sounds/incoming-call2.mp3")+"' \x3e\x3c/audio\x3e";this.soundPlayer=document.getElementById(b);this.soundPlayer.volume=1}}else null==this.soundPlayer&&(this.soundPlayer=document.createElement("audio"),this.soundPlayer.volume=1);g_consoleFlag&&console.info("audioPlay:%o",this.soundPlayer);this.config.JsipVersion=JsSIP.version;this.OnDebug("current jssip version:"+this.GetVersion());this.sipConfig.user_agent="CINcc "+JsSIP.version;1==a&&null==this.ua&&this._CreateUa();return 0};this.UnInitial=function(){this.ReleasePA();return 0};this.RegisterPA=function(){this._IsSipConfigChanged()&&null!=this.ua&&this._DeleteUa(!0);this.sipConfig.register=!0;if(null==this.ua)return this._CreateUa();this.ua.register();return 0};this.ReleasePA=function(){this.sipConfig.register=!1;if(null!=this.ua){if(!this.ua.isRegistered())return-1;this.ua.unregister();return 0}return-1};this.Pickup=function(a){if(null==this.call)return-1;if(4!=this.call._status)return this.OnDebug("bad sip status:"+this.call._status+", can not pickup!"),-1;var b=this;a=a||{};this.OnDebug("Pickup:"+JSON.stringify(a));var c=a.mediaStream,d=a.source||this.config.Source,f=a.videosource||this.config.VideoSource,g=a.videotext||this.config.VideoText;b.callVSrc=d;if(c)return b.callVSrc=LocalVideoSrc.Stream,this._PickUp(c),0;c=this.config.Vedio||this.inComingCallSurpportVedio;if(0==this.config.Audio&&0==c)return this.OnDebug("audio and video are not supported!"),-1;if(1==this.config.Audio&&0==c)return b._oStreamCtrl.GetMicPhoneStream(function(a){null==a?(b.OnError(488,"get audioStream failure"),b._Terminate(488,"get audioStream failure")):b._PickUp(a)}),0;if(d==LocalVideoSrc.BackGround){this._oStreamCtrl.DrawPicture(f,g);var h=this._oStreamCtrl.GetCanvas().captureStream();b._oStreamCtrl.GetMicPhoneStream(function(a){null==a?(b.OnError(488,"get audioStream failure"),b._Terminate(488,"get audioStream failure")):(a=a.getAudioTracks()[0],h.addTrack(a),b._PickUp(h))})}else{if(!g)return a=this._GetLocalMediaConstraints(this.config.Audio,this.inComingCallSurpportVedio,f,a.width||this.config.Width,a.height||this.config.Height),this.OnDebug("GetCommonStream:"+JSON.stringify(a)),this._oStreamCtrl.GetCommonStream(a,function(a){null==a?(b.OnError(488,"get Stream failure,please check camera or micphone device"),b._Terminate(488,"get Stream failure,please check camera or micphone device")):b._PickUp(a)}),0;a={audio:this.config.Audio,video:{width:a.width||this.config.Width,height:a.height||this.config.Height},mark:{text:g.text?g.text:"",timer:g.timer?g.timer:!1,image:g.image?g.image:""}};this.OnDebug("GetCommonStreamExtent:"+JSON.stringify(a));b._oStreamCtrl.GetCommonStreamExtent(a,function(a){null==a?(b.OnError(488,"get Stream failure,please check camera or micphone device"),b._Terminate(488,"get videoStream failure,please check camera device")):b._PickUp(a)})}return 0};this._PickUp=function(a){if(null==this.call)this._oStreamCtrl.CloseMediaStream(a);else return this.call.answer({pcConfig:this.peerconnection_config,mediaConstraints:this._GetMediaConstraints(this.config.Audio,this.inComingCallSurpportVedio),mediaStream:a,extraHeaders:["X-Can-Renegotiate: "+String(this.localCanRenegotiateRTC)],rtcOfferConstraints:{offerToReceiveAudio:this.config.Audio?1:0,offerToReceiveVideo:this.config.Vedio||this.inComingCallSurpportVedio?1:0}}),0};this.Reject=function(){if(null==this.call)return-1;this._Terminate(0,"Reject");return 0};this.Disconnect=function(){if(null==this.call)return-1;this._Terminate(0,"Disconnect");return 0};this.SendDTMF=function(a){if(null==this.call)return-1;var b=a.toString();10==a?b="*":11==a&&(b="#");this.call.sendDTMF(b);return 0};this.DoCall=function(a,b){if(null!=this.call)return-1;this.config.callRtpType=RTPTYPE_NULL;var c="";"undefined"==typeof b&&(b="");var d=this.config.Audio,f=this.config.Vedio,g=null;"object"==typeof b?(b=b||{},c=b.data||"",g=b.mediaStream||null,"undefined"!=typeof b.audio&&(d=b.audio),"undefined"!=typeof b.vedio&&(f=b.vedio)):"string"==typeof b&&(c=b);if(0==d&&0==f)return-1;var h=["X-Can-Renegotiate: "+String(this.localCanRenegotiateRTC)];if(""!=c)for(var c=c.split("|||"),k=0;k<c.length;k++)h.push(c[k]);if(0==f)return c=this._GetLocalMediaConstraints(d,f,this.config.VideoSource,this.config.Width,this.config.Height),this.OnDebug("_GetLocalMediaConstraints:"+JSON.stringify(c)),this._MakeCallInfo(SipCallSence.SIPCALL_CALLING,a),this.ua.call(a,{type:"screen",pcConfig:this.peerconnection_config||{iceServers:[]},mediaConstraints:c,extraHeaders:h,mediaStream:g,rtcOfferConstraints:{offerToReceiveAudio:d?1:0,offerToReceiveVideo:f?1:0},rtpType:this.config.rtpType}),0;var l=this;return this._GetLocalStream({},function(b,c,d){b?l._DoCall(a,{type:"screen",pcConfig:l.peerconnection_config||{iceServers:[]},extraHeaders:h,mediaStream:b,rtcOfferConstraints:{offerToReceiveAudio:l.config.Audio?1:0,offerToReceiveVideo:l.config.Vedio?1:0},rtpType:l.config.rtpType}):l.OnError(c,d)})};this._DoCall=function(a,b){if(null!=this.call)return-1;g_consoleFlag&&console.info("call(%o)",b);this._MakeCallInfo(SipCallSence.SIPCALL_CALLING,a);this.ua.call(a,b);return 0};this._GetLocalStream=function(a,b){var c=this;a=a||{};this.OnDebug("_GetLocalStream:"+JSON.stringify(a));var d=a.mediaStream,f=a.source||this.config.Source,g=a.videosource||this.config.VideoSource,h=a.videotext||this.config.VideoText;c.callVSrc=f;if(f==LocalVideoSrc.Stream){if(d)return c.callVSrc=LocalVideoSrc.Stream,b(d),0}else if(f==LocalVideoSrc.BackGround){c._oStreamCtrl.DrawPicture(g,h);var k=this._oStreamCtrl.GetCanvas().captureStream();c._oStreamCtrl.GetMicPhoneStream(function(a){null==a?(b(null,488,"get mic audioStream failure"),c._oStreamCtrl.CloseMediaStream(k)):(a=a.getAudioTracks()[0],k.addTrack(a),b(k))})}else{if(!h)return d=this._GetLocalMediaConstraints(this.config.Audio,this.config.Vedio,g,a.width||this.config.Width,a.height||this.config.Height),this.OnDebug("GetCommonStream:"+JSON.stringify(d)),this._oStreamCtrl.GetCommonStream(d,function(a){null==a?b(null,488,"get Stream failure,please check camera or micphone device"):b(a)}),0;a=this._GetLocalMediaConstraints(this.config.Audio,this.config.Vedio,g,a.width||this.config.Width,a.height||this.config.Height);a.mark={text:h.text?h.text:"",timer:h.timer?h.timer:!1,image:h.image?h.image:""};this.OnDebug("GetCommonStreamExtent:"+JSON.stringify(a));c._oStreamCtrl.GetCommonStreamExtent(a,function(a){null==a?(b(null,488,"get Stream failure,please check camera or micphone device"),c._oStreamCtrl.CloseMediaStream(a)):b(a)})}return-1};this.SendMessage=function(a,b,c){if(null==this.ua)return-1;"undefined"==typeof b&&(b="");"undefined"==typeof c&&(c={});var d={};d.contentType=c.contentType;this.call&&""==a&&(d.call_id=this.call._request.call_id,this.call._request.cseq+=1,d.cseq=this.call._request.cseq,"incoming"===this.call.direction?(d.from_tag=this.call._to_tag,d.to_tag=this.call._from_tag):(d.from_tag=this.call._from_tag,d.to_tag=this.call._to_tag),""==a&&(a=this.call.remote_identity.uri.toString()));c=this._GetMsgSession(a);0<c.length?(c=c[0].session,d.call_id=c._request.call_id,c.send(stringFormatSip("sip:{0}@{1}",a,this.config.SipServerIP),b,d)):(c=this.ua.sendMessage(stringFormatSip("sip:{0}@{1}",a,this.config.SipServerIP),b,d),this.msg_session.push({target:a,session:c}));return 0};this.UpdateMedia=function(a){if(null==this.call)return-1;if(1==this.opUpdateMedia)return this.OnDebug("On UpdateMedia status"),-2;var b=this.call.remote_identity.uri.toString();a={type:"updatemedia",callid:this.cin_callID,av:a};var c={contentType:"application/cincc_bypass+json"};c.call_id=this.call._request.call_id;this.call._request.cseq+=1;c.cseq=this.call._request.cseq;"incoming"===this.call.direction?(c.from_tag=this.call._to_tag,c.to_tag=this.call._from_tag):(c.from_tag=this.call._from_tag,c.to_tag=this.call._to_tag);this.ua.sendMessage(b,JSON.stringify(a),c);return 0};this.Mute=function(a){a=this._MakeRequest(a?"Mute":"UnMute","");return this._SendInfo(a)};this.Hold=function(){if(null==this.call)return-1;this.call.hold({})};this.RetriveHold=function(){if(null==this.call)return-1;this.call.unhold({})};this.Consult=function(a){a=this._MakeRequest("Consult",a);return this._SendInfo(a)};this.Conference=function(){var a=this._MakeRequest("Conference","");return this._SendInfo(a)};this.ReleaseLeg=function(a){a=this._MakeRequest("Release",a);return this._SendInfo(a)};this.Transfer=function(a){a=this._MakeRequest("Transfer",a);return this._SendInfo(a)};this.Alertnate=function(){var a=this._MakeRequest("Switch","");return this._SendInfo(a)};this.CheckSoundPlay=function(){this._PauseSound()};this.GetCallKeyValue=function(a){return"P-CIN-CallId"==a?this.cin_callID:""};this.SetVideoViews=function(a,b,c){this.uiOptions.localDivView=document.getElementById(a);this.uiOptions.remoteDivView=document.getElementById(b);this.uiOptions.shareDivView=document.getElementById(c);this.config.callRtpType==RTPTYPE_AGORA&&null!=this._oAgoraCtrl&&this._oAgoraCtrl.setVideoViews(a,b,c)};this.ShareScreen=function(a){if(this.config.callRtpType==RTPTYPE_AGORA){if(null!=this._oAgoraCtrl){var b=this._oAgoraCtrl.getCallParam();if(""==b.appID)return;b.src="camera"==b.src?"share":"camera";b.resolution={width:this.config.Width,height:this.config.Height};b.proxy=this.config.proxyServer;var c=this;if("share"==b.src){this._oAgoraCtrl.share(b,function(a){1==a&&(c.config.Source=b.src)});return}this._oAgoraCtrl.leave(function(){console.warn("AgoraCtrl.leave...");c._oAgoraCtrl.join(b)})}}else if(this.config.callRtpType==RTPTYPE_WEBRTC){if(null==this.call)return-1;c=this;a=a||{};var d=a.mediaStream||null,f=a.mic||null,g=a.source||this.config.Source,h=a.force||!1;if(c.callVSrc==g&&0==h)return this.OnDebug("the sample video source type ["+g+"]"),-1;if(g==LocalVideoSrc.Stream)if(d)1==f?c._oStreamCtrl.GetMicPhoneStream(function(a){null==a?c.OnDebug("get audioStream failure"):(a=a.getAudioTracks()[0],d.addTrack(a),c._ShareRTCScreen(LocalVideoSrc.Stream,d))}):c._ShareRTCScreen(LocalVideoSrc.Stream,d);else return-1;else if(g==LocalVideoSrc.Screen)g=a.width||this.config.Width,a=a.height||this.config.Height,h={video:{width:g,height:a}},c.OnDebug("ScreenSize(w:"+g+" h:"+a+")"),__GetOutScreenStream(h,function(a){null==a?c.OnDebug("Init ScreenStream failure)"):(a.getVideoTracks()[0].onended=function(){c.config.callRtpType==RTPTYPE_WEBRTC&&setTimeout(function(){c._SendInfoShareScreen("stop");c.OnDebug("Screen Stream end");c.ShareScreen({source:c.config.Source})},500)},1==f?__GetMicPhoneStream(function(b){null==b?c.OnDebug("Init micStream failure)"):(b=b.getAudioTracks()[0],a.addTrack(b),c._ShareRTCScreen(LocalVideoSrc.Screen,a))}):c._ShareRTCScreen(LocalVideoSrc.Screen,a))});else if(g==LocalVideoSrc.Camera){h=a.videotext||this.config.VideoText;g=a.videosource||this.config.VideoSource;if(!h)return a=this._GetLocalMediaConstraints(this.config.Audio,this.config.Vedio,g,a.width||this.config.Width,a.height||this.config.Height),this.OnDebug("GetCommonStream:"+JSON.stringify(a)),this._oStreamCtrl.GetCommonStream(a,function(a){null==a?c.OnError(488,"get Stream failure,please check camera or micphone device"):c._ShareRTCScreen(LocalVideoSrc.Camera,a)}),0;a={audio:this.config.Audio,video:{width:a.width||this.config.Width,height:a.height||this.config.Height},mark:{text:h.text?h.text:"",timer:h.timer?h.timer:!1,image:h.image?h.image:""}};this.OnDebug("GetCommonStreamExtent:"+JSON.stringify(a));c._oStreamCtrl.IsIdle()||c._oStreamCtrl.StopDraw();c._oStreamCtrl.GetCommonStreamExtent(a,function(a){null==a?(c.OnError(488,"get Stream failure,please check camera or micphone device"),c._oStreamCtrl.CloseMediaStream(a)):c._ShareRTCScreen(LocalVideoSrc.Camera,a)})}else if(g==LocalVideoSrc.BackGround){g=a.videosource||this.config.VideoSource;h=a.videotext||this.config.VideoText;c._oStreamCtrl.IsIdle()||c._oStreamCtrl.StopDraw();c._oStreamCtrl.DrawPicture(g,h);var k=this._oStreamCtrl.GetCanvas().captureStream();1==f?c._oStreamCtrl.GetMicPhoneStream(function(a){null==a?(c.OnError(488,"get mic audioStream failure"),c._oStreamCtrl.CloseMediaStream(k)):(a=a.getAudioTracks()[0],k.addTrack(a),c._ShareRTCScreen(LocalVideoSrc.BackGround,k))}):c._ShareRTCScreen(LocalVideoSrc.BackGround,k)}else g==LocalVideoSrc.VideoFile&&(c._oStreamCtrl.IsIdle()||c._oStreamCtrl.StopDraw(),c._oStreamCtrl.PlayVideo(a.videosource,a.loop||!1,function(a){if(null==a)c.OnError(488,"get fileStream failure");else if(1==f){var b=a.getAudioTracks()[0];b&&a.removeTrack(b);c._oStreamCtrl.GetMicPhoneStream(function(b){null==b?(c.OnError(488,"get mic audioStream failure"),c._oStreamCtrl.CloseMediaStream(a)):(b=b.getAudioTracks()[0],a.addTrack(b),c._ShareRTCScreen(LocalVideoSrc.VideoFile,a))})}else c._ShareRTCScreen(LocalVideoSrc.VideoFile,a)},function(a){0==a&&c.config.callRtpType==RTPTYPE_WEBRTC&&setTimeout(function(){c._SendInfoShareScreen("stop");c.OnDebug("video file end no loop");c.ShareScreen({source:c.config.Source})},500)}));return 0}return-1};this.GetVideoSnapShot=function(a){if(this.config.callRtpType==RTPTYPE_AGORA){if(null!=this._oAgoraCtrl&&(a=this._oAgoraCtrl.getRemoteViewId(),(a=document.getElementById(a).getElementsByTagName("video"))&&0<a.length)){var b=a[0];a=document.createElement("canvas");a.width=b.videoWidth;a.height=b.videoHeight;a.getContext("2d").drawImage(b,0,0,a.width,a.height);console.info("width:"+b.videoWidth+" height:"+b.videoHeight);b=new Image;b.src=a.toDataURL("image/png");return b.src}}else if(this.config.callRtpType==RTPTYPE_WEBRTC&&(console.info(this.remoteView),this.remoteView))return b=this.remoteView,a=document.createElement("canvas"),a.width=b.videoWidth,a.height=b.videoHeight,a.getContext("2d").drawImage(b,0,0,a.width,a.height),console.info("width:"+b.videoWidth+" height:"+b.videoHeight),b=new Image,b.src=a.toDataURL("image/png"),b.src;return null};this.SelectFileUpload=function(){};this.SetAttribute=function(a,b){"Dn"==a?this.config.Dn=b:"SipServerIP"==a?this.config.SipServerIP=b:"SipServerPort"==a?this.config.SipServerPort=b:"SipProtocol"==a?this.config.SipProtocol=b:"XPath"==a?this.config.XPath=b:"AuthType"==a?this.config.AuthType=b:"Domain"==a?this.config.Domain=b:"PassWord"==a?this.config.Pass_Word=b:"Vedio"==a?this.config.Vedio=b:"Audio"==a?this.config.Audio=b:"Token"==a?this.config.Token=b:"Route"==a?this.config.Route=b:"MediaType"==a?this.config.rtpType=b:"Proxy"==a?this.config.ProxyServer=b:"AutoRegister"==a&&(this.config.AutoRegister=b)};this.GetAttribute=function(a){return"Dn"==a?this.config.Dn:"SipServerIP"==a?this.config.SipServerIP:"SipServerPort"==a?this.config.SipServerPort:"SipProtocol"==a?this.config.SipProtocol:"XPath"==a?this.config.XPath:"AuthType"==a?this.config.AuthType:"Domain"==a?this.config.Domain:"PassWord"==a?this.config.Pass_Word:"Vedio"==a?this.config.Vedio:"Audio"==a?this.config.Audio:"Token"==a?this.config.Token:"Route"==a?this.config.Route:"MediaType"==a?this.config.rtpType:"Proxy"==a?this.config.ProxyServer:""};this.Configurate=function(a){this.OnDebug(JSON.stringify(a));this.config.Width=a.width||this.config.Width;this.config.Height=a.height||this.config.Height;this.config.FrameRate=a.framerate||this.config.FrameRate;this.config.Fit=a.fit||this.config.Fit;this.config.Source=a.source||this.config.Source;this.config.VideoSource=a.videosource||this.config.VideoSource;this.config.VideoText=a.videotext||this.config.VideoText;this.config.Heartbeat=a.heartbeat||this.config.Heartbeat;this.config.GetRtpStatics=a.getrtpstatics||this.config.GetRtpStatics;this.config.BandWidth=a.bandwidth||this.config.BandWidth;320>this.config.BandWidth&&(this.config.BandWidth=320);"boolean"==typeof a.playringsound&&(this.config.PlayRingSound=a.playringsound);"cover"!=this.config.Fit&&"contain"!=this.config.Fit&&(this.config.Fit="contain");this.config.audioInputdeviceId=a.audioinputdeviceid||this.config.audioInputdeviceId;this.config.audioOutputdeviceId=a.audiooutputdeviceid||this.config.audioOutputdeviceId;this._AttachSinkId(this.remoteView,this.config.audioOutputdeviceId)};this.GetVersion=function(){return SIPVERSION+"("+this.config.JsipVersion+")"};this._create=function(){this._oTimer=new JSIPTimer;this._oTimer.oParent=this;this._oTimer.SetTimerCallBack(this._OnSipTimerEvent);this._oTimer.Start();this._BindDeviceCheck();try{JsSIP.debug.enable("*")}catch(a){}};this._OnSipTimerEvent=function(a){var b=this.oParent;a==Sip_HeartBeat_TimeId?null!=b.ua&&b.ua.heartbeat():a==Sip_Webrtc_GetStatics_TimeId&&null!=b.call&&b._GetStaticsInfo(b.call.connection)};this._GetStaticsInfo=function(a){var b=this;this._oRtpStatics.getStatics(a,function(a){b.OnRtpStatics({key_word:"RTPStatics",param:a})})};this._GetBrowerInfo=function(){this.version=this.os="";var a=navigator.userAgent.toLowerCase();0<a.indexOf("msie")?(this.os="msie",this.version=a.match(/msie ([\d.]+)/)[1]):0<a.lastIndexOf("firefox")?(this.os="firefox",this.version=a.match(/firefox\/([\d.]+)/)[1]):0<a.lastIndexOf("chrome")?(this.os="chrome",this.version=a.match(/chrome\/([\d.]+)/)[1]):0<a.lastIndexOf("trident")?(this.os="msie",this.version=a.match(/rv:([\d.]+)/)[1]):0<a.lastIndexOf("safari")?(this.os="safari",this.version=a.match(/safari\/([\d.]+)/)[1]):this._isIE()?(this.os="msie",this.version="11.0"):(this.os=a,this.version="")};this._isIE=function(){try{return window.ActiveXObject||"ActiveXObject"in window?!0:!1}catch(a){return!1}};this._CreateUa=function(){if(null==this.ua){this._SetSipConfig();try{this.ua=new JsSIP.UA(this.sipConfig),this.ua.parent=this}catch(a){return console.log(a.toString()),this.ua=null,-1}this.ua.on("connecting",function(a){this.parent.OnDebug("ua connecting")});this.ua.on("connected",function(a){this.parent.OnDebug("ua connected");this.parent.OnConnectStatus(!0);this.parent.config.Heartbeat&&this.parent._oTimer.SetTimer(Sip_HeartBeat_TimeId,5E3)});this.ua.on("disconnected",function(a){a=this.parent;null==a.ua||a.ua.isRegistered()||(a.config.Reconnect||(a.OnError(408,"Request Timeout"),a.OnLoginFailure(408,"Request Timeout")),a._DeleteUa(!1),a.OnConnectStatus(!1))});this.ua.on("registered",function(a){a=this.parent;0==a.sipConfig.registered&&(a._MakeCallInfo(SipCallSence.SIPCALL_IDLE,""),a.OnLoginSuccess(),a._InitMediaAdpater(),a.sipConfig.registered=!0)});this.ua.on("unregistered",function(a){a=this.parent;1==a.sipConfig.register?a.OnError(0,"Reconnecting"):(a.sipConfig.registered=!1,a.OnLogoutSuccess(),a.config.rtpType==RTPTYPE_XYLINK&&null!=a._oXYLinkCtrl&&a._oXYLinkCtrl.Logout());a._DeleteUa(!1)});this.ua.on("registrationFailed",function(a){var b=a.cause,c=0;"Request Timeout"==b&&(c=408);a.response&&(c=a.response.status_code);this.parent.sipConfig.registered=!1;this.parent.OnLoginFailure(c,b);this.parent._DeleteUa(!1)});this.ua.on("newRTCSession",function(a){this.parent.OnDebug("newRTCSession");this.parent._CreateRTCSession(a)});this.ua.on("newMessage",function(a){var b=this.parent;b.OnDebug("newMessage");var c;c=a.request;a=a.message;var d=a.remote_identity.uri.toString();if("incoming"===a.direction)c=c.body,this.parent.OnMessage(d,c,"incoming","0"),this.parent._UpdateMediaResponse(c);else a.on("failed",function(a){b._OnGMessageFailure(d,a)});a.ooParent=this});this.ua.start()}};this._BcdToASC2=function(a,b){if(""==a)return"";for(var c="",d=0;d<b;d++)c=d&1?c+"0123456789ABCDEF".charAt((a.charCodeAt(d>>1)&240)>>4):c+"0123456789ABCDEF".charAt(a.charCodeAt(d>>1)&15);return stringFormatSip("----{0}-------",c)};this._DeleteUa=function(a){!a&&1==this.sipConfig.register&&this.config.Reconnect||null==this.ua||(this.OnDebug("DeleteUa"),this.ua.stop(),this.ua=null)};this._SetSipConfig=function(){this.sipConfig.uri=stringFormatSip("sip:{0}@{1}:{2}",this.config.Dn,this.config.SipServerIP,this.config.SipServerPort);443==this.config.SipServerPort&&(this.sipConfig.uri=stringFormatSip("sip:{0}@{1}",this.config.Dn,this.config.SipServerIP));this.sipConfig.pass_word=this.config.Pass_Word;this.sipConfig.ws_servers=443==this.config.SipServerPort?stringFormatSip("{0}://{1}/{2}",this.config.SipProtocol,this.config.SipServerIP,this.config.XPath):stringFormatSip("{0}://{1}:{2}/{3}",this.config.SipProtocol,this.config.SipServerIP,this.config.SipServerPort,this.config.XPath);this.sipConfig.sockets=new JsSIP.WebSocketInterface(this.sipConfig.ws_servers);this.sipConfig.display_name=this.config.Dn;this.sipConfig.authorization_user=this.config.Dn;this.sipConfig.token=this.config.Token;this.sipConfig.route=this.config.Route;""!=this.config.Route&&(this.sipConfig.route=stringFormatSip("\x3csip:{0}@{1}:{2};lr\x3e",this.config.Route,this.config.SipServerIP,this.config.SipServerPort));this.oldsipConfig=this.sipConfig};this._CreateRTCSession=function(a){this.OnDebug("Begin CreateRTCSession");g_consoleFlag&&console.info(a);this.call=a.session;this.call.shareoptions={source:this.config.Source};var b=this,c=this.call.remote_identity.display_name||this.call.remote_identity.uri.user;a=a.request;"incoming"===this.call.direction&&("false"===a.getHeader("X-Can-Renegotiate")?this.call.data.remoteCanRenegotiateRTC=!1:this.call.data.remoteCanRenegotiateRTC=!0,a.body&&(0<a.body.indexOf("m\x3dvideo")?this.inComingCallSurpportVedio=!0:this.inComingCallSurpportVedio=!1));if(0<this.sessionCount)return this._Terminate(0,"more than Max count"),!1;this.sessionCount+=1;this.OnDebug("url:"+c);this.call.on("progress",function(a){"incoming"===b.call.direction?(1==b.config.PlayRingSound&&b._PlaySound("sounds/incoming-call2.mp3",!0),b._MakeCallInfo(SipCallSence.SIPCALL_RING,b.call.remote_identity.uri.toString()),b.config.Vedio&&b.inComingCallSurpportVedio&&b.OnUpdateVideoWindow({key_word:"GetVideoViews",param:b}),b.OnRing(b.call.remote_identity.uri.toString())):(""==a.response.body?b._PlaySound("sounds/outgoing-call2.mp3",!0):b.OnDebug("180 with sdp..."),b._MakeCallInfo(SipCallSence.SIPCALL_ORIGATE,b.call.remote_identity.uri.toString()),b.config.Vedio&&b.OnUpdateVideoWindow({key_word:"GetVideoViews",param:b}),b.OnOrigated(b.call.remote_identity.uri.toString()));"remote"===a.originator?b.OnDebug("in-progress"):b.OnDebug("progress")});this.call.on("accepted",function(a){b.OnDebug("accepted");g_consoleFlag&&(console.info("accepted"),console.info(a));b.config.callRtpType!=RTPTYPE_NULL||null!=a.response&&"undefined"!=typeof a.response.agora_info&&""!=a.response.agora_info||(b.config.callRtpType=RTPTYPE_WEBRTC);b._BindLocalVedioView();b._BindRemoteVedioView(null);null!=a.response&&(b.cin_callID=a.response.getHeader("P-CIN-CallId"));"remote"===a.originator&&("false"===a.response.getHeader("X-Can-Renegotiate")?b.call.data.remoteCanRenegotiateRTC=!1:b.call.data.remoteCanRenegotiateRTC=!0);b._PauseSound();b._MakeCallInfo(SipCallSence.SIPCALL_CONNECTED,"");b.OnConnected(0);b._SetBandWidth(b.config.BandWidth);b.config.GetRtpStatics&&b._oTimer.SetTimer(Sip_Webrtc_GetStatics_TimeId,3E3)});this.call.on("addstream",function(a){b.OnDebug("addstream");g_consoleFlag&&console.info(a);b._BindRemoteVedioView(a)});this.call.on("failed",function(a){b.OnDebug("failed");g_consoleFlag&&console.info("failed");a.message&&"undefined"!=typeof a.message.status_code?300<a.message.status_code?b.OnError(a.message.status_code,a.cause):b.OnError(a.message.status_code,a.message.reason_phrase):b.OnError(487,a.cause);b._PlaySound("sounds/outgoing-call-rejected.mp3",!1);b._EndCall();b._MakeCallInfo(SipCallSence.SIPCALL_IDLE,"");b.OnDisconnected();b.config.GetRtpStatics&&b._oTimer.KillTimer(Sip_Webrtc_GetStatics_TimeId)});this.call.on("newDTMF",function(a){-100==a.dtmf.tone?b._RecvInfo(a.request.body):(b.OnDebug("newDTMF("+a.originator+","+a.dtmf.tone+")"),"remote"===a.originator&&b._PlaySound("sounds/dialpad/"+a.dtmf.tone+".ogg",!1))});this.call.on("hold",function(a){b.OnDebug("hold");b._PlaySound("sounds/dialpad/pound.ogg",!1)});this.call.on("unhold",function(a){b.OnDebug("unhold");b._PlaySound("sounds/dialpad/pound.mp3",!1)});this.call.on("ended",function(a){b.OnDebug("ended");g_consoleFlag&&console.info("ended");b._PlaySound("sounds/calling-end.mp3",!1);b._EndCall();b._MakeCallInfo(SipCallSence.SIPCALL_IDLE,"");b.OnDisconnected();b.config.GetRtpStatics&&b._oTimer.KillTimer(Sip_Webrtc_GetStatics_TimeId)});this.call.on("confirmed",function(a){b.OnDebug("confirmed");g_consoleFlag&&console.info("confirmed")});this.call.on("update",function(a){b.OnDebug("update");g_consoleFlag&&console.info("update")});this.call.on("reinvite",function(a){b.OnDebug("reinvite");g_consoleFlag&&console.info("reinvite")});this.call.on("sdp",function(a){b.OnDebug("sdp");g_consoleFlag&&console.info("sdp");setTimeout(function(){b._UpdateStream()},1E3)});this.call.on("peerconnection",function(a){b.OnDebug("peerconnection")});this.call.on("newTransaction",function(a){b.OnDebug("newTransaction")});this.call.on("transactionDestroyed",function(a){b.OnDebug("transactionDestroyed")});this.call.on("requestSucceeded",function(a){b.OnDebug("requestSucceeded")});this.call.on("requestFailed",function(a){b.OnDebug("requestFailed")});this.call.on("xyjoin",function(a){b.OnDebug("xyjoin:"+a.getXYLinkInfo());b.oXYsession=a;b._XYJoin(a.getXYLinkInfo())});this.call.on("origate",function(a){b.OnDebug("origate");g_consoleFlag&&console.info(a);b.OnAlertInfo(a.info)});this.call.on("getusermediafailed",function(a){alert(stringFormatSip("The headset or microphone device is faulty and cannot be used.\nCause of failure:{0}-{1}",a.name,a.message));b.OnError(480,stringFormatSip("getusermediafailed:{0}({1})",a.name,a.message));g_consoleFlag&&console.error(a)});this.call.on("peerconnection:setremotedescriptionfailed",function(a){console.error(a)});this.call.on("peerconnection:setlocaldescriptionfailed",function(a){console.error(a)});this.call.on("peerconnection:createofferfailed",function(a){console.error(a)});this.call.on("peerconnection:createanswerfailed",function(a){console.error(a)});this.call.on("localstream",function(a){b.OnDebug("localstream:"+a.type);a.type!=LocalVideoSrc.Screen&&a.type!=LocalVideoSrc.VideoFile||b._SendInfoShareScreen("start");b._BindLocalVedioView()});this.call.on("stopShare",function(a){b.OnDebug("stopShare:"+a.type);b.config.callRtpType!=RTPTYPE_WEBRTC||a.type!=LocalVideoSrc.Screen&&a.type!=LocalVideoSrc.VideoFile||b._SendInfoShareScreen("stop");b.config.callRtpType==RTPTYPE_WEBRTC&&a.type==b.config.Source&&"screen"==a.type&&setTimeout(b.ShareScreen(),500)});this.call.on("succeeded",function(a){console.warn(a)})};this._UpdateStream=function(){this.OnDebug("_UpdateStream");this._BindRemoteVedioView(null);this._BindLocalVedioView()};this._GetMediaConstraints=function(a,b,c){if(0==b)return{audio:a,video:b};a={audio:a};var d=this.config.VideoSource?{exact:this.config.VideoSource}:void 0;c&&(d=void 0);if(void 0==d)return a.video=b,a;0==this.config.Width||0==this.config.Height?a.video=void 0==d?b:{deviceId:d}:(a.video={width:this.config.Width,height:this.config.Height,frameRate:{ideal:this.config.FrameRate,min:10}},void 0!=d&&(a.video.deviceId=d));return a};this._GetAudiaFlag=function(a){return 0==a?!1:""==this.config.audioInputdeviceId?{deviceId:void 0}:{deviceId:{exact:this.config.audioInputdeviceId}}};this._GetLocalMediaConstraints=function(a,b,c,d,f){if(0==b)return{audio:this._GetAudiaFlag(a),video:b};a={audio:this._GetAudiaFlag(a)};c=c?{exact:c}:void 0;0==d||0==f?a.video=void 0==c?b:{deviceId:c}:(a.video={width:{ideal:d},height:{ideal:f},frameRate:{ideal:this.config.FrameRate,min:10}},void 0!=c&&(a.video.deviceId=c));return a};this._CreateVedioWindow=function(){if(null==this.selfView){null==this.uiOptions.localDivView&&(this.uiOptions.localDivView=document.createElement("DIV"),document.body.appendChild(this.uiOptions.localDivView));null==this.uiOptions.remoteDivView&&(this.uiOptions.remoteDivView=document.createElement("DIV"),document.body.appendChild(this.uiOptions.remoteDivView));var a=getCurrentTimeString();this.uiOptions.remoteDivView.innerHTML='\x3cdiv id\x3d"rplayer_'+a+'" style\x3d"width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;display: none;"\x3e\x3cvideo id\x3d"rvideo'+a+'" style\x3d"width: 100%; height: 100%; position: absolute; background-color: #aaaaaa;object-fit: cover " autoplay\x3d"" playsinline\x3d""\x3e\x3c/video\x3e\x3caudio id\x3d"raudio'+a+'" autoplay\x3d"" playsinline\x3d""\x3e\x3c/audio\x3e \x3c/div\x3e';this.uiOptions.localDivView.innerHTML='\x3cdiv id\x3d"lplayer_'+a+'" style\x3d"width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;display: none;"\x3e\x3cvideo id\x3d"lvideo'+a+'" style\x3d"width: 100%; height: 100%; position: absolute; background-color: #aaaaaa; object-fit: cover" autoplay\x3d"" muted\x3d"" playsinline\x3d""\x3e\x3c/video\x3e\x3caudio id\x3d"laudio'+a+'" autoplay\x3d"" muted\x3d"" playsinline\x3d""\x3e\x3c/audio\x3e \x3c/div\x3e';this.selfView=document.getElementById("lvideo"+a);this.remoteView=document.getElementById("rvideo"+a);this.selfViewContainer=document.getElementById("lplayer_"+a);this.remoteViewContainer=document.getElementById("rplayer_"+a);this.remoteView.style.objectFit=this.config.Fit;this.selfView.style.objectFit=this.config.Fit;null==this.remoteView.getAttribute("playsinline")&&this.remoteView.setAttribute("playsinline","true");null==this.remoteView.getAttribute("autoplay")&&this.remoteView.setAttribute("autoplay","true");null==this.selfView.getAttribute("playsinline")&&this.selfView.setAttribute("playsinline","true");null==this.selfView.getAttribute("autoplay")&&this.selfView.setAttribute("autoplay","true")}};this._Terminate=function(a,b){null!=this.call&&this.call.terminate({status_code:a,reason_phrase:b})};this._ShareRTCScreen=function(a,b){this.callVSrc=a;this.call.shareScreen({type:a,mediaStream:b});return 0};this._SendInfoShareScreen=function(a){this.OnDebug("SendInfoShareScreen:"+a);if(this.CallInfo.ScenseID==SipCallSence.SIPCALL_CONNECTED)return a=stringFormatSip('{"action":"shareScreen","vccId":"","sender":"{0}","callId":"{1}","timeStamp":"{2}", "content":{"event":"{3}"}}',this.config.Dn,this.GetCallKeyValue("P-CIN-CallId"),getSipTimeString(!1),a),this._SendMethodInfo("shareScreen","application/cincc_control+json",a)};this._AttachSinkId=function(a,b){if(null!=a&&""!=b){var c=this;"undefined"!==typeof a.sinkId?a.setSinkId(b).then(function(){c.OnDebug("Success, audio output device attached: "+b)})["catch"](function(a){var b=a;"SecurityError"===a.name&&(b="You need to use HTTPS for selecting audio output device: "+a);c.OnDebug(b)}):c.OnDebug("Browser does not support output device selection.")}};this._BindRemoteVedioView=function(a){if(this.config.callRtpType==RTPTYPE_WEBRTC&&null!=this.call&&(g_consoleFlag&&console.info(this.call),null==a?0<this.call.connection.getRemoteStreams().length&&(this.remoteStream=this.call.connection.getRemoteStreams()[0]):this.remoteStream=a.stream,this._CreateVedioWindow(),this.remoteView&&null!=this.remoteStream))if("undefined"!=typeof JsSIP.rtcninja)this.remoteView=JsSIP.rtcninja.attachMediaStream(this.remoteView,this.remoteStream);else{this.remoteView.srcObject=this.remoteStream;if(0<this.remoteStream.getVideoTracks().length){this.OnDebug("bindRemoteStreamView(video)");var b=this;this.remoteView.onloadedmetadata=function(){b.remoteViewContainer.style.display="";b.remoteView.play();b.OnUpdateVideoWindow({key_word:"OnGetRemoteView",param:b.uiOptions.remoteDivView.id,width:this.videoWidth,height:this.videoHeight})};this.remoteView.oncanplay=function(){b.OnDebug("remoteView::oncanplay")};this.remoteView.resize=function(){b.OnDebug("remoteView::resize");b.OnUpdateVideoWindow({key_word:"OnGetRemoteView",param:b.uiOptions.remoteDivView.id,width:this.videoWidth,height:this.videoHeight})}}this._AttachSinkId(this.remoteView,this.config.audioOutputdeviceId)}};this._BindLocalVedioView=function(){if(this.config.callRtpType==RTPTYPE_WEBRTC&&null!=this.call&&(this._CreateVedioWindow(),0<this.call.connection.getLocalStreams().length&&(this.localStream=this.call.connection.getLocalStreams()[0],this.selfView)))if("undefined"!=typeof JsSIP.rtcninja)this.selfView=JsSIP.rtcninja.attachMediaStream(this.selfView,this.localStream),this.selfView.volume=0;else if(this.selfView.srcObject=this.localStream,0<this.localStream.getVideoTracks().length){this.OnDebug("bindLocalStreamView(video)");var a=this;this.selfView.onloadedmetadata=function(){a.selfViewContainer.style.display="";a.OnUpdateVideoWindow({key_word:"OnGetLocalView",param:a.uiOptions.localDivView.id,width:this.videoWidth,height:this.videoHeight,source:a.callVSrc})};this.selfView.resize=function(){a.OnDebug("localView::resize");a.OnUpdateVideoWindow({key_word:"OnGetLocalView",param:a.uiOptions.localDivView.id,width:this.videoWidth,height:this.videoHeight,source:a.callVSrc})}}else 0<this.localStream.getAudioTracks().length?this.OnDebug("bindLocalStreamView(audio)"):this.OnDebug("bindLocalStreamView(none)")};this._XYJoin=function(a){var b=this;a=a.split("-");var c=a[0];if("xylink"==c)"undefined"!==typeof XYLINK_TEST_PARAM&&(a=XYLINK_TEST_PARAM,a=a.split("-")),b.config.callRtpType=RTPTYPE_XYLINK,null!=b._oXYLinkCtrl&&b._oXYLinkCtrl.Join(a[1],b.config.Dn,"00000000",a[2]);else if("agora"==c||""==c||"agoravideo"==c){"undefined"!==typeof AGORA_TEST_PARAM&&(a=AGORA_TEST_PARAM,a=a.split("-"));b.config.callRtpType=RTPTYPE_AGORA;if(null==b._oAgoraCtrl){if("undefined"==typeof AgoraRTC){b.oXYsession.setCallstatus(488);b.OnDebug("Warn:Agora lib not loaded!");alert("Warn:Agora lib not loaded!");return}b._oAgoraCtrl=new AgoraCtrl;b._oAgoraCtrl.registerEvent({OnGetLocalView:function(a,c,d){b.OnUpdateVideoWindow({key_word:"OnGetLocalView",param:a,width:d,height:c})},OnGetShareView:function(a){b.OnUpdateVideoWindow({key_word:"OnGetShareView",param:a})},OnGetRemoteView:function(a,c,d){b.OnUpdateVideoWindow({key_word:"OnGetRemoteView",param:a,width:d,height:c})},OnRemoveRemoteView:function(a){b.OnUpdateVideoWindow({key_word:"OnRemoveRemoteView",param:a})},OnJoinSuccess:function(a){b.OnUpdateVideoWindow({key_word:"GetVideoViews",param:b});b.oXYsession.setCallstatus(200)},OnJoinFailure:function(a){b.OnDebug("Agora OnJoinFailure:"+a);b.OnUpdateVideoWindow({key_word:"OnJoinFailure",param:a});b.oXYsession.setCallstatus(486)},OnStopShareScreen:function(){b.OnDebug("OnStopShareScreen!");"share"==b.config.Source&&setTimeout(b.ShareScreen(),500)}})}c="";7==a.length&&""!=a[6]?c=a[6]:9==a.length&&""!=a[8]&&(c=a[8]);b._oAgoraCtrl.join({appID:a[1],token:c,channel:a[2],src:"camera",resolution:{width:b.config.Width,height:b.config.Height},agoraEncryptType:a[7],agoraDataKey:a[6],proxy:b.config.proxyServer,cameraId:b.config.VideoSource})}else b.oXYsession.setCallstatus(486)};this._InitMediaAdpater=function(){if(this.config.rtpType==RTPTYPE_XYLINK){var a=this;this._oXYLinkCtrl=new XYLINKCtrl({OnXYLinkDebug:function(b){a.OnDebug(b)},OnXYLinkError:function(b,c){a.OnError(b,c)},OnXYLinkDisconnect:function(){a.Disconnect()},OnXYLinkConnected:function(){a.oXYsession.setCallstatus(200)},OnXYLinkMessage:function(b){a.SendMessage("",b)},OnXYLinkUploadFile:function(a){}});this._oXYLinkCtrl.Initial()}};this._GetMsgSession=function(a){return this.msg_session.filter(function(b){return b.target==a})};this._EndCall=function(){if(this.config.callRtpType==RTPTYPE_AGORA||this.config.callRtpType==RTPTYPE_WEBRTC)null!=this._oAgoraCtrl&&this._oAgoraCtrl.leave(),null!=this._oStreamCtrl&&this._oStreamCtrl.StopDraw();this.config.callRtpType==RTPTYPE_XYLINK&&this._oXYLinkCtrl.Hangup();this.config.callRtpType=RTPTYPE_NULL;this.selfView&&(this.selfView=this.selfView.srcObject=null);this.remoteView&&(this.remoteView.srcObject=null);this.sessionCount=0;this.call=null;this.cin_callID="";this.msg_session=[];this._oStreamCtrl.IsIdle()||this._oStreamCtrl.StopDraw();this.localStream&&("undefined"!=typeof JsSIP.rtcninja?JsSIP.rtcninja.closeMediaStream(this.localStream):JsSIP.Utils.closeMediaStream(this.localStream),0<this.localStream.getVideoTracks().length&&this.OnUpdateVideoWindow({key_word:"OnLeaveSuccess",param:""}));this.remoteStream=this.localStream=null;this.opUpdateMedia=!1;this.uiOptions.localDivView&&(this.uiOptions.localDivView.innerHTML="");this.uiOptions.remoteDivView&&(this.uiOptions.remoteDivView.innerHTML="");this._oRtpStatics&&this._oRtpStatics.clear()};this._PauseSound=function(){null!=this.soundPlayer&&(this.config.AudioPlayTimeoutMode?this._PlaySound("sounds/blank-tip.mp3",!1):(this.soundPlayer.pause(),this.soundPlayer.src=""))};this._GetResPath=function(){return""==g_resPath?this.path:g_resPath};this._GetAudioFileName=function(a){if(0==this.config.Mp3File){if("sounds/incoming-call2.mp3"==a)return this.OnDebug("PlayAudioData:"+a),this._oMediaSrcData.config.incomingcall2;if("sounds/outgoing-call2.mp3"==a)return this.OnDebug("PlayAudioData:"+a),this._oMediaSrcData.config.outgoingcall2;if("sounds/calling-end.mp3"==a)return this.OnDebug("PlayAudioData:"+a),this._oMediaSrcData.config.callingend;if("sounds/outgoing-call-rejected.mp3"==a)return this.OnDebug("PlayAudioData:"+a),this._oMediaSrcData.config.outgoingcallrejected;if("sounds/login-tip.mp3"==a)return this.OnDebug("PlayAudioData:"+a),this._oMediaSrcData.config.logintip;if("sounds/blank-tip.mp3"==a)return this.OnDebug("PlayAudioData:"+a),this._oMediaSrcData.config.blanktip}this.OnDebug("PlayAudio:"+this._GetResPath()+"scripts/sip/"+a);return this._GetResPath()+"scripts/sip/"+a};this._PlaySound=function(a,b){if(null!=this.soundPlayer){var c=this;if(c.config.AudioPlayTimeoutMode)setTimeout(function(){c.soundPlayer.src=c._GetAudioFileName(a);c.soundPlayer.loop=b;var d=c.soundPlayer.play();void 0!==d&&d["catch"](function(a){console.info(a);c.OnDebug(a)}).then(function(){})},1E3);else{c.soundPlayer.src=c._GetAudioFileName(a);c.soundPlayer.loop=b;var d=c.soundPlayer.play();void 0!==d&&d["catch"](function(a){console.info(a);c.OnDebug(a)}).then(function(){})}}};this._IsSipConfigChanged=function(){return this.sipConfig.Dn!=this.oldsipConfig.Dn||this.sipConfig.SipServerIP!=this.oldsipConfig.SipServerIP||this.sipConfig.pass_word!=this.oldsipConfig.pass_word||this.sipConfig.SipProtocol!=this.oldsipConfig.SipProtocol||this.sipConfig.SipServerPort!=this.oldsipConfig.SipServerPort||this.sipConfig.XPath!=this.oldsipConfig.XPath?!0:!1};this._SendInfo=function(a){if(null==this.call)return-1;var b=this;null==this.options&&(this.options={eventHandlers:{onSuccessResponse:function(a){b._RecvInfo(a.body)},onErrorResponse:function(a){b.OnError(a.status_code,a.reason_phrase)}}},this.options.eventHandlers.oParent=this);this.call.info(a,this.options);return 0};this._SendMethodInfo=function(a,b,c){if(null==this.call)return-1;var d=this;null==this.options&&(this.options={eventHandlers:{onSuccessResponse:function(b){d.OnDebug("Info Response:"+a);d._RecvInfo(b.body)},onErrorResponse:function(a){d.OnError(a.status_code,a.reason_phrase)}}},this.options.eventHandlers.oParent=this);this.call.sendInfo(b,c,this.options);return 0};this._RecvInfo=function(a){if(""!=a)if(this.OnDebug(a),null==this.oParse&&(this.oParse=new CXmlParse),this.oParse.loadXml(a)){this.CallInfo.RequsetName=this.oParse.queryNodeValueByPath("Operator");this.CallInfo.Result=this.oParse.queryNodeValueByPath("Status");this.CallInfo.Code=this.oParse.queryNodeValueByPath("Code");a=this.oParse.queryNodes("cs");if(null!=a){this.CallInfo.CallSegments.splice(0,this.CallInfo.CallSegments.length);for(var b=0;b<a.length;b++){var c=a[b];this.CallInfo.CallSegments.push([this.oParse.queryNodeAttribute(c,"CallNumber"),this.oParse.queryNodeAttribute(c,"Status")])}}a=SipCallSence.SIPCALL_CONNECTED;for(var d=c=b=!1,f=0;f<this.CallInfo.CallSegments.length;f++){var g=this.CallInfo.CallSegments[f];"Hold"==g[1]&&(b=!0);"Mute"==g[1]&&(c=!0);"Ring"==g[1]&&(d=!0)}2==this.CallInfo.CallSegments.length?(b&&(a=SipCallSence.SIPCALL_HOLD),c&&(a=SipCallSence.SIPCALL_MUTE)):2<=this.CallInfo.CallSegments.length&&(a=b?d?SipCallSence.SIPCALL_CONSULTRING:SipCallSence.SIPCALL_CONSULT:SipCallSence.SIPCALL_CONFERENCE);this._MakeCallInfo(a,"")}else this.OnError(-1,"Bad RecvINFO Message!")};this._MakeRequest=function(a,b){this.config.Sequence++;return stringFormatSip("\x3cCallControl\x3e\x3cType\x3eRequest\x3c/Type\x3e\x3cOperator\x3e{0}\x3c/Operator\x3e\x3cSequence\x3e{1}\x3c/Sequence\x3e\x3cTarget\x3e{2}\x3c/Target\x3e\x3c/CallControl\x3e",a,this.config.Sequence,b)};this._MakeCallInfo=function(a,b){if(!(this.CallInfo.ScenseID<SipCallSence.SIPCALL_NULL||this.CallInfo.ScenseID>=SipCallSence.SIPCALL_END)){this.CallInfo.ScenseID=a;this.CallInfo.ScenseName=this.SipCallSenceDes.items[a];switch(a){case SipCallSence.SIPCALL_RING:this.CallInfo.CallSegments.splice(0,this.CallInfo.CallSegments.length);b=getSipSubString(b,"","@");b=getSipSubString(b,"sip:","");this.CallInfo.CallSegments.push([this.config.Dn,"RING"]);this.CallInfo.CallSegments.push([b,"RING"]);break;case SipCallSence.SIPCALL_ORIGATE:this.CallInfo.CallSegments.splice(0,this.CallInfo.CallSegments.length);b=getSipSubString(b,"","@");b=getSipSubString(b,"sip:","");this.CallInfo.CallSegments.push([this.config.Dn,"RING"]);this.CallInfo.CallSegments.push([b,"RING"]);break;case SipCallSence.SIPCALL_CONNECTED:for(var c=0;c<this.CallInfo.CallSegments.length;c++)this.CallInfo.CallSegments[c][1]="Connect";break;case SipCallSence.SIPCALL_MUTE:case SipCallSence.SIPCALL_HOLD:case SipCallSence.SIPCALL_CONSULTRING:case SipCallSence.SIPCALL_CONSULT:case SipCallSence.SIPCALL_CONFERENCE:break;default:case SipCallSence.SIPCALL_IDLE:case SipCallSence.SIPCALL_NULL:this.CallInfo.CallSegments.splice(0,this.CallInfo.CallSegments.length)}this.OnReportScense(this.CallInfo)}};this._OnGMessageFailure=function(a,b){var c=b.response;c?this.OnMessage(a,"","outcoming",c.status_code.toString()+" "+c.reason_phrase):this.OnMessage(a,"","outcoming",b.cause.toString())};this._UpdateMediaResponse=function(a){0<a.indexOf("updatemediaresult")?(a=JSON.parse(a),"updatemediaresult"==a.type&&(this.opUpdateMedia=!1,this.OnMediaChanged({type:"response",av:a.av,code:a.rescode}))):0<a.indexOf("mediaupdateevent")&&(a=JSON.parse(a),"mediaupdateevent"==a.type&&this.OnMediaChanged({type:"event",av:a.av}))};this._SetBandWidth=function(a){var b=this;if(null!=this.call){var c=this.call.connection.getSenders()[1];if(null!=c){var d=c.getParameters();d.encodings||(d.encodings=[{}]);0>=d.encodings.length||(d.encodings[0].maxBitrate=1E3*a,c.setParameters(d).then(function(){b.OnDebug("SetBandWidth ["+a+"kb] Success")})["catch"](function(a){return console.error(a)}))}}};this._SetMediaStream=function(a){if(0<this.localStream.getVideoTracks().length){a=this.localStream;var b=this;a.getVideoTracks()[0].applyConstraints({width:{min:640,ideal:1280},height:{min:480,ideal:720},advanced:[{width:1920,height:1280},{aspectRatio:1.333}]}).then(function(){b.OnDebug("OK")})["catch"](function(a){b.OnDebug("NOK")})}};this._BindDeviceCheck=function(){if(navigator.mediaDevices){var a=this;navigator.mediaDevices.ondevicechange=function(){a.OnDebug("ondevicechange");GetAudioInputDevices(function(a){console.info(a)})}}};this.OnRing=function(a){};this.OnOrigated=function(a){};this.OnDisconnected=function(){};this.OnConnected=function(a){};this.OnError=function(a,b){};this.OnAlertInfo=function(a){};this.OnUpdateVideoWindow=function(a){};this.OnRtpStatics=function(a){};this.OnConnectStatus=function(a){};this.OnLoginSuccess=function(){};this.OnLoginFailure=function(a,b){};this.OnLogoutSuccess=function(){};this.OnDebug=function(a){};this.OnReportScense=function(a){};this.OnMessage=function(a,b,c,d){};this.OnMediaChanged=function(a){};this._create();return this}function XYLINKCtrl(d){this.config={RemoteSipServerPort:39E3,RemoteSipServer:"127.0.0.1",LocalGuardPort:4510,ConnectCount:0,ReConnected:!1,Hangup:!1,SessionID:"",Inited:!1,LoginState:"LoggedOut",CallState:"Disconnected",CallTarget:"",AppKey:"GetXYCINRTPPort"};this._oCINGuard=null;this._sipConnectStatus=barStatus_Null;this._phoneStatus=Phone_Status_Idle;this._oCallBack=d;this._Create=function(){this._oTimer=new JSIPTimer;this._oTimer.oParent=this;this._oRemoteSipSocket=new JACPWebSocket("XYCINRTP");this._oRemoteSipSocket.oParent=this;this._oRemoteSipSocket.SetMsgCallBack(this._SocketCallBack);this._oCINGuard=new JGuardCtrl(this);this.config.SessionID="XYCINRTP-"+getCurrentTimeString()};this._SocketCallBack=function(a,b){var c=this.oParent;if(a==WS_EVENT_SIP_ONOPEN)c._sipConnectStatus==barStatus_SipConnecting&&(c._sipConnectStatus=barStatus_SipConnected,c.OnDebug("connect [XYCINRTP] success"));else if(a==WS_EVENT_SIP_ONCLOSE)c._sipConnectStatus==barStatus_SipDisconnecting?c._sipConnectStatus=barStatus_SipDisconnected:c._sipConnectStatus==barStatus_SipConnected&&(c._sipConnectStatus=barStatus_SipReconnecting,c.config.ReConnected=!0,c.Initial());else if(a==WS_EVENT_SIP_ONERROR)c._sipConnectStatus==barStatus_SipConnecting?c.config.ConnectCount<PORT_COUNT?(c.config.RemoteSipServerPort+=2,c.ConnectToSipServer()):(c.config.RemoteSipServerPort=19060,c.OnDebug("XYCINRTP Service connect failure\uff01"),c._sipConnectStatus=barStatus_Null):c._sipConnectStatus==barStatus_SipConnected&&(c._sipConnectStatus=barStatus_SipReconnecting,c.Initial());else if(a==WS_EVENT_SIP_ONMESSAGE&&!(0<=b.indexOf("heartBeat"))){var d=getSipSubString(b,'type\x3d"','"'),f=getSipSubString(b,'name\x3d"','"'),g=getSipSubString(b,"\x3cpxyparam\x3e","\x3c/pxyparam\x3e");"event"==d?("LoginState"==f&&(c.config.LoginState=g),"CallState"==f&&c.config.CallState!=g&&(c.config.CallState=g,"Connected"==c.config.CallState?c._OnCallBackEventConnected():"Disconnected"==c.config.CallState&&c._OnCallBackEventDisconnect())):"command"==d?"disconnect"==f?c._OnCallBackEventDisconnect():"message"==f?c._OnCallBackEventMessage(g):"uploadFile"==f&&c._OnCallBackEventUploadFile(g):"action"==d&&"init"==f&&0==g&&(c.config.Inited=!0,setTimeout(function(){c._SendMsg("join",c.config.CallTarget)},1E3))}};this._BuildxyMsg=function(a,b,c){c='\x3cxyMessage ver\x3d"2.0.0" time\x3d"'+getSipTimeString()+'"\x3e';return c=c+'\x3cbody type\x3d"command" name\x3d"'+a+'"\x3e\x3cpxyparam\x3e'+b+"\x3c/pxyparam\x3e\x3c/body\x3e\x3c/apspMessage\x3e"};this._SendMsg=function(a,b){if(!this._oRemoteSipSocket.WSIsConnect())return RSIP_SUCCESS;var c=this._BuildxyMsg(a,b,this.config.SessionID);return this._oRemoteSipSocket.WSSendMsg(c)?RSIP_SUCCESS:RSIP_FAILURE};this.ConnectToSipServer=function(){this._sipConnectStatus=barStatus_SipConnecting;this.config.ConnectCount+=1;return this._oRemoteSipSocket.WSConnect(this.config.RemoteSipServer,this.config.RemoteSipServerPort,0)?ACPI_SIP_SUCCESS:ACPI_SIP_FAILURE};this.DisconnectToSipServer=function(){this._sipConnectStatus=barStatus_SipDisconnecting;return this._oRemoteSipSocket.WSDisconnect()?ACPI_SIP_SUCCESS:ACPI_SIP_FAILURE};this.Initial=function(){if(this._sipConnectStatus==barStatus_SipConnected)return-1;this.OnDebug("connect Guard ...");this._oCINGuard.exeGuardCmd(cmd_GuardType_GetSipLocalPort,"","");return 0};this.Join=function(a,b,c,d){this.config.Hangup=!1;return 0==this.config.Inited?(this.config.CallTarget=stringFormatSip("0|{0}|{1}|{2}",b,c,d),this._SendMsg("init",a)):this._SendMsg("join",stringFormatSip("0|{0}|{1}|{2}",b,c,d))};this.Hangup=function(){this.config.Hangup=!0;return this._SendMsg("hangup","")};this.Logout=function(){this._SendMsg("uninit","");this.DisconnectToSipServer();return 0};this.OnDebug=function(a){null!=this._oCallBack&&this._oCallBack.OnXYLinkDebug(a)};this.OnError=function(a,b){null!=this._oCallBack&&this._oCallBack.OnXYLinkError(a,b)};this._OnCallBackEventDisconnect=function(){null!=this._oCallBack&&1!=this.config.Hangup&&this._oCallBack.OnXYLinkDisconnect()};this._OnCallBackEventConnected=function(){null!=this._oCallBack&&this._oCallBack.OnXYLinkConnected()};this._OnCallBackEventMessage=function(a){null!=this._oCallBack&&this._oCallBack.OnXYLinkMessage(a)};this._OnCallBackEventUploadFile=function(a){null!=this._oCallBack&&this._oCallBack.OnXYLinkUploadFile(msf)};this._Create();return this}function __GetOutScreenStream(d,a){function b(b){a(b)}function c(){a(null)}var e=this;navigator.getDisplayMedia?navigator.getDisplayMedia(d).then(b.bind(this))["catch"](function(a){c.call(e,a)}):navigator.mediaDevices.getDisplayMedia?navigator.mediaDevices.getDisplayMedia(d).then(b.bind(this))["catch"](function(a){c.call(e,a)}):navigator.mediaDevices.getUserMedia({video:{mediaSource:"screen"}}).then(b.bind(this))["catch"](function(a){c.call(e,a)})}function __GetMicPhoneStream(d){function a(){console.error(arguments);d(null)}var b=this;navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(a){d(a)}.bind(this))["catch"](function(c){a.call(b,c)})}var RSIP_SUCCESS=0,RSIP_FAILURE=1,RSIP_UNKNOWN=2,cmd_GuardType_Null=-1,cmd_GuardType_GetSipLocalPort=0,cmd_GuardType_UpdateSetup=1,PORT_COUNT=5,barStatus_Null=0,barStatus_GuardConnecting=1,barStatus_GuardConnected=2,barStatus_GuardDisconnecting=3,barStatus_GuardDisconnected=4,barStatus_SipConnecting=5,barStatus_SipConnected=6,barStatus_SipDisconnecting=7,barStatus_SipDisconnected=8,barStatus_SipReconnecting=9,CINGUARD_ERROR_NotStart=-100,CINGUARD_ERROR_MISSRMSIP=-101,CINGUARD_ERROR_NotSetupRMSIP=-102,CINGUARD_ERROR_NotRePlaceRMSIP=-103,RMSIP_ERROR_OnKickOff=-110,RMSIP_ERROR_RegisterFAILURE=-111,RMSIP_ERROR_InitialFAILURE=-112,RMSIP_ERROR_ErrorParam=-113,Sip_HttpGuardConnect_ID=200,Sip_HttpMsgQueue_ID=100,Sip_HttpMsgQueue_TimeInterval=3E3,Sip_HeartBeat_TimeInterval=4E3,sipAdapterTypeJSip=0,sipAdapterTypeRemoteSip=1,sipAdapterTypeRemoteHttpSip=2,continueSipExe=1,gSIP_Log_Protocol=0,SIPVERSION="3.0.28",lg_zhcn_sip="zh-cn",SIPADAPTER_Log_None=0,SIPADAPTER_Log_Error=1,SIPADAPTER_Log_Warn=2,SIPADAPTER_Log_Debug=4,SIPADAPTER_Log_Info=8,SIPADAPTER_Log_Protocol=16,WS_EVENT_SIP_ONOPEN=0,WS_EVENT_SIP_ONMESSAGE=1,WS_EVENT_SIP_ONCLOSE=2,WS_EVENT_SIP_ONERROR=3,ACPI_SIP_SUCCESS=0,ACPI_SIP_FAILURE=1,ACPI_SIP_UNKNOWN=2,WS_STATUS_SIP_NULL=-1,WS_STATUS_SIP_CONNECTING=0,WS_STATUS_SIP_OPEN=1,WS_STATUS_SIP_CLOSING=2,WS_STATUS_SIP_CLOSE=3,Phone_Status_Null=-1,Phone_Status_Idle=0,Phone_Status_IncomingReceived=1,Phone_Status_OutgoingInit=2,Phone_Status_Connected=3,Phone_Status_CallEnd=4,gLogType=SIPADAPTER_Log_None,g_DebugFlag=0;function getJssipVersion(){return SIPVERSION+"-"+JsSIP.version}function DisplaySipLog(d,a){if(d&gLogType){var b="";d==SIPADAPTER_Log_Error&&(b="[ERROR]["+getSipTimeString()+"]");d==SIPADAPTER_Log_Warn&&(b="[WARN]["+getSipTimeString()+"]");d==SIPADAPTER_Log_Debug&&(b="[DEBUG]["+getSipTimeString()+"]");d==SIPADAPTER_Log_Info&&(b="[INFOR]["+getSipTimeString()+"]");if(d==SIPADAPTER_Log_Protocol){if(0<=a.indexOf("heartBeat"))return;b="[PROTOCAL]["+getSipTimeString()+"]"}a=b+a;d==SIPADAPTER_Log_Protocol&&(a+="\r\n");null!=application&&application.Log(a)}}function stringFormatSip(){if(0==arguments.length)return"";for(var d=arguments[0],a=1;a<arguments.length;a++)d=d.replace(new RegExp("\\{"+(a-1)+"\\}","gm"),arguments[a]);return d}function getSipTimeString(d){"undefined"==typeof d&&(d=!0);var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,c=10>c?"0"+c:c,e=a.getDate(),e=10>e?"0"+e:e,f=a.getHours(),f=10>f?"0"+f:f,g=a.getMinutes(),g=10>g?"0"+g:g,h=a.getSeconds(),h=10>h?"0"+h:h,a=a.getMilliseconds(),k=b.toString()+c.toString()+e.toString()+" "+f.toString()+g.toString()+h.toString()+"  "+a.toString();0==d&&(k=b.toString()+c.toString()+e.toString()+f.toString()+g.toString()+h.toString()+a.toString());return k}function getSipSubString(d,a,b){if(""==a&&""==b)return d;if(""==a)a=d;else{var c=d.indexOf(a);if(0>c)return"";c+=a.length;a=d.substr(c,d.length)}d=a;if(""==b)a=d;else{b=d.indexOf(b);if(0>b)return"";a=d.substr(0,b)}return a}function string2Int(d,a){return""==d||null==d||"undefined"==typeof d?a:parseInt(d)}function getTimerEnglish(d){if(0==d)return"the first time";if(1==d)return"the second time";if(2==d)return"the third time";if(3==d)return"the fourth time";if(4==d)return"the fifth time"}var SIPTIMER_AUTO=0;function TimerItem(){this.id=-1;this.interval=0;this.intervalCount=this.intervalMax=-1;return this}function JSIPTimer(d){"undefined"==typeof d&&(d=1E3);this._cellInterVal=d;this._bStart=!1;this._onTimerCallBackEvent=null;this._timers=[];this._timerType=SIPTIMER_AUTO;this._timerID=null;this._debugFlag=0;this.SetTimerCallBack=function(a){this._onTimerCallBackEvent=a};this.IsProcess=function(){return this._bStart};this.OnTimer=function(){if(null!=this._onTimerCallBackEvent)for(var a=0;a<this._timers.length;a++)0>=this._timers[a].intervalMax||(this._timers[a].intervalCount++,this._timers[a].intervalCount>=this._timers[a].intervalMax&&(this._timers[a].intervalCount=0,this._onTimerCallBackEvent(this._timers[a].id)))};this.Start=function(){if(!this._bStart){if(this._timerType==SIPTIMER_AUTO){var a=this;null==a._timerID&&(a._timerID=setInterval(function(){a.OnTimer()},a._cellInterVal))}this._bStart=!0}};this.Stop=function(){this._bStart&&(null!=this._timerID&&(clearInterval(this._timerID),this._timerID=null),this._bStart=!1)};this.SetTimer=function(a,b){if(0>a||0>=b)return-1;this._debugFlag&&DisplaySipLog(SIPADAPTER_Log_Info,stringFormatSip("JSIPTimer:SetTimer(id\x3d{0} interval\x3d{1})",a,b));if(-1!=this._getTimerIndex(a))return this.Reset(a),-3;var c=new TimerItem;c.id=a;c.interval=b;c.intervalMax=b/this._cellInterVal;this._timers.push(c);this._debugFlag&&DisplaySipLog(SIPADAPTER_Log_Info,stringFormatSip("JSIPTimer:SetTimered(id\x3d{0} interval\x3d{1} interMax\x3d{2})",c.id,c.interval,c.intervalMax));this._display();return this._timers.length-1};this.KillTimer=function(a){var b=this._getTimerIndex(a);this._debugFlag&&DisplaySipLog(SIPADAPTER_Log_Info,stringFormatSip("JSIPTimer:KillTimer(id\x3d{0} )",a));-1!=b&&(a=this._timers[b],this._debugFlag&&DisplaySipLog(SIPADAPTER_Log_Info,stringFormatSip("JSIPTimer:KillTimered(id\x3d{0} interval\x3d{1} interMax\x3d{2})",a.id,a.interval,a.intervalMax)),this._timers.splice(b,1));this._display()};this.Reset=function(a){a=this._getTimerIndex(a);-1!=a&&(this._timers[a].intervalCount=0)};this._getTimerIndex=function(a){for(var b=0;b<this._timers.length;b++)if(this._timers[b].id==a)return b;return-1};this._display=function(){if(this._debugFlag)for(var a=0;a<this._timers.length;a++){var b=this._timers[a];DisplaySipLog(VccBar_Log_Info,stringFormatSip("TimerItem\u3010{0}\u3011:(id\x3d{1} interval\x3d{2} interMax\x3d{3})",a,b.id,b.interval,b.intervalMax))}};return this}function JACPWebSocket(d){this._msgCallback=this._ws=null;this._appName=d;this.WSConnect=function(a,b,c){try{this._ws=0==c?new WebSocket("ws://"+a+":"+b):new WebSocket("wss://"+a+":"+b)}catch(e){g_DebugFlag&&console.error(e,"WebSocket::WSConnect("+this._appName+")");try{this._ws=0==c?new MozWebSocket("ws://"+a+":"+b):new MozWebSocket("wss://"+a+":"+b)}catch(f){return g_DebugFlag&&console.error(f,"WebSocket::WSConnect("+this._appName+")"),this._ws=null,!1}}0==c?DisplaySipLog(SIPADAPTER_Log_Info,"WebSocket::Connect(ws:"+a+":"+b+") By "+this._appName):DisplaySipLog(SIPADAPTER_Log_Info,"WebSocket::Connect(wss:"+a+":"+b+") By "+this._appName);this._ws.onopen=this._WSonOpen;this._ws.onmessage=this._WSonMessage;this._ws.onclose=this._WSonClose;this._ws.onerror=this._WSonError;this._ws.oParent=this;return!0};this.WSConnect2=function(a){this._ws=new WebSocket(a);this._ws.onopen=this._WSonOpen;this._ws.onmessage=this._WSonMessage;this._ws.onclose=this._WSonClose;this._ws.onerror=this._WSonError;this._ws.oParent=this;return!0};this.WSDisconnect=function(){null!=this._ws&&(this._ws.readyState!=WS_STATUS_SIP_CONNECTING&&this._ws.readyState!=WS_STATUS_SIP_OPEN||this._ws.close())};this.WSSendMsg=function(a){return null==this._ws||""==a?!1:this._ws.readyState==WS_STATUS_SIP_OPEN?(DisplaySipLog(SIPADAPTER_Log_Protocol,stringFormatSip("Sen{0}:{1}",this._appName,a)),this._ws.send(a),!0):!1};this.WSIsConnect=function(){return null==this._ws?!1:this._ws.readyState==WS_STATUS_SIP_OPEN};this.WSGetConnectStatus=function(){return null!=this._ws?this._ws.readyState:WS_STATUS_SIP_NULL};this.SetMsgCallBack=function(a){this._msgCallback=a};this._WSonOpen=function(){DisplaySipLog(SIPADAPTER_Log_Info,"WebSocket::WSonOpen("+this.oParent._appName+")");this.oParent._invokeCallBack(WS_EVENT_SIP_ONOPEN,"")};this._WSonMessage=function(a){DisplaySipLog(SIPADAPTER_Log_Protocol,stringFormatSip("Rec{0}:{1}",this.oParent._appName,a.data));this.oParent._invokeCallBack(WS_EVENT_SIP_ONMESSAGE,a.data)};this._WSonClose=function(){DisplaySipLog(SIPADAPTER_Log_Error,"WebSocket::WSonClose("+this.oParent._appName+")");this.oParent._invokeCallBack(WS_EVENT_SIP_ONCLOSE,"")};this._WSonError=function(a){DisplaySipLog(SIPADAPTER_Log_Error,"WebSocket::WSonError("+this.oParent._appName+")");this.oParent._invokeCallBack(WS_EVENT_SIP_ONERROR,"")};this._invokeCallBack=function(a,b){null!=this._msgCallback&&this._msgCallback(a,b)};this._APSPInit=function(){};this._APSPInit();return this}BuildApspMsg=function(d,a,b){var c='\x3capspMessage ver\x3d"2.0.0" time\x3d"'+getSipTimeString()+'"\x3e',c=c+'\x3cheader\x3e\x3csessionID\x3e0\x3c/sessionID\x3e\x3c/header\x3e\x3cbody type\x3d"command" name\x3d"'+d+'"\x3e';return("undefined"==typeof b?c+"\x3cpaspparam\x3e"+a+"\x3c/paspparam\x3e":c+"\x3cpaspparam\x3e"+a+"|"+b+"\x3c/paspparam\x3e")+"\x3c/body\x3e\x3c/apspMessage\x3e"};function getsipLocalLanguage(){return("Netscape"==navigator.appName?navigator.language:navigator.userLanguage).toLowerCase()}function JGuardCtrl(d){this.oGuradWS=null;this._ctrlStatus=barStatus_Null;this._connectCount=0;this._oParent=d;this._cmdType=cmd_GuardType_Null;this._cmdParam2=this._cmdParam1="";this._Create=function(){this.oGuradWS=new JACPWebSocket("CINGuard");this.oGuradWS.SetMsgCallBack(this.apspCallbackGurad);this.oGuradWS.oParent=this};this.exeGuardCmd=function(a,b,c){this._cmdType=a;this._cmdParam1=b;this._cmdParam2=c;this._ctrlStatus==barStatus_Null&&(this._ctrlStatus=barStatus_GuardConnecting,this.connectToService(this._oParent.config.RemoteSipServer,this._oParent.config.LocalGuardPort));return 0};this.connectToService=function(a,b){this.oGuradWS.WSConnect(a,b,0);this._ctrlStatus==barStatus_GuardConnecting&&this._oParent.OnDebug("connecting cinguard ("+a+":"+b+")...("+getTimerEnglish(this._connectCount)+")");this._connectCount+=1};this._InvokeMethod=function(a,b){if(""==a)return-1;DisplaySipLog(SIPADAPTER_Log_Info,"JGuardCtrl:_InvokeMethod(cmdName\x3d"+a+",param\x3d"+b+")");this.oGuradWS.WSSendMsg(BuildApspMsg(a,b))};this.apspCallbackGurad=function(a,b){var c=this.oParent;if(a==WS_EVENT_SIP_ONOPEN)c._ctrlStatus=barStatus_GuardConnected,c._cmdType==cmd_GuardType_GetSipLocalPort&&c._InvokeMethod(c._oParent.config.AppKey,c._oParent.config.RemoteSipServerPort+"|"+continueSipExe+"|"+sipAdapterTypeRemoteSip+"|"+c._oParent.config.SessionID);else if(a==WS_EVENT_SIP_ONCLOSE)c._ctrlStatus==barStatus_GuardDisconnecting&&(c._ctrlStatus=barStatus_GuardDisconnected,c._oParent.ConnectToSipServer(),c._ctrlStatus=barStatus_Null);else if(a==WS_EVENT_SIP_ONERROR)c._ctrlStatus==barStatus_GuardConnecting&&(c._connectCount<PORT_COUNT?(c._oParent.config.LocalGuardPort+=1,c.connectToService(c._oParent.config.RemoteSipServer,c._oParent.config.LocalGuardPort)):(c._oParent.config.LocalGuardPort=4510,c._oParent.OnDebug("connect CINGuard.exe failure\uff01"),c._oParent.OnError(CINGUARD_ERROR_NotStart)));else if(a==WS_EVENT_SIP_ONMESSAGE){if(c._ctrlStatus==barStatus_GuardConnected){c.oGuradWS.WSDisconnect();var d=getSipSubString(b,"\x3cpaspparam\x3e","\x3c/paspparam\x3e");c._oParent.config.RemoteSipServerPort=parseInt(d);-1==c._oParent.config.RemoteSipServerPort?c._oParent.OnError(CINGUARD_ERROR_MISSRMSIP):-2==c._oParent.config.RemoteSipServerPort?c._oParent.OnError(CINGUARD_ERROR_NotSetupRMSIP):-3==c._oParent.config.RemoteSipServerPort&&c._oParent.OnError(CINGUARD_ERROR_NotRePlaceRMSIP)}c._ctrlStatus=barStatus_GuardDisconnecting;c._cmdType=cmd_GuardType_Null;c._cmdParam1="";c._cmdParam2="";c._connectCount=0}};this._Create();return this}function SIPRemoteCtrl(d){this.config={Dn:"",SipServerIP:"",SipServerPort:9060,SipProtocol:"",AuthType:1,Domain:"",Pass_Word:"543564dee",Registered:!1,RemoteSipServerPort:19060,RemoteSipServer:"127.0.0.1",LocalGuardPort:4510,ConnectCount:0,ReConnected:!1,AutoAnswer:!1,AutoRegister:!0,SessionID:"",SingleCall:!1,CallTarget:"",Audio:!0,Video:!0,AppKey:"GetCINDialerPort",SessionKay:"XYLINK-"};this._oCINGuard=this._SocketCallback=this._oRemoteSipSocket=null;this._oCallBack=d;this._sipConnectStatus=barStatus_Null;this._phoneStatus=Phone_Status_Null;this._Create=function(){this._oTimer=new JSIPTimer;this._oTimer.oParent=this;this._oTimer.SetTimerCallBack(this._OnSipTimerEvent);this._oTimer.Start();this._oRemoteSipSocket=new JACPWebSocket("RemoteSIP");this._oRemoteSipSocket.oParent=this;this._oRemoteSipSocket.SetMsgCallBack(this._SocketCallBack);this._oCINGuard=new JGuardCtrl(this);this.config.SessionID=this.config.SessionKay+getCurrentTimeString()};this._OnSipTimerEvent=function(a){var b=this.oParent;a==Sip_HeartBeat_TimeInterval&&b._SendMsg("HeartBeat","")};this._SocketCallBack=function(a,b){var c=this.oParent;if(a==WS_EVENT_SIP_ONOPEN)c._sipConnectStatus==barStatus_SipConnecting&&(c._sipConnectStatus=barStatus_SipConnected,1==c.config.AutoRegister?c.RegisterPA():c.InitialPA());else if(a==WS_EVENT_SIP_ONCLOSE)c._sipConnectStatus==barStatus_SipDisconnecting?c._sipConnectStatus=barStatus_SipDisconnected:c._sipConnectStatus==barStatus_SipConnected&&(c._sipConnectStatus=barStatus_SipReconnecting,c.config.Registered=!1,c.config.ReConnected=!0,c.Initial());else if(a==WS_EVENT_SIP_ONERROR)c._sipConnectStatus==barStatus_SipConnecting?c.config.ConnectCount<PORT_COUNT?(c.config.RemoteSipServerPort+=2,c.ConnectToSipServer()):(c.config.RemoteSipServerPort=19060,c.OnDebug("RMSIP Service connect failure\uff01"),c._sipConnectStatus=barStatus_Null):c._sipConnectStatus==barStatus_SipConnected&&(c._sipConnectStatus=barStatus_SipReconnecting,c.Initial());else if(a==WS_EVENT_SIP_ONMESSAGE){1==gSIP_Log_Protocol&&c.OnDebug("RevSIP:"+b);var d=getSipSubString(b,'name\x3d"','"'),f=getSipSubString(b,"\x3cpaspparam\x3e","\x3c/paspparam\x3e");"Register"==d?"0"==f?c.OnDebug("RemoteSip init success\uff0cregistering!"):"-1"==f?c.OnLoginFailure(RMSIP_ERROR_RegisterFAILURE):"-2"==f?c.OnLoginFailure(RMSIP_ERROR_InitialFAILURE):"-3"==f&&c.OnLoginFailure(RMSIP_ERROR_ErrorParam):"Initial"==d?"0"==f?0==c.config.SingleCall?(c.OnDebug("RemoteSip init success!"),c.OnInitialSuccess(),c._oTimer.SetTimer(Sip_HeartBeat_TimeInterval,1E4)):setTimeout(function(){c.OnDebug("calling...");c._SendMsg("DoCall",c.config.CallTarget+"|")},1E3):"-1"==f?0==c.config.SingleCall&&c.OnInitialFailure(RMSIP_ERROR_InitialFAILURE):"-2"==f?(c.OnDebug("RemoteSip init failure!"),0==c.config.SingleCall&&c.OnInitialFailure(RMSIP_ERROR_InitialFAILURE)):"-3"==f&&(c.OnDebug("error sip paramter!"),0==c.config.SingleCall&&c.OnInitialFailure(RMSIP_ERROR_ErrorParam)):"UnRegister"==d?setTimeout(function(){1==c.config.Registered&&(c.config.Registered=!1,c.OnLogoutSuccess());c.DisconnectToSipServer()},1E3):"Pickup"!=d&&"Reject"!=d&&"Disconnect"!=d&&"SendDTMF"!=d&&"DoCall"!=d&&("OnLoginSuccess"==d?(c._oTimer.SetTimer(Sip_HeartBeat_TimeInterval,1E4),c.config.Registered=!0,0==c.config.ReConnected?c.OnLoginSuccess():(c.config.ReConnected=!1,c.OnDebug("RemoteSip register success!"))):"OnLoginFailure"==d?c.config.Registered?setTimeout(function(){c.OnDebug("ReRegister.....!");c.RegisterPA()},1E3):(c.config.Registered=!1,c.OnLoginFailure(f,""),c.DisconnectToSipServer()):"OnLogoutSuccess"==d?(c._oTimer.KillTimer(Sip_HeartBeat_TimeInterval),c.config.Registered=!1,c.OnLogoutSuccess(),c.DisconnectToSipServer()):"OnRing"==d?(c.OnRing(f),1==c.config.AutoAnswer&&c.Pickup()):"OnDisconnected"==d?1==c.config.SingleCall?c.UnInitial():c.OnDisconnected():"OnConnected"==d?c.OnConnected(f):"OnOrigated"==d?c.OnOrigated():"OnError"==d?c.OnError(f,""):"OnKickOff"==d&&(c.config.Registered=!1,c.OnLogoutSuccess(),c.OnError(RMSIP_ERROR_OnKickOff),c.DisconnectToSipServer()))}};this._SendMsg=function(a,b){if(!this._oRemoteSipSocket.WSIsConnect())return RSIP_SUCCESS;var c=BuildApspMsg(a,b,this.config.SessionID);1==gSIP_Log_Protocol&&this.OnDebug("SendSIP:"+c);return this._oRemoteSipSocket.WSSendMsg(c)?RSIP_SUCCESS:RSIP_FAILURE};this.ConnectToSipServer=function(){this._sipConnectStatus=barStatus_SipConnecting;this.config.ConnectCount+=1;return this._oRemoteSipSocket.WSConnect(this.config.RemoteSipServer,this.config.RemoteSipServerPort,0)?ACPI_SIP_SUCCESS:ACPI_SIP_FAILURE};this.DisconnectToSipServer=function(){this._sipConnectStatus=barStatus_SipDisconnecting;return this._oRemoteSipSocket.WSDisconnect()?ACPI_SIP_SUCCESS:ACPI_SIP_FAILURE};this.Initial=function(){if(this._sipConnectStatus==barStatus_SipConnected)return-1;this.OnDebug("initing...");this._oCINGuard.exeGuardCmd(cmd_GuardType_GetSipLocalPort,"","");return 0};this.UnInitial=function(){return this.ReleasePA()};this.RegisterPA=function(){return this._SendMsg("Register",stringFormatSip("{0}|{1}|{2}|{3}|{4}|{5}|{6}|",this.config.Dn,this.config.SipServerIP,this.config.SipServerPort,this.config.SipProtocol,this.config.AuthType,this.config.Domain,this.config.Pass_Word))};this.InitialPA=function(){return this._SendMsg("Initial",stringFormatSip("{0}|{1}|{2}|{3}|{4}|{5}|{6}|",this.config.Dn,this.config.SipServerIP,this.config.SipServerPort,this.config.SipProtocol,this.config.AuthType,this.config.Domain,this.config.Pass_Word))};this.ReleasePA=function(){return this._SendMsg("UnRegister","|")};this.Pickup=function(){return this._SendMsg("Pickup","|")};this.Reject=function(){return this._SendMsg("Reject","|")};this.Disconnect=function(){return this._SendMsg("Disconnect","|")};this.SendDTMF=function(a){var b=string2Int(a,-1);return 0>b||15<b?(this.OnDebug("SendDTMF paramter not the number in [0~15]"),-1):this._SendMsg("SendDTMF",a+"|")};this.DoCall=function(a,b){if(this._sipConnectStatus!=barStatus_SipConnected)return this.Initial(),this.config.CallTarget=a,RSIP_SUCCESS;"WebCallVideo"==this.config.SessionKay&&(b=this.config.Audio?1:0,this.config.Vedio&&(b|=2));return this._SendMsg("DoCall",a+"|"+b)};this.SetAttribute=function(a,b){"Dn"==a?this.config.Dn=b:"SipServerIP"==a?this.config.SipServerIP=b:"SipServerPort"==a?this.config.SipServerPort=b:"SipProtocol"==a?this.config.SipProtocol=b:"AuthType"==a?this.config.AuthType=b:"Domain"==a?this.config.Domain=b:"PassWord"==a?this.config.Pass_Word=b:"AutoAnswer"==a?this.config.AutoAnswer=b:"AutoRegister"==a?this.config.AutoRegister=b:"Audio"==a?this.config.Audio=b:"Vedio"==a&&(this.config.Vedio=b)};this.GetAttribute=function(a){return"Dn"==a?this.config.Dn:"SipServerIP"==a?this.config.SipServerIP:"SipServerPort"==a?this.config.SipServerPort:"SipProtocol"==a?this.config.SipProtocol:"AuthType"==a?this.config.AuthType:"Domain"==a?this.config.Domain:"PassWord"==a?this.config.Pass_Word:"AutoAnswer"==a?this.config.AutoAnswer:"AutoRegister"==a?this.config.AutoRegister:"Audio"==a?this.config.Audio:"Vedio"==a?this.config.Vedio:""};this.Configurate=function(a){this.config.AppKey=a.appkey||this.config.AppKey;this.config.SessionKay=a.sessionkay||this.config.SessionKay;this.config.SessionID=this.config.SessionKay+getCurrentTimeString()};this.OnRing=function(a){};this.OnOrigated=function(){};this.OnDisconnected=function(){};this.OnConnected=function(a){};this.OnError=function(a,b){};this.OnInitialSuccess=function(){};this.OnInitialFailure=function(a,b){};this.OnLoginSuccess=function(){};this.OnLoginFailure=function(){};this.OnLogoutSuccess=function(a,b){};this.OnDebug=function(a){};this._Create();return this}var G_appHttpSip=null;function HttpSipResponse(d){null!=G_appHttpSip&&G_appHttpSip._HttpCallBackEvent(d)}function getCurrentTimeString(){var d=new Date,a=d.getFullYear(),b=d.getMonth()+1,b=10>b?"0"+b:b,c=d.getDate(),c=10>c?"0"+c:c,e=d.getHours(),e=10>e?"0"+e:e,f=d.getMinutes(),f=10>f?"0"+f:f,g=d.getSeconds(),g=10>g?"0"+g:g,d=d.getMilliseconds();return a.toString()+b.toString()+c.toString()+e.toString()+f.toString()+g.toString()+"-"+d.toString()}function SIPRemoteHttpCtrl(){this.config={Dn:"",SipServerIP:"",SipServerPort:9060,SipProtocol:"",AuthType:1,Domain:"",Pass_Word:"54jrtrtyu",Registered:!1,RemoteSipServerPort:19060,RemoteSipServer:"127.0.0.1",LocalGuardPort:4510,ConnectCount:0,AutoAnswer:!1,AutoRegister:!0,SessionID:"",SingleCall:!1,CallTarget:""};this._oScrip=null;this._bSipPhoneBegin=!1;this._oTimer=null;G_appHttpSip=this;this._arrRequestURL=[];this._LOSTCOUNT=5;this._Create=function(){this._oTimer=new JSIPTimer;this._oTimer.oParent=this;this._oTimer.SetTimerCallBack(this._OnTimerEvent);this._oTimer.Start();this.config.SessionID="HTTP-"+getCurrentTimeString()};this._HttpGet=function(d,a){var b=stringFormatSip("http://{0}:{1}/{2}?\x3d{3}|HttpSipResponse|{4}|{5}",this.config.RemoteSipServer,this.config.RemoteSipServerPort,d,a,this.config.SessionID,getCurrentTimeString());1==gSIP_Log_Protocol&&this.OnDebug("HttpGet:"+b);this._HttpResquest(b);return 0};this._GuardHttpGet=function(d,a){if(this.config.ConnectCount>=this._LOSTCOUNT)this.OnError(CINGUARD_ERROR_NotStart),this._ResetStatus();else{var b=stringFormatSip("http://{0}:{1}/{2}?\x3d{3}|HttpSipResponse|{4}",this.config.RemoteSipServer,this.config.LocalGuardPort,d,a,getCurrentTimeString());1==gSIP_Log_Protocol&&this.OnDebug("GuardHttpGet:"+b);this._HttpGuardResquest(b);this.OnDebug("connecting cinguard ("+this.config.RemoteSipServer+":"+this.config.LocalGuardPort+")...("+getTimerEnglish(this.config.ConnectCount)+")");this.config.ConnectCount++;return 0}};this._HttpGuardResquest=function(d){null!=this._oScrip&&(document.body.removeChild(this._oScrip),this._oScrip=null);try{this._oScrip=document.createElement("script"),this._oScrip.src=d,document.body.insertBefore(this._oScrip,document.body.firstChild)}catch(a){alert(a)}};this._HttpResquest=function(d){null!=this._oScrip&&(document.body.removeChild(this._oScrip),this._oScrip=null);try{this._arrRequestURL.length>this._LOSTCOUNT&&(this._bSipPhoneBegin=!1,this._oTimer.KillTimer(Sip_HttpMsgQueue_ID),this.config.Registered=!1,this._arrRequestURL.splice(0,this._arrRequestURL.length),this._BeginRMSipPhone()),this._arrRequestURL.push(d),this._oScrip=document.createElement("script"),this._oScrip.src=d,document.body.insertBefore(this._oScrip,document.body.firstChild)}catch(a){alert(a)}};this._QueryMsgQueue=function(){return this._HttpGet("QueryMsgQueue","")};this._BeginRMSipPhone=function(){if(0==this._bSipPhoneBegin)return this._oTimer.SetTimer(Sip_HttpGuardConnect_ID,5E3),this._GuardHttpGet("BeignRMSIP","19060|"+continueSipExe+"|"+sipAdapterTypeRemoteHttpSip+"|"+this.config.SessionID)};this._EndRMSipPhone=function(){return this._GuardHttpGet("EndRMSIP","")};this._ResetStatus=function(){this._bSipPhoneBegin=!1;this._oTimer.KillTimer(Sip_HttpMsgQueue_ID);this._oTimer.KillTimer(Sip_HttpGuardConnect_ID);this.config.Registered=!1;this.config.ConnectCount=0;this._arrRequestURL.splice(0,this._arrRequestURL.length)};this._OnTimerEvent=function(d){var a=this.oParent;d==Sip_HttpMsgQueue_ID?a._QueryMsgQueue():d==Sip_HttpGuardConnect_ID&&a._GuardHttpGet("BeignRMSIP","19060|"+continueSipExe+"|"+sipAdapterTypeRemoteHttpSip+"|"+a.config.SessionID)};this._HttpCallBackEvent=function(d){1==gSIP_Log_Protocol&&this.OnDebug("RevSIP:"+d);var a=getSipSubString(d,'name\x3d"','"');d=getSipSubString(d,"\x3cpaspparam\x3e","\x3c/paspparam\x3e");0<this._arrRequestURL.length&&this._arrRequestURL.splice(0,this._arrRequestURL.length);"BeignRMSIP"==a?(this.OnDebug("RemoteSip startup!"),this._oTimer.KillTimer(Sip_HttpGuardConnect_ID),this.config.ConnectCount=0,this.config.RemoteSipServerPort=parseInt(d),-1==this.config.RemoteSipServerPort?this.OnError(CINGUARD_ERROR_MISSRMSIP):-2==this.config.RemoteSipServerPort?this.OnError(CINGUARD_ERROR_NotSetupRMSIP):(this._bSipPhoneBegin=!0,1==this.config.AutoRegister&&this.RegisterPA())):"EndRMSIP"==a?(this.OnDebug("RemoteSip end"),this._bSipPhoneBegin=!1,this._oTimer.KillTimer(Sip_HttpMsgQueue_ID),this.config.Registered=!1,this.OnLogoutSuccess()):"NewSession"==a?(this._ResetStatus(),this.OnError(RMSIP_ERROR_OnKickOff),this.OnLogoutSuccess()):"Register"==a?"0"==d?(this.OnDebug("RemoteSip init success\uff0cregistering!"),this._oTimer.SetTimer(Sip_HttpMsgQueue_ID,Sip_HttpMsgQueue_TimeInterval)):"-1"==d?this.OnLoginFailure(RMSIP_ERROR_RegisterFAILURE):"-2"==d?this.OnLoginFailure(RMSIP_ERROR_InitialFAILURE):"-3"==d&&this.OnLoginFailure(RMSIP_ERROR_ErrorParam):"UnRegister"==a?(this._ResetStatus(),this.OnLogoutSuccess()):"Pickup"!=a&&"Reject"!=a&&"Disconnect"!=a&&"SendDTMF"!=a&&"DoCall"!=a&&("OnLoginSuccess"==a?(this.config.Registered=!0,this.OnLoginSuccess()):"OnLoginFailure"==a?(this.config.Registered=!1,d.split("|"),this.OnLoginFailure(d,""),this._ResetStatus()):"OnLogoutSuccess"==a?(this.config.Registered=!1,this.OnLogoutSuccess(),this._ResetStatus()):"OnRing"==a?(this.OnRing(d),1==this.config.AutoAnswer&&this.Pickup()):"OnDisconnected"==a?this.OnDisconnected():"OnConnected"==a?this.OnConnected(d):"OnOrigated"==a?this.OnOrigated():"OnError"==a&&this.OnError(d,""))};this.Initial=function(){return this._BeginRMSipPhone()};this.UnInitial=function(){1==this._bSipPhoneBegin?this.ReleasePA():this._EndRMSipPhone();return 0};this.RegisterPA=function(){return 0==this._bSipPhoneBegin?0:this._HttpGet("Register",stringFormatSip("{0}|{1}|{2}|{3}|{4}|{5}|{6}",this.config.Dn,this.config.SipServerIP,this.config.SipServerPort,this.config.SipProtocol,this.config.AuthType,this.config.Domain,this.config.Pass_Word))};this.ReleasePA=function(){return this._HttpGet("UnRegister","")};this.Pickup=function(){return this._HttpGet("Pickup","")};this.Reject=function(){return this._HttpGet("Reject","")};this.Disconnect=function(){return this._HttpGet("Disconnect","")};this.SendDTMF=function(d){return this._HttpGet("SendDTMF",target)};this.DoCall=function(d){return this._HttpGet("DoCall",d)};this.SetAttribute=function(d,a){"Dn"==d?this.config.Dn=a:"SipServerIP"==d?this.config.SipServerIP=a:"SipServerPort"==d?this.config.SipServerPort=a:"SipProtocol"==d?this.config.SipProtocol=a:"AuthType"==d?this.config.AuthType=a:"Domain"==d?this.config.Domain=a:"PassWord"==d?this.config.Pass_Word=a:"AutoAnswer"==d?this.config.AutoAnswer=a:"AutoRegister"==d&&(this.config.AutoRegister=a)};this.GetAttribute=function(d){return"Dn"==d?this.config.Dn:"SipServerIP"==d?this.config.SipServerIP:"SipServerPort"==d?this.config.SipServerPort:"SipProtocol"==d?this.config.SipProtocol:"AuthType"==d?this.config.AuthType:"Domain"==d?this.config.Domain:"PassWord"==d?this.config.Pass_Word:"AutoAnswer"==d?this.config.AutoAnswer:"AutoRegister"==d?this.config.AutoRegister:""};this.Config=function(d){};this.OnRing=function(d){};this.OnOrigated=function(){};this.OnDisconnected=function(){};this.OnConnected=function(d){};this.OnError=function(d,a){};this.OnInitialSuccess=function(){};this.OnInitialFailure=function(d,a){};this.OnLoginSuccess=function(){};this.OnLoginFailure=function(d,a){};this.OnLogoutSuccess=function(){};this.OnDebug=function(d){};this._Create();return this}function SIPAdapterCtrl(d,a){this.path=a;this.sipType=d;this.oSipCtrl=null;this.realSipType=d;this.language=getsipLocalLanguage();this.ErrorsTable={items:[{code:CINGUARD_ERROR_NotStart,des:"\u7535\u8bdd\u6761\u536b\u58eb\u6ca1\u6709\u542f\u52a8",eng_des:"CINGuard.exe not start"},{code:CINGUARD_ERROR_MISSRMSIP,des:"CINRMSIP.exe\u4e0d\u5b58\u5728",eng_des:"CINRMSIP.exe not exist"},{code:CINGUARD_ERROR_NotSetupRMSIP,des:"SIP\u7535\u8bdd\u5b89\u88c5\u5305\u5b89\u88c5\u4e0d\u6b63\u786e",eng_des:"CINRMSIP package setup failure"},{code:CINGUARD_ERROR_NotRePlaceRMSIP,des:"SIP\u7535\u8bdd\u6b63\u5728\u4f7f\u7528\u4e14\u4e0d\u5141\u8bb8\u88ab\u66ff\u6362",eng_des:"CINRMSIP currently In use and not allowed to be replaced"},{code:RMSIP_ERROR_OnKickOff,des:"RemoteSip\u88ab\u5176\u4ed6\u5e94\u7528\u4f7f\u7528",eng_des:"RemoteSip used by other application"},{code:RMSIP_ERROR_RegisterFAILURE,des:"RemoteSip\u521d\u59cb\u5316\u6210\u529f\uff0c\u6ce8\u518c\u5931\u8d25",eng_des:"RemoteSip register failured"},{code:RMSIP_ERROR_InitialFAILURE,des:"RemoteSip\u521d\u59cb\u5316\u5931\u8d25",eng_des:"RemoteSip init failured"},{code:RMSIP_ERROR_ErrorParam,des:"SIP\u53c2\u6570\u9519\u8bef",eng_des:"bad sip parameter"},{code:100,des:"Trying",eng_des:"Trying"},{code:180,des:"Ringing",eng_des:"Ringing"},{code:181,des:"Call Is Being Forwarded",eng_des:"Call Is Being Forwarded"},{code:182,des:"Queued",eng_des:"Queued"},{code:183,des:"Session Progress",eng_des:"Session Progress"},{code:199,des:"Early Dialog Terminated",eng_des:"Early Dialog Terminated"},{code:200,des:"OK",eng_des:"OK"},{code:202,des:"Accepted",eng_des:"Accepted"},{code:204,des:"No Notification",eng_des:"No Notification"},{code:300,des:"Multiple Choices",eng_des:"Multiple Choices"},{code:301,des:"Moved Permanently",eng_des:"Moved Permanently"},{code:302,des:"Moved Temporarily",eng_des:"Moved Temporarily"},{code:305,des:"Use Proxy",eng_des:"Use Proxy"},{code:380,des:"Alternative Service",eng_des:"Alternative Service"},{code:400,des:"Bad Request",eng_des:"Bad Request"},{code:401,des:"Unauthorized",eng_des:"Unauthorized"},{code:402,des:"Payment Required",eng_des:"Payment Required"},{code:403,des:"Forbidden",eng_des:"Forbidden"},{code:404,des:"Not Found",eng_des:"Not Found"},{code:405,des:"Method Not Allowed",eng_des:"Method Not Allowed"},{code:406,des:"Not Acceptable",eng_des:"Not Acceptable"},{code:407,des:"Proxy Authentication Required",eng_des:"Proxy Authentication Required"},{code:408,des:"Request Timeout",eng_des:"Request Timeout"},{code:410,des:"Gone",eng_des:"Gone"},{code:412,des:"Conditional Request Failed",eng_des:"Conditional Request Failed"},{code:413,des:"Request Entity Too Large",eng_des:"Request Entity Too Large"},{code:414,des:"Request-URI Too Long",eng_des:"Request-URI Too Long"},{code:415,des:"Unsupported Media Type",eng_des:"Unsupported Media Type"},{code:416,des:"Unsupported URI Scheme",eng_des:"Unsupported URI Scheme"},{code:417,des:"Unknown Resource-Priority",eng_des:"Unknown Resource-Priority"},{code:420,des:"Bad Extension",eng_des:"Bad Extension"},{code:421,des:"Extension Required",eng_des:"Extension Required"},{code:422,des:"Session Interval Too Small",eng_des:"Session Interval Too Small"},{code:423,des:"Interval Too Brief",eng_des:"Interval Too Brief"},{code:428,des:"Use Identity Header",eng_des:"Use Identity Header"},{code:429,des:"Provide Referrer Identity",eng_des:"Provide Referrer Identity"},{code:430,des:"Flow Failed",eng_des:"Flow Failed"},{code:433,des:"Anonymity Disallowed",eng_des:"Anonymity Disallowed"},{code:436,des:"Bad Identity-Info",eng_des:"Bad Identity-Info"},{code:437,des:"Unsupported Certificate",eng_des:"Unsupported Certificate"},{code:438,des:"Invalid Identity Header",eng_des:"Invalid Identity Header"},{code:439,des:"First Hop Lacks Outbound Support",eng_des:"First Hop Lacks Outbound Support"},{code:440,des:"Max-Breadth Exceeded",eng_des:"Max-Breadth Exceeded"},{code:469,des:"Bad Info Package",eng_des:"Bad Info Package"},{code:470,des:"Consent Needed",eng_des:"Consent Needed"},{code:478,des:"Unresolvable Destination",eng_des:"Unresolvable Destination"},{code:480,des:"Temporarily Unavailable",eng_des:"Temporarily Unavailable"},{code:481,des:"Call/Transaction Does Not Exist",eng_des:"Call/Transaction Does Not Exist"},{code:482,des:"Loop Detected",eng_des:"Loop Detected"},{code:483,des:"Too Many Hops",eng_des:"Too Many Hops"},{code:484,des:"Address Incomplete",eng_des:"Address Incomplete"},{code:485,des:"Ambiguous",eng_des:"Ambiguous"},{code:486,des:"Busy Here",eng_des:"Busy Here"},{code:487,des:"Request Terminated",eng_des:"Request Terminated"},{code:488,des:"Not Acceptable Here",eng_des:"Not Acceptable Here"},{code:489,des:"Bad Event",eng_des:"Bad Event"},{code:491,des:"Request Pending",eng_des:"Request Pending"},{code:493,des:"Undecipherable",eng_des:"Undecipherable"},{code:494,des:"Security Agreement Required",eng_des:"Security Agreement Required"},{code:500,des:"JsSIP Internal Error",eng_des:"JsSIP Internal Error"},{code:501,des:"Not Implemented",eng_des:"Not Implemented"},{code:502,des:"Bad Gateway",eng_des:"Bad Gateway"},{code:503,des:"Service Unavailable",eng_des:"Service Unavailable"},{code:504,des:"Server Time-out",eng_des:"Server Time-out"},{code:505,des:"Version Not Supported",eng_des:"Version Not Supported"},{code:513,des:"Message Too Large",eng_des:"Message Too Large"},{code:580,des:"Precondition Failure",eng_des:"Precondition Failure"},{code:600,des:"Busy Everywhere",eng_des:"Busy Everywhere"},{code:603,des:"Decline",eng_des:"Decline"},{code:604,des:"Does Not Exist Anywhere",eng_des:"Does Not Exist Anywhere"},{code:606,des:"Not Acceptable",eng_des:"Not Acceptable"}]};this._Create=function(){switch(this.sipType){case sipAdapterTypeJSip:this.oSipCtrl=new SIPCtrl(this.path);break;case sipAdapterTypeRemoteSip:this.oSipCtrl=new SIPRemoteCtrl;break;case sipAdapterTypeRemoteHttpSip:this.oSipCtrl=new SIPRemoteHttpCtrl;break;default:alert("Not surpport this sip mode");return}this.oSipCtrl.oParent=this;this.oSipCtrl.OnRing=this._OnSipApaterEventOnRing;this.oSipCtrl.OnOrigated=this._OnSipApaterEventOnOrigated;this.oSipCtrl.OnDisconnected=this._OnSipApaterEventOnDisconnected;this.oSipCtrl.OnConnected=this._OnSipApaterEventOnConnected;this.oSipCtrl.OnError=this._OnSipApaterEventOnError;this.oSipCtrl.OnInitialSuccess=this._OnSipApaterEventOnInitialSuccess;this.oSipCtrl.OnInitialFailure=this._OnSipApaterEventOnInitialFailure;this.oSipCtrl.OnLoginSuccess=this._OnSipApaterEventOnLoginSuccess;this.oSipCtrl.OnLoginFailure=this._OnSipApaterEventOnLoginFailure;this.oSipCtrl.OnLogoutSuccess=this._OnSipApaterEventOnLogoutSuccess;this.oSipCtrl.OnDebug=this._OnSipApaterEventDebug;this.oSipCtrl.OnUpdateVideoWindow=this._OnSipApaterEventOnUpdateVideoWindow;this.oSipCtrl.OnMessage=this._OnSipApaterEventOnMessage;this.oSipCtrl.OnRtpStatics=this._OnSipApaterEventOnRtpStatics;this.oSipCtrl.OnConnectStatus=this._OnSipApaterEventOnConnectStatus;this.oSipCtrl.OnMediaChanged=this._OnSipApaterEventOnMediaChanged;this.sipType==sipAdapterTypeJSip&&(this.oSipCtrl.OnReportScense=this._OnSipApaterEventReportScense)};this._GetBrowerSys=function(){this.version=this.os="";var a=navigator.userAgent.toLowerCase();0<a.indexOf("msie")?(this.os="msie",this.version=a.match(/msie ([\d.]+)/)[1]):0<a.lastIndexOf("firefox")?(this.os="firefox",this.version=a.match(/firefox\/([\d.]+)/)[1]):0<a.lastIndexOf("chrome")?(this.os="chrome",this.version=a.match(/chrome\/([\d.]+)/)[1]):0<a.lastIndexOf("trident")?(this.os="msie",this.version=a.match(/rv:([\d.]+)/)[1]):(this.os=a,this.version="");return this};this._OnSipApaterEventOnRing=function(a){DisplaySipLog(SIPADAPTER_Log_Info,"SipApaterEventOnRing");this.oParent.OnRing(a)};this._OnSipApaterEventOnOrigated=function(a){DisplaySipLog(SIPADAPTER_Log_Info,"SipApaterEventOnOrigated");this.oParent.OnOrigated(a)};this._OnSipApaterEventOnDisconnected=function(){DisplaySipLog(SIPADAPTER_Log_Info,"SipApaterEventOnDisconnected");this.oParent.OnDisconnected()};this._OnSipApaterEventOnConnected=function(a){DisplaySipLog(SIPADAPTER_Log_Info,"SipApaterEventOnConnected");this.oParent.OnConnected(a)};this._OnSipApaterEventOnError=function(a,c){"undefined"==typeof c&&(c=this.oParent._GetErrorDes(a));DisplaySipLog(SIPADAPTER_Log_Info,stringFormatSip("SipApaterEventOnError({0},{1})",a,c));this.oParent.OnError(a,c)};this._OnSipApaterEventOnLoginSuccess=function(){DisplaySipLog(SIPADAPTER_Log_Info,"SipApaterEventOnLoginSuccess");this.oParent.OnLoginSuccess()};this._OnSipApaterEventOnLoginFailure=function(a,c){"undefined"==typeof c&&(c=this.oParent._GetErrorDes(a));""==c&&(c=this.oParent._GetErrorDes(a));this.oParent.OnLoginFailure(a,c)};this._OnSipApaterEventOnLogoutSuccess=function(){this.oParent.OnLogoutSuccess()};this._OnSipApaterEventDebug=function(a){this.oParent.OnDebug(a)};this._GetErrorDes=function(a){for(var b=0;b<this.ErrorsTable.items.length;b++)if(this.ErrorsTable.items[b].code==a)return this.language==lg_zhcn_sip?this.ErrorsTable.items[b].des:this.ErrorsTable.items[b].eng_des};this._OnSipApaterEventReportScense=function(a){this.oParent.OnReportScense(a)};this._OnSipApaterEventOnMessage=function(a,c,d,f){this.oParent.OnMessage(a,c,d,f)};this._OnSipApaterEventOnInitialSuccess=function(){this.oParent.OnInitialSuccess()};this._OnSipApaterEventOnInitialFailure=function(a,c){"undefined"==typeof c&&(c=this.oParent._GetErrorDes(a));""==c&&(c=this.oParent._GetErrorDes(a));this.oParent.OnInitialFailure(a,c)};this._OnSipApaterEventOnUpdateVideoWindow=function(a){this.oParent.OnUpdateVideoWindow(a)};this._OnSipApaterEventOnRtpStatics=function(a){this.oParent.OnRtpStatics(a)};this._OnSipApaterEventOnConnectStatus=function(a){DisplaySipLog(SIPADAPTER_Log_Info,"SipApaterEventOnConnectStatus");this.oParent.OnConnectStatus(a)};this._OnSipApaterEventOnMediaChanged=function(a){DisplaySipLog(SIPADAPTER_Log_Info,"OnSipApaterEventOnMediaChanged");this.oParent.OnMediaChanged(a)};this.Initial=function(a){return this.oSipCtrl.Initial(a)};this.UnInitial=function(){return this.oSipCtrl.UnInitial()};this.GetVersion=function(){return SIPVERSION};this.RegisterPA=function(){return this.oSipCtrl.RegisterPA()};this.ReleasePA=function(){return this.oSipCtrl.ReleasePA()};this.Pickup=function(a){return this.oSipCtrl.Pickup(a)};this.Reject=function(){return this.oSipCtrl.Reject()};this.Disconnect=function(){return this.oSipCtrl.Disconnect()};this.SendDTMF=function(a){return this.oSipCtrl.SendDTMF(a)};this.DoCall=function(a,c){if(this.realSipType==sipAdapterTypeJSip)return this.oSipCtrl.DoCall(a,c);if("undefined"==typeof c||null==c)c="";""!=c&&(a=a+"@"+this.oSipCtrl.GetAttribute("SipServerIP")+"$"+c);return this.oSipCtrl.DoCall(a)};this.SendMessage=function(a,c,d){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.SendMessage(a,c,d):0};this.UpdateMedia=function(a){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.UpdateMedia(a):0};this.SetAttribute=function(a,c){this.oSipCtrl.SetAttribute(a,c)};this.GetAttribute=function(a){return this.oSipCtrl.GetAttribute(a)};this.Configurate=function(a){return this.realSipType==sipAdapterTypeJSip||this.realSipType==sipAdapterTypeRemoteSip?this.oSipCtrl.Configurate(a):0};this.Mute=function(a){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.Mute(a):0};this.Hold=function(){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.Hold():0};this.RetriveHold=function(){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.RetriveHold():0};this.Consult=function(a){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.Consult(a):0};this.Conference=function(){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.Conference():0};this.Transfer=function(a){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.Transfer(a):0};this.Alertnate=function(a){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.Alertnate(a):0};this.ReleaseLeg=function(a){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.ReleaseLeg(a):0};this.CheckSoundPlay=function(){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.CheckSoundPlay():0};this.GetCallKeyValue=function(a){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.GetCallKeyValue(a):""};this.SetVideoViews=function(a,c,d){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.SetVideoViews(a,c,d):-1};this.ShareScreen=function(a){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.ShareScreen(a):0};this.GetVideoSnapShot=function(){return this.realSipType==sipAdapterTypeJSip?this.oSipCtrl.GetVideoSnapShot():0};this.OnRing=function(a){};this.OnOrigated=function(a){};this.OnDisconnected=function(){};this.OnConnected=function(a){};this.OnError=function(a,c){};this.OnInitialSuccess=function(){};this.OnInitialFailure=function(a,c){};this.OnLoginSuccess=function(){};this.OnLoginFailure=function(a,c){};this.OnLogoutSuccess=function(a,c){};this.OnDebug=function(a){};this.OnInfoEvent=function(a){};this.OnReportScense=function(a){};this.OnMessage=function(a,c,d,f){};this.OnUpdateVideoWindow=function(a){};this.OnRtpStatics=function(a){};this.OnConnectStatus=function(a){};this.OnMediaChanged=function(a){};this._Create();return this}function AgoraCtrl(){this.options={appID:"",cameraId:"",channel:"",codec:"h264",microphoneId:"default",mode:"rtc",token:"",src:"camera",mediaType:"video",uid:0,localViewid:"",remoteViewid:"",shareViewid:""};this.devices={audios:[],videos:[],resolutions:[{name:"default",value:"default"},{name:"480p",value:"480p"},{name:"720p",value:"720p"},{name:"1080p",value:"1080p"}]};this.localVConfig={resolution:{width:360,height:640},frameRate:{min:15,max:30},bitrate:{min:1E3,max:5E3}};this.rtc={client:null,joined:!1,published:!1,localStream:null,remoteStreams:[],params:{}};this.callback=null;this._Create=function(){console.log("agora sdk version: "+AgoraRTC.VERSION+" compatible: "+AgoraRTC.checkSystemRequirements());AgoraRTC.Logger.setLogLevel(AgoraRTC.Logger.NONE);var d=this;this._getDevices(function(a){a.audios.forEach(function(a){d.devices.audios.push({name:a.name,value:a.value,kind:a.kind})});a.videos.forEach(function(a){d.devices.videos.push({name:a.name,value:a.value,kind:a.kind})})})};this._handleEvents=function(d){var a=this;d.client.on("error",function(a){console.log(a)});d.client.on("peer-leave",function(b){var c=b.uid;console.log("id",b);c!=d.params.uid&&a._removeView(c);console.warn("peer-leave",c)});d.client.on("stream-published",function(a){console.warn("stream-published")});d.client.on("stream-added",function(a){a=a.stream;var b=a.getId();b!==d.params.uid&&d.client.subscribe(a,function(a){console.log("stream subscribe failed",a)});console.warn("stream-added remote-uid: ",b)});d.client.on("stream-subscribed",function(b){b=b.stream;var c=b.getId();d.remoteStreams.push(b);console.info(b.stream);b.stream.addEventListener("inactive",function(a){console.warn("remote-stream-inactive")});var e=a.getRemoteViewId();""!=e&&b.play(e,{fit:"contain"});console.warn("stream-subscribed remote-uid: ",c)});d.client.on("stream-removed",function(b){b=b.stream;var c=b.getId();b.stop("remote_video_"+c);d.remoteStreams=d.remoteStreams.filter(function(a){return a.getId()!==c});a._removeView(c);console.warn("stream-removed remote-uid: ",c)});d.client.on("onTokenPrivilegeWillExpire",function(){console.log("onTokenPrivilegeWillExpire")});d.client.on("onTokenPrivilegeDidExpire",function(){console.warn("onTokenPrivilegeDidExpire")});d.client.on("first-video-frame-decode",function(b){console.warn("first-video-frame-decode");b=a.getRemoteViewId();(b=document.getElementById(b).getElementsByTagName("video"))&&0<b.length&&(b=b[0],a._remoteView(b.videoHeight,b.videoWidth))});d.client.on("mute-video",function(a){console.warn("mute-video")})};this._getDevices=function(d){AgoraRTC.getDevices(function(a){a.filter(function(a){return-1!==["audioinput","videoinput"].indexOf(a.kind)}).map(function(a){return{name:a.label,value:a.deviceId,kind:a.kind}});for(var b=[],c=[],e=0;e<a.length;e++){var f=a[e];if("videoinput"==f.kind){var g=f.label,h=f.deviceId;g||(g="camera-"+b.length);b.push({name:g,value:h,kind:f.kind})}"audioinput"==f.kind&&(g=f.label,h=f.deviceId,g||(g="microphone-"+c.length),c.push({name:g,value:h,kind:f.kind}))}d({videos:b,audios:c})})};this._remoteView=function(d,a){null!=this.callback&&this.callback.OnGetRemoteView(this.options.remoteViewid,d,a);return this.options.remoteViewid};this._removeView=function(d){null!=this.callback&&this.callback.OnRemoveRemoteView(this.options.remoteViewid)};this._localView=function(d,a){null!=this.callback&&this.callback.OnGetLocalView(this.options.localViewid,d,a);return this.options.localViewid};this._shareView=function(){null!=this.callback&&this.callback.OnGetShareView(this.options.shareViewid);return this.options.shareViewid};this._OnJoinSuccess=function(){null!=this.callback&&this.callback.OnJoinSuccess()};this._OnJoinFailure=function(d){null!=this.callback&&this.callback.OnJoinFailure(d)};this._OnStopShareScreen=function(){null!=this.callback&&this.callback.OnStopShareScreen()};this.registerEvent=function(d){this.callback=d};this.getCallParam=function(){return this.rtc.params};this.getRemoteViewId=function(){return this.options.remoteViewid};this.setVideoViews=function(d,a,b){this.options.localViewid=d;this.options.remoteViewid=a;this.options.shareViewid=b};this.share=function(d,a){if(this.rtc.joined){var b=this,c={streamID:b.rtc.params.uid,audio:!0,video:"video"==d.mediaType,screen:!1,microphoneId:d.microphoneId,cameraId:d.cameraId};"share"==d.src&&(c.audio=!0,c.video=!1,c.screen=!0);var e=AgoraRTC.createStream(c);e.init(function(){console.log("init screen stream success");console.log(e);a(1);b.leave(function(){console.warn("AgoraCtrl.leave...");b._joinScreenShare(d,e)})},function(c){console.warn("cancel screen stream share ",c);b.rtc.params.src="camera";a(0)})}else console.info("have not joined yet")};this._joinScreenShare=function(d,a){if(this.rtc.joined)console.info("Your already joined");else{d=d||this.options;d.mode=d.mode||this.options.mode;d.codec=d.codec||this.options.codec;d.codec=d.codec||this.options.codec;d.mediaType=d.mediaType||this.options.mediaType;d.agoraEncryptType=d.agoraEncryptType||"0";d.agoraDataKey=d.agoraDataKey||"";d.proxy=d.proxy||!1;this.rtc.client=AgoraRTC.createClient({mode:d.mode,codec:d.codec});d.proxy&&this.rtc.client.startProxyServer();this.rtc.params=d;this._handleEvents(this.rtc);var b=this;this.rtc.client.init(d.appID,function(){console.log("init success");var c="";"1"==d.agoraEncryptType&&(c="aes-128-xts");"2"==d.agoraEncryptType&&(c="aes-128-ecb");"3"==d.agoraEncryptType&&(c="aes-256-xts");""!=c&&(b.rtc.client.setEncryptionMode(c),b.rtc.client.setEncryptionSecret(d.agoraDataKey));b.rtc.client.join(d.token?d.token:null,d.channel,d.uid?+d.uid:null,function(c){console.log("join channel: "+d.channel+" success, uid: "+c);b.rtc.joined=!0;b.rtc.params.uid=c;b._OnJoinSuccess();var e="video"==d.mediaType;a?(console.log("add and publish screen share stream"),b.rtc.localStream=a,e&&(c={},Object.assign(c,b.localVConfig),c.resolution=d.resolution||c.resolution,"share"!=d.src&&b.rtc.localStream.setVideoEncoderConfiguration(c),c="share"==b.rtc.params.src?b._shareView():b._localView(c.resolution.height,c.resolution.width),""!=c&&b.rtc.localStream.play(c,{fit:"contain"})),b.rtc.localStream.on("stopScreenSharing",function(a){console.warn("stopScreenSharing");b._OnStopShareScreen()}),b.rtc.localStream.stream.addEventListener("inactive",function(a){console.warn("local-stream-inactive")}),b.rtc.localStream.stream.addEventListener("removetrack",function(a){console.warn("local-stream-removetrack")}),b.publish()):(c={streamID:b.rtc.params.uid,audio:!0,video:e,screen:!1,microphoneId:d.microphoneId,cameraId:d.cameraId},"share"==d.src&&(c.audio=!0,c.video=!1,c.screen=!0),b.rtc.localStream=AgoraRTC.createStream(c),b.rtc.localStream.init(function(){console.log("init local stream success");console.info(b.localVConfig);if(e){var a={};Object.assign(a,b.localVConfig);a.resolution=d.resolution||a.resolution;"share"!=d.src&&b.rtc.localStream.setVideoEncoderConfiguration(a);a="share"==b.rtc.params.src?b._shareView():b._localView(a.resolution.height,a.resolution.width);""!=a&&b.rtc.localStream.play(a,{fit:"contain"})}b.rtc.localStream.on("stopScreenSharing",function(a){console.warn("stopScreenSharing");b._OnStopShareScreen()});b.rtc.localStream.stream.addEventListener("inactive",function(a){console.warn("local-stream-inactive")});b.rtc.localStream.stream.addEventListener("removetrack",function(a){console.warn("local-stream-removetrack")});b.publish()},function(a){console.error("init local stream failed ",a);b._OnJoinFailure("init local stream failed ")}))},function(a){console.error("client join failed",a);b._OnJoinFailure("client join failed")})},function(a){b._OnJoinFailure(a);console.error(a)})}};this.join=function(d){if(this.rtc.joined)console.info("Your already joined");else{d=d||this.options;d.mode=d.mode||this.options.mode;d.codec=d.codec||this.options.codec;d.codec=d.codec||this.options.codec;d.mediaType=d.mediaType||this.options.mediaType;d.agoraEncryptType=d.agoraEncryptType||"0";d.agoraDataKey=d.agoraDataKey||"";d.proxy=d.proxy||!1;this.rtc.client=AgoraRTC.createClient({mode:d.mode,codec:d.codec});d.proxy&&this.rtc.client.startProxyServer();this.rtc.params=d;this._handleEvents(this.rtc);var a=this;this.rtc.client.init(d.appID,function(){console.log("init success");var b="";"1"==d.agoraEncryptType&&(b="aes-128-xts");"2"==d.agoraEncryptType&&(b="aes-128-ecb");"3"==d.agoraEncryptType&&(b="aes-256-xts");""!=b&&(a.rtc.client.setEncryptionMode(b),a.rtc.client.setEncryptionSecret(d.agoraDataKey));a.rtc.client.join(d.token?d.token:null,d.channel,d.uid?+d.uid:null,function(b){console.log("join channel: "+d.channel+" success, uid: "+b);a.rtc.joined=!0;a.rtc.params.uid=b;a._OnJoinSuccess();var c="video"==d.mediaType;b={streamID:b,audio:!0,video:c,screen:!1,microphoneId:d.microphoneId,cameraId:d.cameraId};"share"==d.src&&(b.audio=!0,b.video=!1,b.screen=!0);console.info(b);a.rtc.localStream=AgoraRTC.createStream(b);a.rtc.localStream.init(function(){console.log("init local stream success");console.info(a.localVConfig);if(c){var b={};Object.assign(b,a.localVConfig);b.resolution=d.resolution||b.resolution;"share"!=d.src&&a.rtc.localStream.setVideoEncoderConfiguration(b);b="share"==a.rtc.params.src?a._shareView():a._localView(b.resolution.height,b.resolution.width);""!=b&&a.rtc.localStream.play(b,{fit:"contain"})}a.rtc.localStream.on("stopScreenSharing",function(b){console.warn("stopScreenSharing");a._OnStopShareScreen()});a.rtc.localStream.stream.addEventListener("inactive",function(a){console.warn("local-stream-inactive")});a.rtc.localStream.stream.addEventListener("removetrack",function(a){console.warn("local-stream-removetrack")});a.publish()},function(b){console.error("init local stream failed ",b);a._OnJoinFailure("init local stream failed ")})},function(b){console.error("client join failed",b);a._OnJoinFailure("client join failed")})},function(b){a._OnJoinFailure(b);console.error(b)})}};this.publish=function(){if(this.rtc.client&&!this.rtc.published){console.log("publish local stream");var d=this.rtc.published,a=this;this.rtc.client.publish(this.rtc.localStream,function(b){a.rtc.published=d;console.log("publish failed");console.error(b)});this.rtc.published=!0}};this.unpublish=function(){if(this.rtc.client&&this.rtc.published){var d=this,a=this.rtc.published;this.rtc.client.unpublish(this.rtc.localStream,function(b){d.rtc.published=a;console.log("unpublish failed");console.error(b)});this.rtc.published=!1}};this.leave=function(d){if(this.rtc.client)if(this.rtc.joined){var a=this;this.rtc.client.leave(function(){a.rtc.params.proxy&&a.rtc.client.stopProxyServer();a.rtc.localStream.stop();for(a.rtc.localStream.close();0<a.rtc.remoteStreams.length;){var b=a.rtc.remoteStreams.shift(),c=b.getId();b.isPlaying()&&b.stop();a._removeView(c)}a.rtc.localStream=null;a.rtc.remoteStreams=[];a.rtc.client=null;console.log("client leaves channel success");a.rtc.published=!1;a.rtc.joined=!1;"function"==typeof d&&null!==d&&d()},function(a){console.log("channel leave failed");console.error(a)})}else console.log("You are not in channel"),"function"==typeof d&&null!==d&&d();else console.log("Please Join First!"),"function"==typeof d&&null!==d&&d()};this._Create();return this}function MediaSrcData(){this.config={incomingcall2:"data:audio/mpeg;base64,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WpoqmW/6lUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7kmTmAfT9Z8dDJh+CAAANIAAAARVUqppH4zDIAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU\x3d",outgoingcall2:"data:audio/mpeg;base64,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\x3d",callingend:"data:audio/mpeg;base64,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WMgJDMZAxMCLeBgENAYfCACgGGWIkuj/OnTW//9BFRulO//6KkTFqkS9///RU6zzKNi6d+r//ydSNjQwWtF2Wecut1Kf///9AupUVKMUE6LmzHzVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSxIwAFK23ABn6gAgAADSDgAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksQ5A8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5LEOQPAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSxDkDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksQ5A8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+5LEOQPAAAGkAAAAIAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uSxDkDwAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksQ5A8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUAotNk1zNMzhMgwrSXMSytNEVrNp2rNTQ5Nbo4Pt+rPSZtNQRQNboAONIcNxE8MlAfMnTDMrxrOIOMwuNomKxRhSpnT5nS4kTAgw1Ks1KEyYFgQAEGMHGOECwALgTLGDKDA4AvsCgTBgS0bN1KDBgwMDX/+5LEOQPAAAGkAAAAIAAANIAAAATu8CXiKimkIcNFRTSEQ25cXuRixhhhhhhhhhnXp6enp6enzwwq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qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uSxP+AHG2tDBn6AALKNFgLtvAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg\x3d\x3d",outgoingcallrejected:"data:audio/mpeg;base64,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\x3d\x3d",logintip:"data:audio/mpeg;base64,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",blanktip:"data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA//tUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAZAAAmQAAPDw8ZGRkZIyMjIy0tLS03Nzc3QUFBQUtLS0tVVVVVX19fX2lpaWlzc3NzfX19fYeHh4eRkZGRm5ubm6WlpaWvr6+vubm5ucPDw8PNzc3N19fX1+Hh4eHr6+vr9fX19f////8AAAAATGF2YzU4LjU0AAAAAAAAAAAAAAAAJAJAAAAAAAAAJkBh1ON7//uUZAAP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAETEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//uUZFGP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUmQ1fQ3XNwpG3Tw2qzo3HHgvM8ZlCDhukv88OM6XOXGdCDOb1FUxKg4/MbdFSjJ2BMQx5Ug3MGcGIjCHAvc5zLDc8RPKXY4ZPAuYTU7LMNwDzh46O7Mpejliw01pM2QTbSk0yEM4USuJUCAAGIhA3hgrhNwa4FDnHDZKlxhaRRiZiWK1mskX2h+oG7EcYcZVGP9HPBlcwDEYvuH5m7OIZ9c5jx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"};return this}function StreamCtrl(d,a,b){this.oContainer=b;this.oImage=this.oVideo=this.oCtx=this.oCanvas=null;this.nDrawID=-1;this.nWidth=d;this.nHeight=a;this.oCameraStream=null;this.type="idle";this.options={};this.DrawType={SIPCALL_NULL:0,SIPCALL_IDLE:1,SIPCALL_CALLING:2,SIPCALL_RING:3,SIPCALL_ORIGATE:4,SIPCALL_CONNECTED:5};this.Pad={imageIcon:null,imagebg:null,markoption:{}};this.GetCanvas=function(){return this.oCanvas};this.DrawPicture=function(a,b){this.type="backgroup";var c=this.oCanvas.width,d=this.oCanvas.height,e=this.oCtx;this.oImage=new Image;this.oImage.src=a;var k=this;b.oIcon=null;b.oVideo=k.oImage;this.oImage.onload=function(){k.nDrawID=setInterval(function(){e.drawImage(k.oImage,0,0,c,d);k._render_mark(e,b)},50)}};this.PlayVideo=function(a,b,d,g){this.type="videofile";var c=this;c.oVideo.src=a;c.oVideo.loop=b;c.oVideo.play();c.oVideo.addEventListener("ended",function(){g(b)},!1);setTimeout(function(){c.oVideo.play();d(c._getVideoStream(c.oVideo))},1E3)};this.GetCommonStream=function(a,b){function c(a){b(a)}function d(){b(null)}var e=a.audio,k=a.video;navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:e,video:k}).then(c.bind(this))["catch"](d.bind(this)):navigator.getUserMedia&&navigator.getUserMedia({audio:e,video:k}).then(c.bind(this))["catch"](d.bind(this))};this._renderBeauty=function(){function a(){try{var c=Date.now();k.read(g);g.copyTo(h);cv.imshow(b.CanvasID,h);var d=1E3/15-(Date.now()-c);setTimeout(a,d)}catch(q){console.error(q),g["delete"](),h["delete"]()}}var b=this,d=b.oVideo;d.width=d.videoWidth;d.height=d.videoHeight;var g=new cv.Mat(d.videoHeight,d.videoWidth,cv.CV_8UC4),h=new cv.Mat(d.videoHeight,d.videoWidth,cv.CV_8UC4),k=new cv.VideoCapture(d);setTimeout(a,0)};this.GetBeautyStream=function(a,b){if("cameraex"==this.type)this.options=a;else{this.options=a;var c=this;this.GetCommonStream(a,function(d){null==d?(b(null),c.type="idle"):1!=a.beauty?b(d):(c.type="cameraex",c.oCameraStream=d,c.oVideo.srcObject=d,c.oVideo.play(),1==a.beauty&&c.oVideo.addEventListener("canplay",function(){c._renderBeauty()},!1),b(c.oCanvas.captureStream()))})}};this.GetCommonStreamExtent=function(a,b){if("cameraex"==this.type)this.options=a;else{this.options=a;var c=this;this.GetCommonStream(a,function(d){if(null==d)b(null),c.type="idle";else{c.type="cameraex";c.oCameraStream=d;c.oVideo.srcObject=d;c.oVideo.play();""!=a.image?(c.oImage=new Image,c.oImage.src=a.mark.image.url):c.oImage=null;var e=c.options.mark;e.oIcon=c.oImage;e.oVideo=c.oVideo;c.nDrawID=setInterval(function(){c._render(e)},50);b(c.oCanvas.captureStream())}})}};this.GetScreenStream=function(a,b,d){var c=this;this._getOutScreenStream({video:{width:a.width||this.nWidth,height:a.height||this.nHeight}},function(a){null==a?b(null):(a.getVideoTracks()[0].onended=function(){d()},c.GetMicPhoneStream(function(c){null==c?b(null):(c=c.getAudioTracks()[0],a.addTrack(c),b(a))}))})};this.GetMicPhoneStream=function(a){function b(){console.error("__userMicMediaFailed(%o)",arguments);a(null)}var c=this;navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(b){a(b)}.bind(this))["catch"](function(a){b.call(c,a)})};this.StopDraw=function(){-1!=this.nDrawID&&(clearInterval(this.nDrawID),this.nDrawID=-1);this.type="idle";if(null!=this.oCtx&&null!=this.oCanvas){null!=this.oCameraStream&&this.CloseMediaStream(this.oCameraStream);this.options={};this.oImage=null;this.oVideo.pause();var a=this.oCtx;a.fillStyle="#000000";a.beginPath();a.fillRect(0,0,this.oCanvas.width,this.oCanvas.height);a.closePath()}};this.CloseMediaStream=function(a){if(a)try{var b=void 0;if(a.getTracks){var b=a.getTracks(),c=!0,d=!1,h=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var k=b[Symbol.iterator](),l;!(c=(l=k.next()).done);c=!0)l.value.stop()}catch(p){d=!0,h=p}finally{try{!c&&k["return"]&&k["return"]()}finally{if(d)throw h;}}}else{b=a.getAudioTracks();k=!0;l=!1;var m=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var h=b[Symbol.iterator](),q;!(k=(q=h.next()).done);k=!0)q.value.stop()}catch(p){l=!0,m=p}finally{try{!k&&h["return"]&&h["return"]()}finally{if(l)throw m;}}b=a.getVideoTracks();k=!0;l=!1;h=void 0;try{for($jscomp.initSymbol(),$jscomp.initSymbolIterator(),c=b[Symbol.iterator]();!(k=(d=c.next()).done);k=!0)d.value.stop()}catch(p){l=!0,h=p}finally{try{!k&&c["return"]&&c["return"]()}finally{if(l)throw h;}}}}catch(p){"function"!==typeof a.stop&&"object"!==_typeof(a.stop)||a.stop()}};this.IsIdle=function(){return"idle"==this.type};this._getTimeString=function(){var a=new Date,b=a.getFullYear(),d=a.getMonth()+1,d=10>d?"0"+d:d,g=a.getDate(),g=10>g?"0"+g:g,h=a.getHours(),h=10>h?"0"+h:h,k=a.getMinutes(),k=10>k?"0"+k:k,l=a.getSeconds(),l=10>l?"0"+l:l;a.getMilliseconds();return b.toString()+"/"+d.toString()+"/"+g.toString()+" "+h.toString()+":"+k.toString()+":"+l.toString()};this._render=function(a){var b=this.oCtx;b.clearRect(0,0,this.oCanvas.width,this.oCanvas.height);b.drawImage(a.oVideo,0,0,this.oCanvas.width,this.oCanvas.height);this._render_mark(b,a)};this._face2=function(a,b,d){var c=new cv.Mat;if(null==b||void 0==b)b=3;if(null==d||void 0==d)d=1;var e=5*b,f=12.5*b,l=new cv.Mat,m=new cv.Mat;b=new cv.Mat;var q=new cv.Mat;cv.cvtColor(a,a,cv.COLOR_RGBA2RGB,0);cv.bilateralFilter(a,l,e,f,f);e=new cv.Mat;cv.subtract(l,a,e);cv.add(e,new cv.Mat(a.rows,a.cols,a.type(),new cv.Scalar(128,128,128,128)),m);cv.GaussianBlur(m,b,new cv.Size(2*d-1,2*d-1),0,0);d=new cv.Mat;b.convertTo(d,b.type(),2,-255);cv.add(a,d,q);cv.addWeighted(a,.1,q,.9,0,c);cv.add(c,new cv.Mat(a.rows,a.cols,a.type(),new cv.Scalar(10,10,10,0)),c);return c};this._getBeautyImage=function(a){a=this.oVideo;var b=new cv.VideoCapture(a),c=new cv.Mat(a.videoHeight,a.videoWidth,cv.CV_8UC4);a=new cv.Mat(a.videoHeight,a.videoWidth,cv.CV_8UC1);b.read(c);cv.cvtColor(c,a,cv.COLOR_RGBA2GRAY);return a};this._render_mark=function(a,b){b.oIcon&&a.drawImage(b.oIcon,b.image.x,b.image.y);b.timer&&1==b.timer.flag&&this._render_text(a,this._getTimeString(),b.timer.x,b.timer.y,b.timer.font,b.timer.color);b.text&&""!=b.text.content&&this._render_text(a,b.text.content,b.text.x,b.text.y,b.text.font,b.text.color)};this._render_text=function(a,b,d,g,h,k){if(""!=b)return h||(h="28px \u5b8b\u4f53"),k||(k="#ffffff"),new Promise(function(c,e){a.font=h;a.strokeStyle=k;a.textAlign="right";a.strokeText(b,d,g)})};this._getVideoStream=function(a){a.captureStream?a=a.captureStream(0):a.mozCaptureStream?a=a.mozCaptureStream(0):(console.error("Stream capture is not supported"),a=null);return a};this._getOutScreenStream=function(a,b){function c(a){b(a)}function d(){b(null)}var e=this;navigator.getDisplayMedia?navigator.getDisplayMedia(a).then(c.bind(this))["catch"](function(a){d.call(e,a)}):navigator.mediaDevices.getDisplayMedia?navigator.mediaDevices.getDisplayMedia(a).then(c.bind(this))["catch"](function(a){d.call(e,a)}):navigator.mediaDevices.getUserMedia({video:{mediaSource:"screen"}}).then(c.bind(this))["catch"](function(a){d.call(e,a)})};this._setContain=function(a){null==this.oContainer&&(this.oContainer=a);a=getCurrentTimeString();var b=this.nWidth||this.oContainer.style.width||this.oContainer.clientWidth||this.oContainer.offsetWidth||this.oContainer.scrollWidth,c=this.nHeight||this.oContainer.style.height||this.oContainer.clientHeight||this.oContainer.offsetHeight||this.oContainer.scrollHeight;this.oContainer.innerHTML='\x3ccanvas id\x3d"'+a+'__canvas" style\x3d"margin:0px;position:absolute;" width\x3d"'+b+'" height\x3d"'+c+'" \x3eDoes not support canvas;\x3c/canvas\x3e\x3cvideo id\x3d"play_'+a+'" style\x3d"position:absolute;width:'+b+"px;height: "+c+'px; display: none;" autoplay playsinline controls muted  loop\x3d"loop" \x3e\x3csource  id \x3d "srcfile1" src\x3d\'\' type\x3d"video/mp4" /\x3e\x3c/video\x3e';this.CanvasID=a+"__canvas";this.oCanvas=document.getElementById(a+"__canvas");this.oCtx=this.oCanvas.getContext("2d");this.oVideo=document.getElementById("play_"+a)};this._create=function(){null==this.oContainer&&(this.oContainer=document.createElement("DIV"),document.body.appendChild(this.oContainer),this.oContainer.style.width=this.nWidth+"px",this.oContainer.style.height=this.nHeight+"px",this.oContainer.style.display="none");this._setContain(this.oContainer)};this._create();return this}function RtpStaticsCtrl(){this.lastPlayStats=null;this.lastPublishStats={};this.rttMeasures=[];this.rttMeasures_video=[];this.data={sender:null,reciever:null};this._getrtpStats=function(d,a){navigator.mozGetUserMedia?d.getStats(function(b){var c=[];b.forEach(function(a){c.push(a)});a(c)}):d.getStats(null).then(function(b){var c=[];b.forEach(function(a){if("codec"!==a.type){var b={};Object.keys(a).forEach(function(c){b[c]=a[c]});c.push(b)}});a(c)})};this._getdumpStatsItemsInfo=function(d,a){return new Promise(function(b,c){d.getStats().then(function(c){var d={},e=[];c.forEach(function(a){if(!(-1<"codec certificate certificate media-source transport track".split(" ").indexOf(a.type))){var b={};Object.keys(a).forEach(function(c){b[c]=a[c]});e.push(b);"candidate-pair"===a.type&&(d.candidate_pair=b);"local-candidate"===a.type&&(d.local_candidate=b);"remote-candidate"===a.type&&(d.remote_candidate=b);"remote-inbound-rtp"===a.type&&(d.remote_inbound_rtp=b);"outbound-rtp"===a.type&&(d.outbound_rtp=b);"inbound-rtp"===a.type&&(d.inbound_rtp=b)}});d.items=e;a(d);b()})})};this._getdumpStatsItems=function(d,a){d.getStats().then(function(b){var c=[];b.forEach(function(a){var b={};Object.keys(a).forEach(function(c){b[c]=a[c]});c.push(b)});a(c)})};this._getReportItem=function(d){var a=[];d.names().forEach(function(b){a.push(b)});return a};this._getSenderStats=function(d,a){var b=this;d.getStats().then(function(c){var d={type:"sender"},f={};c.forEach(function(a){"outbound-rtp"===a.type&&(f.bytesSent=a.bytesSent,f.headerBytesSent=a.headerBytesSent,f.packetsSent=a.packetsSent,d.kind=a.kind);if("remote-inbound-rtp"===a.type){f.jitter=a.jitter;f.packetsLost=a.packetsLost;f.fractionLost=a.fractionLost;f.rtt=1E3*a.roundTripTime;b.rttMeasures.push(f.rtt);a=b._average(b.rttMeasures);var c=0;500<=a/2?c=1:400<=a/2?c=2:300<=a/2?c=3:200<=a/2?c=4:200>a/2&&(c=5);f.quality=c}});d.data=f;a(d)})};this._average=function(d){return d.reduce(function(a,b){return a+b},0)/d.length};this._getReceiverStats=function(d,a){d.getStats().then(function(b){var c={type:"receiver"},d={};b.forEach(function(a){"inbound-rtp"===a.type&&(d.bytesReceived=a.bytesReceived,d.headerBytesReceived=a.headerBytesReceived,d.packetsReceived=a.packetsReceived,d.jitter=a.jitter,d.packetsLost=a.packetsLost,c.kind=a.kind);"remote-outbound-rtp"===a.type&&(d.packetsSent=a.packetsSent,d.bytesSent=a.bytesSent)});c.data=d;a(c)})};this._getworkQuality=function(d){var a=0;500<=d/2?a=1:400<=d/2?a=2:300<=d/2?a=3:200<=d/2?a=4:200>d/2&&(a=5);return a};this._networkQualityTrans=function(d){return 0<=d&&.17>d?1:.17<=d&&.36>d?2:.36<=d&&.59>d?3:.59<=d&&1>=d?4:1<d?5:0};this._getEMode=function(d,a){var b=d.getRemoteStreams()[0].getAudioTracks()[0];d.getStats(b,function(b){var c={type:"sender"},d={},g;for(g in b){var h=b[g];"remote-inbound-rtp"===h.type&&(c.kind=h.kind,d.jitter=h.jitter,d.packetsLost=h.packetsLost,d.fractionLost=h.fractionLost,d.rtt=1E3*h.roundTripTime,Me.rttMeasures.push(d.rtt),h=Me._average(Me.rttMeasures),d.rtt=h,d.quality=Me._getworkQuality(h))}c.data=d;a(c)})};this._getSenderRecieverSrcStats=function(d,a){var b={},c=this;this._getdumpStatsItemsInfo(d.getSenders()[0],function(e){b.sender0=e;c._getdumpStatsItemsInfo(d.getReceivers()[0],function(e){b.reciever0=e;1>=d.getSenders().length?a(b):c._getdumpStatsItemsInfo(d.getSenders()[1],function(e){b.sender1=e;1<d.getReceivers().length?c._getdumpStatsItemsInfo(d.getReceivers()[1],function(c){b.reciever1=c;a(b)}):a(b)})})})};this._getPublishEvent=function(d,a){var b={audio:null,video:null},c=null;if(d.sender0.outbound_rtp){c={};c.timestamp=d.sender0.outbound_rtp.timestamp;c.bytesSent=d.sender0.outbound_rtp.bytesSent;c.headerBytesSent=d.sender0.outbound_rtp.headerBytesSent;if(d.sender0.remote_inbound_rtp){c.rtt=1E3*d.sender0.remote_inbound_rtp.roundTripTime;this.rttMeasures.push(c.rtt);var e=this._average(this.rttMeasures)}else c.rtt=1E3*d.sender0.candidate_pair.currentRoundTripTime,this.rttMeasures.push(c.rtt),e=this._average(this.rttMeasures);c.quality=this._getworkQuality(e)}d.reciever0.inbound_rtp&&(c.jitter=1E3*d.reciever0.inbound_rtp.jitter,c.packetsLost=d.reciever0.inbound_rtp.packetsLost,c.bytesReceived=d.reciever0.inbound_rtp.bytesReceived,c.headerBytesReceived=d.reciever0.inbound_rtp.headerBytesReceived);var f=null;d.sender1&&(f={},f.timestamp=d.sender1.outbound_rtp.timestamp,f.bytesSent=d.sender1.outbound_rtp.bytesSent,f.headerBytesSent=d.sender1.outbound_rtp.headerBytesSent,f.frameHeightSent=d.sender1.outbound_rtp.frameHeight,f.frameWidthSent=d.sender1.outbound_rtp.frameWidth,d.sender1.remote_inbound_rtp&&(f.rtt=1E3*d.sender1.remote_inbound_rtp.roundTripTime,this.rttMeasures_video.push(f.rtt),e=this._average(this.rttMeasures_video),f.quality=this._getworkQuality(e)));d.reciever1&&(f.jitter=1E3*d.reciever1.inbound_rtp.jitter,f.packetsLost=d.reciever1.inbound_rtp.packetsLost,f.bytesReceived=d.reciever1.inbound_rtp.bytesReceived,f.headerBytesReceived=d.reciever1.inbound_rtp.headerBytesReceived,f.frameHeightReceived=d.reciever1.inbound_rtp.frameHeight,f.frameWidthReceived=d.reciever1.inbound_rtp.frameWidth);b.audio=c;b.video=f;a(b)};this.getStatics=function(d,a){var b=this;this._getSenderRecieverSrcStats(d,function(c){b._getPublishEvent(c,a)})};this.clear=function(){this.lastPlayStats={audioPacketsLost:0,videoPacketsLost:0,time:0,audioTime:0,videoTime:0,audioBytesReceived:0,videoBytesReceived:0,framesDecoded:0,framesReceived:0,framesDropped:0};this.rttMeasures=[];this.rttMeasures_video=[]};return this}
(function(d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define([],d):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).io=d()})(function(){return function a(b,c,e){function f(h,l){if(!c[h]){if(!b[h]){var k="function"==typeof require&&require;if(!l&&k)return k(h,!0);if(g)return g(h,!0);k=Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k;}k=c[h]={exports:{}};b[h][0].call(k.exports,function(a){var c=b[h][1][a];return f(c?c:a)},k,k.exports,a,b,c,e)}return c[h].exports}for(var g="function"==typeof require&&require,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){b.exports=a("./lib/")},{"./lib/":2}],2:[function(a,b,c){b.exports=a("./socket");b.exports.parser=a("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(a,b,c){(function(c){function e(a,b){if(!(this instanceof e))return new e(a,b);b=b||{};a&&"object"==typeof a&&(b=a,a=null);a?(a=q(a),b.hostname=a.host,b.secure="https"==a.protocol||"wss"==a.protocol,b.port=a.port,a.query&&(b.query=a.query)):b.host&&(b.hostname=q(b.host).host);this.secure=null!=b.secure?b.secure:c.location&&"https:"==location.protocol;b.hostname&&!b.port&&(b.port=this.secure?"443":"80");this.agent=b.agent||!1;this.hostname=b.hostname||(c.location?location.hostname:"localhost");this.port=b.port||(c.location&&location.port?location.port:this.secure?443:80);this.query=b.query||{};"string"==typeof this.query&&(this.query=n.decode(this.query));this.upgrade=!1!==b.upgrade;this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!b.forceJSONP;this.jsonp=!1!==b.jsonp;this.forceBase64=!!b.forceBase64;this.enablesXDR=!!b.enablesXDR;this.timestampParam=b.timestampParam||"t";this.timestampRequests=b.timestampRequests;this.transports=b.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.policyPort=b.policyPort||843;this.rememberUpgrade=b.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=b.onlyBinaryUpgrades;this.perMessageDeflate=!1!==b.perMessageDeflate?b.perMessageDeflate||{}:!1;this.directory=b.directory;!0===this.perMessageDeflate&&(this.perMessageDeflate={});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=b.pfx||null;this.key=b.key||null;this.passphrase=b.passphrase||null;this.cert=b.cert||null;this.ca=b.ca||null;this.ciphers=b.ciphers||null;this.rejectUnauthorized=void 0===b.rejectUnauthorized?!0:b.rejectUnauthorized;var g="object"==typeof c&&c;g.global===g&&b.extraHeaders&&0<Object.keys(b.extraHeaders).length&&(this.extraHeaders=b.extraHeaders);this.open()}var g=a("./transports"),h=a("component-emitter"),k=a("debug")("engine.io-client:socket"),l=a("indexof"),m=a("engine.io-parser"),q=a("parseuri"),p=a("parsejson"),n=a("parseqs");b.exports=e;e.priorWebsocketSuccess=!1;h(e.prototype);e.protocol=m.protocol;e.Socket=e;e.Transport=a("./transport");e.transports=a("./transports");e.parser=a("engine.io-parser");e.prototype.createTransport=function(a){k('creating transport "%s"',a);var b=this.query,c={},e;for(e in b)b.hasOwnProperty(e)&&(c[e]=b[e]);c.EIO=m.protocol;c.transport=a;this.id&&(c.sid=this.id);return new g[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,directory:this.directory,query:c,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})};e.prototype.open=function(){var a;if(this.rememberUpgrade&&e.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0===this.transports.length){var b=this;setTimeout(function(){b.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(v){this.transports.shift();this.open();return}a.open();this.setTransport(a)};e.prototype.setTransport=function(a){k("setting transport %s",a.name);var b=this;this.transport&&(k("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})};e.prototype.probe=function(a){function b(){if(q.onlyBinaryUpgrades){var b=!this.supportsBinary&&q.transport.supportsBinary;m=m||b}m||(k('probe transport "%s" opened',a),n.send([{type:"ping",data:"probe"}]),n.once("packet",function(b){m||("pong"==b.type&&"probe"==b.data?(k('probe transport "%s" pong',a),q.upgrading=!0,q.emit("upgrading",n),n&&(e.priorWebsocketSuccess="websocket"==n.name,k('pausing current transport "%s"',q.transport.name),q.transport.pause(function(){m||"closed"==q.readyState||(k("changing transport and sending upgrade packet"),l(),q.setTransport(n),n.send([{type:"upgrade"}]),q.emit("upgrade",n),n=null,q.upgrading=!1,q.flush())}))):(k('probe transport "%s" failed',a),b=Error("probe error"),b.transport=n.name,q.emit("upgradeError",b)))}))}function c(){m||(m=!0,l(),n.close(),n=null)}function g(b){var e=Error("probe error: "+b);e.transport=n.name;c();k('probe transport "%s" failed because of error: %s',a,b);q.emit("upgradeError",e)}function f(){g("transport closed")}function h(){g("socket closed")}function t(a){n&&a.name!=n.name&&(k('"%s" works - aborting "%s"',a.name,n.name),c())}function l(){n.removeListener("open",b);n.removeListener("error",g);n.removeListener("close",f);q.removeListener("close",h);q.removeListener("upgrading",t)}k('probing transport "%s"',a);var n=this.createTransport(a,{probe:1}),m=!1,q=this;e.priorWebsocketSuccess=!1;n.once("open",b);n.once("error",g);n.once("close",f);this.once("close",h);this.once("upgrading",t);n.open()};e.prototype.onOpen=function(){k("socket open");this.readyState="open";e.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){k("starting upgrade probes");for(var a=0,b=this.upgrades.length;a<b;a++)this.probe(this.upgrades[a])}};e.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(k('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(p(a.data));break;case "pong":this.setPing();this.emit("pong");break;case "error":var b=Error("server error");b.code=a.data;this.onError(b);break;case "message":this.emit("data",a.data),this.emit("message",a.data)}else k('packet received with socket readyState "%s"',this.readyState)};e.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};e.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){if("closed"!=b.readyState)b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)};e.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){k("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};e.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})};e.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};e.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(k("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};e.prototype.write=e.prototype.send=function(a,b,c){this.sendPacket("message",a,b,c);return this};e.prototype.sendPacket=function(a,b,c,e){"function"==typeof b&&(e=b,b=void 0);"function"==typeof c&&(e=c,c=null);if("closing"!=this.readyState&&"closed"!=this.readyState){c=c||{};c.compress=!1!==c.compress;a={type:a,data:b,options:c};this.emit("packetCreate",a);this.writeBuffer.push(a);if(e)this.once("flush",e);this.flush()}};e.prototype.close=function(){function a(){e.onClose("forced close");k("socket closing - telling transport to close");e.transport.close()}function b(){e.removeListener("upgrade",b);e.removeListener("upgradeError",b);a()}function c(){e.once("upgrade",b);e.once("upgradeError",b)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var e=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?c():a()});else this.upgrading?c():a()}return this};e.prototype.onError=function(a){k("socket error %j",a);e.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};e.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState)k('socket close with reason: "%s"',a),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b),this.writeBuffer=[],this.prevBufferLen=0};e.prototype.filterUpgrades=function(a){for(var b=[],c=0,e=a.length;c<e;c++)~l(this.transports,a[c])&&b.push(a[c]);return b}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(a,b,c){function e(a){this.path=a.path;this.hostname=a.hostname;this.directory=a.directory;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders}var f=a("engine.io-parser");a=a("component-emitter");b.exports=e;a(e.prototype);e.prototype.onError=function(a,b){var c=Error(a);c.type="TransportError";c.description=b;this.emit("error",c);return this};e.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};e.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};e.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};e.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};e.prototype.onData=function(a){a=f.decodePacket(a,this.socket.binaryType);this.onPacket(a)};e.prototype.onPacket=function(a){this.emit("packet",a)};e.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(a,b,c){(function(b){var e=a("xmlhttprequest-ssl"),g=a("./polling-xhr"),h=a("./polling-jsonp"),k=a("./websocket");c.polling=function(a){var c=!1,f=!1,k=!1!==a.jsonp;b.location&&(f="https:"==location.protocol,(c=location.port)||(c=f?443:80),c=a.hostname!=location.hostname||c!=a.port,f=a.secure!=f);a.xdomain=c;a.xscheme=f;if("open"in new e(a)&&!a.forceJSONP)return new g(a);if(!k)throw Error("JSONP disabled");return new h(a)};c.websocket=k}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(a,b,c){(function(c){function e(){}function g(a){h.call(this,a);this.query=this.query||{};q||(c.___eio||(c.___eio=[]),q=c.___eio);this.index=q.length;var b=this;q.push(function(a){b.onData(a)});this.query.j=this.index;c.document&&c.addEventListener&&c.addEventListener("beforeunload",function(){b.script&&(b.script.onerror=e)},!1)}var h=a("./polling"),k=a("component-inherit");b.exports=g;var l=/\n/g,m=/\\n/g,q;k(g,h);g.prototype.supportsBinary=!1;g.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null);h.prototype.doClose.call(this)};g.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);b.async=!0;b.src=this.uri();b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(b,c):(document.head||document.body).appendChild(b);this.script=b;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};g.prototype.doWrite=function(a,b){function c(){e();b()}function e(){if(f.iframe)try{f.form.removeChild(f.iframe)}catch(I){f.onError("jsonp polling iframe removal error",I)}try{n=document.createElement('\x3ciframe src\x3d"javascript:0" name\x3d"'+f.iframeId+'"\x3e')}catch(I){n=document.createElement("iframe"),n.name=f.iframeId,n.src="javascript:0"}n.id=f.iframeId;f.form.appendChild(n);f.iframe=n}var f=this;if(!this.form){var g=document.createElement("form"),h=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index,n;g.className="socketio";g.style.position="absolute";g.style.top="-1000px";g.style.left="-1000px";g.target=k;g.method="POST";g.setAttribute("accept-charset","utf-8");h.name="d";g.appendChild(h);document.body.appendChild(g);this.form=g;this.area=h}this.form.action=this.uri();e();a=a.replace(m,"\\\n");this.area.value=a.replace(l,"\\n");try{this.form.submit()}catch(I){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==f.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(a,b,c){(function(c){function e(){}function g(a){m.call(this,a);if(c.location){var b="https:"==location.protocol,e=location.port;e||(e=b?443:80);this.xd=a.hostname!=c.location.hostname||e!=a.port;this.xs=a.secure!=b}else this.extraHeaders=a.extraHeaders}function h(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders;this.create()}function k(){for(var a in h.requests)h.requests.hasOwnProperty(a)&&h.requests[a].abort()}var l=a("xmlhttprequest-ssl"),m=a("./polling"),q=a("component-emitter"),p=a("component-inherit"),n=a("debug")("engine.io-client:polling-xhr");b.exports=g;b.exports.Request=h;p(g,m);g.prototype.supportsBinary=!0;g.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;a.extraHeaders=this.extraHeaders;return new h(a)};g.prototype.doWrite=function(a,b){var c=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),e=this;c.on("success",b);c.on("error",function(a){e.onError("xhr post error",a)});this.sendXhr=c};g.prototype.doPoll=function(){n("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)});a.on("error",function(a){b.onError("xhr poll error",a)});this.pollXhr=a};q(h.prototype);h.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;var b=this.xhr=new l(a),e=this;try{n("xhr open %s: %s",this.method,this.uri);b.open(this.method,this.uri,this.async);try{if(this.extraHeaders){b.setDisableHeaderCheck(!0);for(var f in this.extraHeaders)this.extraHeaders.hasOwnProperty(f)&&b.setRequestHeader(f,this.extraHeaders[f])}}catch(y){}this.supportsBinary&&(b.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?b.setRequestHeader("Content-type","application/octet-stream"):b.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8")}catch(y){}"withCredentials"in b&&(b.withCredentials=!0);this.hasXDR()?(b.onload=function(){e.onLoad()},b.onerror=function(){e.onError(b.responseText)}):b.onreadystatechange=function(){if(4==b.readyState)if(200==b.status||1223==b.status)e.onLoad();else setTimeout(function(){e.onError(b.status)},0)};n("xhr data %s",this.data);b.send(this.data)}catch(y){setTimeout(function(){e.onError(y)},0);return}c.document&&(this.index=h.requestsCount++,h.requests[this.index]=this)};h.prototype.onSuccess=function(){this.emit("success");this.cleanup()};h.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};h.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};h.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=e:this.xhr.onreadystatechange=e;if(a)try{this.xhr.abort()}catch(u){}c.document&&delete h.requests[this.index];this.xhr=null}};h.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(w){}if("application/octet-stream"===b)a=this.xhr.response;else if(this.supportsBinary)try{a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(w){var c=new Uint8Array(this.xhr.response);b=[];for(var e=0,f=c.length;e<f;e++)b.push(c[e]);a=String.fromCharCode.apply(null,b)}else a=this.xhr.responseText}catch(w){this.onError(w)}if(null!=a)this.onData(a)};h.prototype.hasXDR=function(){return"undefined"!==typeof c.XDomainRequest&&!this.xs&&this.enablesXDR};h.prototype.abort=function(){this.cleanup()};c.document&&(h.requestsCount=0,h.requests={},c.attachEvent?c.attachEvent("onunload",k):c.addEventListener&&c.addEventListener("beforeunload",k,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(a,b,c){function e(a){var b=a&&a.forceBase64;if(!m||b)this.supportsBinary=!1;f.call(this,a)}var f=a("../transport"),g=a("parseqs"),h=a("engine.io-parser");c=a("component-inherit");var k=a("yeast"),l=a("debug")("engine.io-client:polling");b.exports=e;var m=null!=(new (a("xmlhttprequest-ssl"))({xdomain:!1})).responseType;c(e,f);e.prototype.name="polling";e.prototype.doOpen=function(){this.poll()};e.prototype.pause=function(a){function b(){l("paused");c.readyState="paused";a()}var c=this;this.readyState="pausing";if(this.polling||!this.writable){var e=0;this.polling&&(l("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){l("pre-pause polling complete");--e||b()}));this.writable||(l("we are currently writing - waiting to pause"),e++,this.once("drain",function(){l("pre-pause writing complete");--e||b()}))}else b()};e.prototype.poll=function(){l("polling");this.polling=!0;this.doPoll();this.emit("poll")};e.prototype.onData=function(a){var b=this;l("polling got data %s",a);h.decodePayload(a,this.socket.binaryType,function(a,c,e){if("opening"==b.readyState)b.onOpen();if("close"==a.type)return b.onClose(),!1;b.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))};e.prototype.doClose=function(){function a(){l("writing close packet");b.write([{type:"close"}])}var b=this;"open"==this.readyState?(l("transport open - closing"),a()):(l("transport not open - deferring close"),this.once("open",a))};e.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0;b.emit("drain")},b=this;h.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})};e.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="",e=this.directory;!1!==this.timestampRequests&&(a[this.timestampParam]=k());this.supportsBinary||a.sid||(a.b64=1);a=g.encode(a);this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(c=":"+this.port);a.length&&(a="?"+a);e.length&&(e="/"+e);var f=-1!==this.hostname.indexOf(":");return b+"://"+(f?"["+this.hostname+"]":this.hostname)+c+e+this.path+a}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(a,b,c){(function(c){function e(a){a&&a.forceBase64&&(this.supportsBinary=!1);this.perMessageDeflate=a.perMessageDeflate;g.call(this,a)}var g=a("../transport"),h=a("engine.io-parser"),k=a("parseqs"),l=a("component-inherit"),m=a("yeast"),q=a("debug")("engine.io-client:websocket"),p=c.WebSocket||c.MozWebSocket,n=p;if(!n&&"undefined"===typeof window)try{n=a("ws")}catch(t){}b.exports=e;l(e,g);e.prototype.name="websocket";e.prototype.supportsBinary=!0;e.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b={agent:this.agent,perMessageDeflate:this.perMessageDeflate};b.pfx=this.pfx;b.key=this.key;b.passphrase=this.passphrase;b.cert=this.cert;b.ca=this.ca;b.ciphers=this.ciphers;b.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(b.headers=this.extraHeaders);this.ws=p?new n(a):new n(a,void 0,b);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};e.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(b){a.onData(b.data)};this.ws.onerror=function(b){a.onError("websocket error",b)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(e.prototype.onData=function(a){var b=this;setTimeout(function(){g.prototype.onData.call(b,a)},0)});e.prototype.write=function(a){function b(){e.emit("flush");setTimeout(function(){e.writable=!0;e.emit("drain")},0)}var e=this;this.writable=!1;for(var g=a.length,f=0,k=g;f<k;f++)(function(a){h.encodePacket(a,e.supportsBinary,function(f){if(!p){var h={};a.options&&(h.compress=a.options.compress);e.perMessageDeflate&&("string"==typeof f?c.Buffer.byteLength(f):f.length)<e.perMessageDeflate.threshold&&(h.compress=!1)}try{p?e.ws.send(f):e.ws.send(f,h)}catch(O){q("websocket closed before onclose event")}--g||b()})})(a[f])};e.prototype.onClose=function(){g.prototype.onClose.call(this)};e.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};e.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(c=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=m());this.supportsBinary||(a.b64=1);a=k.encode(a);a.length&&(a="?"+a);var e=-1!==this.hostname.indexOf(":");return b+"://"+(e?"["+this.hostname+"]":this.hostname)+c+(""==this.socket.directory?"":"/"+this.socket.directory)+this.path+a};e.prototype.check=function(){return!!n&&!("__initialize"in n&&this.name===e.prototype.name)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(a,b,c){var e=a("has-cors");b.exports=function(a){var b=a.xdomain,c=a.xscheme;a=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!b||e))return new XMLHttpRequest}catch(k){}try{if("undefined"!=typeof XDomainRequest&&!c&&a)return new XDomainRequest}catch(k){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(k){}}},{"has-cors":22}],11:[function(a,b,c){function e(){}b.exports=function(a,b,c){function f(a,e){if(0>=f.count)throw Error("after called too many times");--f.count;a?(g=!0,b(a),b=c):0!==f.count||g||b(null,e)}var g=!1;c=c||e;f.count=a;return 0===a?b():f}},{}],12:[function(a,b,c){b.exports=function(a,b,c){var e=a.byteLength;b=b||0;c=c||e;if(a.slice)return a.slice(b,c);0>b&&(b+=e);0>c&&(c+=e);c>e&&(c=e);if(b>=e||b>=c||0===e)return new ArrayBuffer(0);a=new Uint8Array(a);for(var e=new Uint8Array(c-b),f=0;b<c;b++,f++)e[f]=a[b];return e.buffer}},{}],13:[function(a,b,c){(function(a){c.encode=function(b){b=new Uint8Array(b);var c,e=b.length,f="";for(c=0;c<e;c+=3)f+=a[b[c]>>2],f+=a[(b[c]&3)<<4|b[c+1]>>4],f+=a[(b[c+1]&15)<<2|b[c+2]>>6],f+=a[b[c+2]&63];2===e%3?f=f.substring(0,f.length-1)+"\x3d":1===e%3&&(f=f.substring(0,f.length-2)+"\x3d\x3d");return f};c.decode=function(b){var c=.75*b.length,e=b.length,f=0,l,m,q,p;"\x3d"===b[b.length-1]&&(c--,"\x3d"===b[b.length-2]&&c--);for(var n=new ArrayBuffer(c),t=new Uint8Array(n),c=0;c<e;c+=4)l=a.indexOf(b[c]),m=a.indexOf(b[c+1]),q=a.indexOf(b[c+2]),p=a.indexOf(b[c+3]),t[f++]=l<<2|m>>4,t[f++]=(m&15)<<4|q>>2,t[f++]=(q&3)<<6|p&63;return n}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(a,b,c){(function(a){function c(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var e=c.buffer;if(c.byteLength!==e.byteLength){var f=new Uint8Array(c.byteLength);f.set(new Uint8Array(e,c.byteOffset,c.byteLength));e=f.buffer}a[b]=e}}}function e(a,b){b=b||{};var e=new k;c(a);for(var f=0;f<a.length;f++)e.append(a[f]);return b.type?e.getBlob(b.type):e.getBlob()}function h(a,b){c(a);return new Blob(a,b||{})}var k=a.BlobBuilder||a.WebKitBlobBuilder||a.MSBlobBuilder||a.MozBlobBuilder,l;try{l=2===(new Blob(["hi"])).size}catch(p){l=!1}var m;if(m=l)try{m=2===(new Blob([new Uint8Array([1,2])])).size}catch(p){m=!1}var q=k&&k.prototype.append&&k.prototype.getBlob;a=l?m?a.Blob:h:q?e:void 0;b.exports=a}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],15:[function(a,b,c){function e(a){if(a){for(var b in e.prototype)a[b]=e.prototype[b];return a}}b.exports=e;e.prototype.on=e.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};e.prototype.once=function(a,b){function c(){e.off(a,c);b.apply(this,arguments)}var e=this;this._callbacks=this._callbacks||{};c.fn=b;this.on(a,c);return this};e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var e,f=0;f<c.length;f++)if(e=c[f],e===b||e.fn===b){c.splice(f,1);break}return this};e.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c)for(var c=c.slice(0),e=0,f=c.length;e<f;++e)c[e].apply(this,b);return this};e.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};e.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],16:[function(a,b,c){b.exports=function(a,b){var c=function(){};c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a}},{}],17:[function(a,b,c){function e(){var a;try{a=c.storage.debug}catch(h){}return a}c=b.exports=a("./debug");c.log=function(){"undefined"==typeof g_consoleFlag2&&(g_consoleFlag2=0);if(0!=g_consoleFlag2)return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};c.formatArgs=function(){var a=arguments,b=this.useColors;a[0]=(b?"%c":"")+this.namespace+(b?" %c":" ")+a[0]+(b?"%c ":" ")+"+"+c.humanize(this.diff);if(!b)return a;var b="color: "+this.color,a=[a[0],b,"color: inherit"].concat(Array.prototype.slice.call(a,1)),e=0,f=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))});a.splice(f,0,b);return a};c.save=function(a){try{null==a?c.storage.removeItem("debug"):c.storage.debug=a}catch(h){}};c.load=e;c.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var f;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)f=chrome.storage.local;else a:{try{f=window.localStorage;break a}catch(g){}f=void 0}c.storage=f;c.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");c.formatters.j=function(a){return JSON.stringify(a)};c.enable(e())},{"./debug":18}],18:[function(a,b,c){c=b.exports=function(a){function b(){}function g(){var a=+new Date;g.diff=a-(f||a);g.prev=f;f=g.curr=a;null==g.useColors&&(g.useColors=c.useColors());null==g.color&&g.useColors&&(g.color=c.colors[e++%c.colors.length]);var b=Array.prototype.slice.call(arguments);b[0]=c.coerce(b[0]);"string"!==typeof b[0]&&(b=["%o"].concat(b));var h=0;b[0]=b[0].replace(/%([a-z%])/g,function(a,e){if("%%"===a)return a;h++;var f=c.formatters[e];"function"===typeof f&&(a=f.call(g,b[h]),b.splice(h,1),h--);return a});"function"===typeof c.formatArgs&&(b=c.formatArgs.apply(g,b));(g.log||c.log||console.log.bind(console)).apply(g,b)}b.enabled=!1;g.enabled=!0;var l=c.enabled(a)?g:b;l.namespace=a;return l};c.coerce=function(a){return a instanceof Error?a.stack||a.message:a};c.disable=function(){c.enable("")};c.enable=function(a){c.save(a);for(var b=(a||"").split(/[\s,]+/),e=b.length,f=0;f<e;f++)b[f]&&(a=b[f].replace(/\*/g,".*?"),"-"===a[0]?c.skips.push(new RegExp("^"+a.substr(1)+"$")):c.names.push(new RegExp("^"+a+"$")))};c.enabled=function(a){var b,e;b=0;for(e=c.skips.length;b<e;b++)if(c.skips[b].test(a))return!1;b=0;for(e=c.names.length;b<e;b++)if(c.names[b].test(a))return!0;return!1};c.humanize=a("ms");c.names=[];c.skips=[];c.formatters={};var e=0,f},{ms:25}],19:[function(a,b,c){(function(b){function e(a,b,e){if(!b)return c.encodeBase64Packet(a,e);var f=new FileReader;f.onload=function(){a.data=f.result;c.encodePacket(a,b,!0,e)};return f.readAsArrayBuffer(a.data)}function g(a,b,c){var e=Array(a.length);c=q(a.length,c);for(var f=function(a,c,f){b(c,function(b,c){e[a]=c;f(b,e)})},g=0;g<a.length;g++)f(g,a[g],c)}var h=a("./keys"),k=a("has-binary"),l=a("arraybuffer.slice"),m=a("base64-arraybuffer"),q=a("after"),p=a("utf8"),n=navigator.userAgent.match(/Android/i),t=/PhantomJS/i.test(navigator.userAgent),u=n||t;c.protocol=3;var v=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},z=h(v),y={type:"error",data:"parser error"},w=a("blob");c.encodePacket=function(a,f,g,h){"function"==typeof f&&(h=f,f=!1);"function"==typeof g&&(h=g,g=null);var k=void 0===a.data?void 0:a.data.buffer||a.data;if(b.ArrayBuffer&&k instanceof ArrayBuffer){if(f){g=a.data;f=new Uint8Array(g);g=new Uint8Array(1+g.byteLength);g[0]=v[a.type];for(a=0;a<f.length;a++)g[a+1]=f[a];a=h(g.buffer)}else a=c.encodeBase64Packet(a,h);return a}if(w&&k instanceof b.Blob)return f?u?a=e(a,f,h):(f=new Uint8Array(1),f[0]=v[a.type],a=new w([f.buffer,a.data]),a=h(a)):a=c.encodeBase64Packet(a,h),a;if(k&&k.base64)return h("b"+c.packets[a.type]+a.data.data);f=v[a.type];void 0!==a.data&&(f+=g?p.encode(String(a.data)):String(a.data));return h(""+f)};c.encodeBase64Packet=function(a,e){var f="b"+c.packets[a.type];if(w&&a.data instanceof b.Blob){var g=new FileReader;g.onload=function(){var a=g.result.split(",")[1];e(f+a)};return g.readAsDataURL(a.data)}var h;try{h=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(H){h=new Uint8Array(a.data);for(var k=Array(h.length),l=0;l<h.length;l++)k[l]=h[l];h=String.fromCharCode.apply(null,k)}f+=b.btoa(h);return e(f)};c.decodePacket=function(a,b,e){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);if(e)try{a=p.decode(a)}catch(O){return y}e=a.charAt(0);return Number(e)==e&&z[e]?1<a.length?{type:z[e],data:a.substring(1)}:{type:z[e]}:y}e=(new Uint8Array(a))[0];a=l(a,1);w&&"blob"===b&&(a=new w([a]));return{type:z[e],data:a}};c.decodeBase64Packet=function(a,c){var e=z[a.charAt(0)];if(!b.ArrayBuffer)return{type:e,data:{base64:!0,data:a.substr(1)}};var f=m.decode(a.substr(1));"blob"===c&&w&&(f=new w([f]));return{type:e,data:f}};c.encodePayload=function(a,b,e){"function"==typeof b&&(e=b,b=null);var f=k(a);if(b&&f)return w&&!u?c.encodePayloadAsBlob(a,e):c.encodePayloadAsArrayBuffer(a,e);if(!a.length)return e("0:");g(a,function(a,e){c.encodePacket(a,f?b:!1,!0,function(a){e(null,a.length+":"+a)})},function(a,b){return e(b.join(""))})};c.decodePayload=function(a,b,e){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,e);"function"===typeof b&&(e=b,b=null);var f;if(""==a)return e(y,0,1);f="";for(var g,h,k=0,l=a.length;k<l;k++)if(h=a.charAt(k),":"!=h)f+=h;else{if(""==f||f!=(g=Number(f)))return e(y,0,1);h=a.substr(k+1,g);if(f!=h.length)return e(y,0,1);if(h.length){f=c.decodePacket(h,b,!0);if(y.type==f.type&&y.data==f.data)return e(y,0,1);if(!1===e(f,k+g,l))return}k+=g;f=""}if(""!=f)return e(y,0,1)};c.encodePayloadAsArrayBuffer=function(a,b){if(!a.length)return b(new ArrayBuffer(0));g(a,function(a,b){c.encodePacket(a,!0,!0,function(a){return b(null,a)})},function(a,c){var e=c.reduce(function(a,b){var c;c="string"===typeof b?b.length:b.byteLength;return a+c.toString().length+c+2},0),f=new Uint8Array(e),g=0;c.forEach(function(a){var b="string"===typeof a,c=a;if(b){for(var c=new Uint8Array(a.length),e=0;e<a.length;e++)c[e]=a.charCodeAt(e);c=c.buffer}b?f[g++]=0:f[g++]=1;a=c.byteLength.toString();for(e=0;e<a.length;e++)f[g++]=parseInt(a[e]);f[g++]=255;c=new Uint8Array(c);for(e=0;e<c.length;e++)f[g++]=c[e]});return b(f.buffer)})};c.encodePayloadAsBlob=function(a,b){g(a,function(a,b){c.encodePacket(a,!0,!0,function(a){var c=new Uint8Array(1);c[0]=1;if("string"===typeof a){for(var e=new Uint8Array(a.length),f=0;f<a.length;f++)e[f]=a.charCodeAt(f);a=e.buffer;c[0]=0}for(var e=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),g=new Uint8Array(e.length+1),f=0;f<e.length;f++)g[f]=parseInt(e[f]);g[e.length]=255;w&&(a=new w([c.buffer,g.buffer,a]),b(null,a))})},function(a,c){return b(new w(c))})};c.decodePayloadAsBinary=function(a,b,e){"function"===typeof b&&(e=b,b=null);for(var f=[],g=!1;0<a.byteLength;){for(var h=new Uint8Array(a),k=0===h[0],n="",t=1;255!=h[t];t++){if(310<n.length){g=!0;break}n+=h[t]}if(g)return e(y,0,1);a=l(a,2+n.length);n=parseInt(n);h=l(a,0,n);if(k)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(J){for(k=new Uint8Array(h),h="",t=0;t<k.length;t++)h+=String.fromCharCode(k[t])}f.push(h);a=l(a,n)}var m=f.length;f.forEach(function(a,f){e(c.decodePacket(a,b,!0),f,m)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(a,b,c){b.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty,e;for(e in a)c.call(a,e)&&b.push(e);return b}},{}],21:[function(a,b,c){(function(c){var e=a("isarray");b.exports=function(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a))for(var f=0;f<a.length;f++){if(b(a[f]))return!0}else if(a&&"object"==typeof a)for(f in a.toJSON&&(a=a.toJSON()),a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0;return!1}return b(a)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{isarray:24}],22:[function(a,b,c){try{b.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){b.exports=!1}},{}],23:[function(a,b,c){var e=[].indexOf;b.exports=function(a,b){if(e)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],24:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],25:[function(a,b,c){function e(a){a=""+a;if(!(1E4<a.length)&&(a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a))){var b=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*b;case "days":case "day":case "d":return 864E5*b;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*b;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*b;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*b;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return b}}}function f(a,b,c){if(!(a<b))return a<1.5*b?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}b.exports=function(a,b){b=b||{};return"string"==typeof a?e(a):b["long"]?f(a,864E5,"day")||f(a,36E5,"hour")||f(a,6E4,"minute")||f(a,1E3,"second")||a+" ms":864E5<=a?Math.round(a/864E5)+"d":36E5<=a?Math.round(a/36E5)+"h":6E4<=a?Math.round(a/6E4)+"m":1E3<=a?Math.round(a/1E3)+"s":a+"ms"}},{}],26:[function(a,b,c){(function(a){var c=/^[\],:{}\s]*$/,e=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,h=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,k=/(?:^|:|,)(?:\s*\[)+/g,l=/^\s+/,m=/\s+$/;b.exports=function(b){if("string"!=typeof b||!b)return null;b=b.replace(l,"").replace(m,"");if(a.JSON&&JSON.parse)return JSON.parse(b);if(c.test(b.replace(e,"@").replace(h,"]").replace(k,"")))return(new Function("return "+b))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],27:[function(a,b,c){c.encode=function(a){var b="",c;for(c in a)a.hasOwnProperty(c)&&(b.length&&(b+="\x26"),b+=encodeURIComponent(c)+"\x3d"+encodeURIComponent(a[c]));return b};c.decode=function(a){var b={};a=a.split("\x26");for(var c=0,e=a.length;c<e;c++){var k=a[c].split("\x3d");b[decodeURIComponent(k[0])]=decodeURIComponent(k[1])}return b}},{}],28:[function(a,b,c){var e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");b.exports=function(a){var b=a,c=a.indexOf("["),g=a.indexOf("]");-1!=c&&-1!=g&&(a=a.substring(0,c)+a.substring(c,g).replace(/:/g,";")+a.substring(g,a.length));a=e.exec(a||"");for(var m={},q=14;q--;)m[f[q]]=a[q]||"";-1!=c&&-1!=g&&(m.source=b,m.host=m.host.substring(1,m.host.length-1).replace(/;/g,":"),m.authority=m.authority.replace("[","").replace("]","").replace(/;/g,":"),m.ipv6uri=!0);return m}},{}],29:[function(a,b,c){(function(a){(function(e){function f(a){for(var b=[],c=0,e=a.length,f,g;c<e;)f=a.charCodeAt(c++),55296<=f&&56319>=f&&c<e?(g=a.charCodeAt(c++),56320==(g&64512)?b.push(((f&1023)<<10)+(g&1023)+65536):(b.push(f),c--)):b.push(f);return b}function h(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function k(){if(v>=u)throw Error("Invalid byte index");var a=t[v]&255;v++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function l(){var a,b,c,e;if(v>u)throw Error("Invalid byte index");if(v==u)return!1;a=t[v]&255;v++;if(0==(a&128))return a;if(192==(a&224)){b=k();a=(a&31)<<6|b;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){b=k();c=k();a=(a&15)<<12|b<<6|c;if(2048<=a)return h(a),a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(b=k(),c=k(),e=k(),a=(a&15)<<18|b<<12|c<<6|e,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var m="object"==typeof c&&c,q="object"==typeof b&&b&&b.exports==m&&b,p="object"==typeof a&&a;if(p.global===p||p.window===p)e=p;var n=String.fromCharCode,t,u,v,p={version:"2.0.0",encode:function(a){a=f(a);for(var b=a.length,c=-1,e,g="";++c<b;){e=a[c];if(0==(e&4294967168))e=n(e);else{var k="";0==(e&4294965248)?k=n(e>>6&31|192):0==(e&4294901760)?(h(e),k=n(e>>12&15|224),k+=n(e>>6&63|128)):0==(e&4292870144)&&(k=n(e>>18&7|240),k+=n(e>>12&63|128),k+=n(e>>6&63|128));e=k+=n(e&63|128)}g+=e}return g},decode:function(a){t=f(a);u=t.length;v=0;a=[];for(var b;!1!==(b=l());)a.push(b);b=a.length;for(var c=-1,e,g="";++c<b;)e=a[c],65535<e&&(e-=65536,g+=n(e>>>10&1023|55296),e=56320|e&1023),g+=n(e);return g}};if(m&&!m.nodeType)if(q)q.exports=p;else{e={}.hasOwnProperty;for(var z in p)e.call(p,z)&&(m[z]=p[z])}else e.utf8=p})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],30:[function(a,b,c){function e(a){var b="";do b=g[a%64]+b,a=Math.floor(a/64);while(0<a);return b}function f(){var a=e(+new Date);return a!==m?(k=0,m=a):a+"."+e(k++)}for(var g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),h={},k=0,l=0,m;64>l;l++)h[g[l]]=l;f.encode=e;f.decode=function(a){var b=0;for(l=0;l<a.length;l++)b=64*b+h[a.charAt(l)];return b};b.exports=f},{}],31:[function(a,b,c){function e(a,b){"object"==typeof a&&(b=a,a=void 0);b=b||{};var c=f(a),e=c.source,g=c.id,m=c.path,m=l[g]&&m in l[g].nsps;b.forceNew||b["force new connection"]||!1===b.multiplex||m?(k("ignoring socket cache for %s",e),e=h(e,b)):(l[g]||(k("new io instance for %s",e),l[g]=h(e,b)),e=l[g]);return e.socket(c.path)}var f=a("./url"),g=a("socket.io-parser"),h=a("./manager"),k=a("debug")("socket.io-client");b.exports=c=e;var l=c.managers={};c.protocol=g.protocol;c.connect=e;c.Manager=a("./manager");c.Socket=a("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(a,b,c){function e(a,b){if(!(this instanceof e))return new e(a,b);a&&"object"==typeof a&&(b=a,a=void 0);b=b||{};b.path=b.path||"/socket.io";this.nsps={};this.subs=[];this.opts=b;this.reconnection(!1!==b.reconnection);this.reconnectionAttempts(b.reconnectionAttempts||Infinity);this.reconnectionDelay(b.reconnectionDelay||1E3);this.reconnectionDelayMax(b.reconnectionDelayMax||5E3);this.randomizationFactor(b.randomizationFactor||.5);this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==b.timeout?2E4:b.timeout);this.readyState="closed";this.uri=a;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];this.encoder=new h.Encoder;this.decoder=new h.Decoder;(this.autoConnect=!1!==b.autoConnect)&&this.open()}var f=a("engine.io-client"),g=a("./socket");c=a("component-emitter");var h=a("socket.io-parser"),k=a("./on"),l=a("component-bind"),m=a("debug")("socket.io-client:manager"),q=a("indexof"),p=a("backo2"),n=Object.prototype.hasOwnProperty;b.exports=e;e.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)n.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)};e.prototype.updateSocketIds=function(){for(var a in this.nsps)n.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)};c(e.prototype);e.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};e.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};e.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);return this};e.prototype.randomizationFactor=function(a){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);return this};e.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};e.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};e.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};e.prototype.open=e.prototype.connect=function(a){m("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;m("opening %s",this.uri);var b=this.engine=f(this.uri,this.opts),c=this;this.readyState="opening";this.skipReconnect=!1;var e=k(b,"open",function(){c.onopen();a&&a()}),g=k(b,"error",function(b){m("connect_error");c.cleanup();c.readyState="closed";c.emitAll("connect_error",b);if(a){var e=Error("Connection error");e.data=b;a(e)}else c.maybeReconnectOnOpen()});if(!1!==this._timeout){var h=this._timeout;m("connect attempt will timeout after %d",h);var l=setTimeout(function(){m("connect attempt timed out after %d",h);e.destroy();b.close();b.emit("error","timeout");c.emitAll("connect_timeout",h)},h);this.subs.push({destroy:function(){clearTimeout(l)}})}this.subs.push(e);this.subs.push(g);return this};e.prototype.onopen=function(){m("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(k(a,"data",l(this,"ondata")));this.subs.push(k(a,"ping",l(this,"onping")));this.subs.push(k(a,"pong",l(this,"onpong")));this.subs.push(k(a,"error",l(this,"onerror")));this.subs.push(k(a,"close",l(this,"onclose")));this.subs.push(k(this.decoder,"decoded",l(this,"ondecoded")))};e.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};e.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};e.prototype.ondata=function(a){this.decoder.add(a)};e.prototype.ondecoded=function(a){this.emit("packet",a)};e.prototype.onerror=function(a){m("error",a);this.emitAll("error",a)};e.prototype.socket=function(a){function b(){~q(e.connecting,c)||e.connecting.push(c)}var c=this.nsps[a];if(!c){c=new g(this,a);this.nsps[a]=c;var e=this;c.on("connecting",b);c.on("connect",function(){c.id=e.engine.id});this.autoConnect&&b()}return c};e.prototype.destroy=function(a){a=q(this.connecting,a);~a&&this.connecting.splice(a,1);this.connecting.length||this.close()};e.prototype.packet=function(a){m("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var e=0;e<c.length;e++)b.engine.write(c[e],a.options);b.encoding=!1;b.processPacketQueue()}))};e.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};e.prototype.cleanup=function(){m("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};e.prototype.close=e.prototype.disconnect=function(){m("disconnect");this.skipReconnect=!0;this.reconnecting=!1;"opening"==this.readyState&&this.cleanup();this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};e.prototype.onclose=function(a){m("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};e.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)m("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();m("will wait %dms before reconnect attempt",b);this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(m("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(m("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(m("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}};e.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(a,b,c){b.exports=function(a,b,c){a.on(b,c);return{destroy:function(){a.removeListener(b,c)}}}},{}],34:[function(a,b,c){function e(a,b){this.io=a;this.nsp=b;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.io.autoConnect&&this.open()}var f=a("socket.io-parser");c=a("component-emitter");var g=a("to-array"),h=a("./on"),k=a("component-bind"),l=a("debug")("socket.io-client:socket"),m=a("has-binary");b.exports=e;var q={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=c.prototype.emit;c(e.prototype);e.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[h(a,"open",k(this,"onopen")),h(a,"packet",k(this,"onpacket")),h(a,"close",k(this,"onclose"))]}};e.prototype.open=e.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();this.emit("connecting");return this};e.prototype.send=function(){var a=g(arguments);a.unshift("message");this.emit.apply(this,a);return this};e.prototype.emit=function(a){if(q.hasOwnProperty(a))return p.apply(this,arguments),this;var b=g(arguments),c=f.EVENT;m(b)&&(c=f.BINARY_EVENT);c={type:c,data:b,options:{}};c.options.compress=!this.flags||!1!==this.flags.compress;"function"==typeof b[b.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),c.id=this.ids++);this.connected?this.packet(c):this.sendBuffer.push(c);delete this.flags;return this};e.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};e.prototype.onopen=function(){l("transport is open - connecting");"/"!=this.nsp&&this.packet({type:f.CONNECT})};e.prototype.onclose=function(a){l("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",a)};e.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case f.CONNECT:this.onconnect();break;case f.EVENT:this.onevent(a);break;case f.BINARY_EVENT:this.onevent(a);break;case f.ACK:this.onack(a);break;case f.BINARY_ACK:this.onack(a);break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",a.data)}};e.prototype.onevent=function(a){var b=a.data||[];l("emitting event %j",b);null!=a.id&&(l("attaching ack callback to event"),b.push(this.ack(a.id)));this.connected?p.apply(this,b):this.receiveBuffer.push(b)};e.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var e=g(arguments);l("sending ack %j",e);var h=m(e)?f.BINARY_ACK:f.ACK;b.packet({type:h,id:a,data:e})}}};e.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(l("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):l("bad ack %s",a.id)};e.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};e.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)p.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};e.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};e.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};e.prototype.close=e.prototype.disconnect=function(){this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this};e.prototype.compress=function(a){this.flags=this.flags||{};this.flags.compress=a;return this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(a,b,c){(function(c){var e=a("parseuri"),g=a("debug")("socket.io-client:url");b.exports=function(a,b){var f=a;b=b||c.location;null==a&&(a=b.protocol+"//"+b.host);"string"==typeof a&&("/"==a.charAt(0)&&(a="/"==a.charAt(1)?b.protocol+a:b.host+a),/^(https?|wss?):\/\//.test(a)||(g("protocol-less url %s",a),a="undefined"!=typeof b?b.protocol+"//"+a:"https://"+a),g("parse %s",a),f=e(a));f.port||(/^(http|ws)$/.test(f.protocol)?f.port="80":/^(http|ws)s$/.test(f.protocol)&&(f.port="443"));f.path=f.path||"/";var h=-1!==f.host.indexOf(":")?"["+f.host+"]":f.host;f.id=f.protocol+"://"+h+":"+f.port;f.href=f.protocol+"://"+h+(b&&b.port==f.port?"":":"+f.port);return f}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{debug:39,parseuri:45}],36:[function(a,b,c){function e(a){a=a||{};this.ms=a.min||100;this.max=a.max||1E4;this.factor=a.factor||2;this.jitter=0<a.jitter&&1>=a.jitter?a.jitter:0;this.attempts=0}b.exports=e;e.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var b=Math.random(),c=Math.floor(b*this.jitter*a),a=0==(Math.floor(10*b)&1)?a-c:a+c;return Math.min(a,this.max)|0};e.prototype.reset=function(){this.attempts=0};e.prototype.setMin=function(a){this.ms=a};e.prototype.setMax=function(a){this.max=a};e.prototype.setJitter=function(a){this.jitter=a}},{}],37:[function(a,b,c){var e=[].slice;b.exports=function(a,b){"string"==typeof b&&(b=a[b]);if("function"!=typeof b)throw Error("bind() requires a function");var c=e.call(arguments,2);return function(){return b.apply(a,c.concat(e.call(arguments)))}}},{}],38:[function(a,b,c){function e(a){if(a){for(var b in e.prototype)a[b]=e.prototype[b];return a}}b.exports=e;e.prototype.on=e.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b);return this};e.prototype.once=function(a,b){function c(){this.off(a,c);b.apply(this,arguments)}c.fn=b;this.on(a,c);return this};e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var e,f=0;f<c.length;f++)if(e=c[f],e===b||e.fn===b){c.splice(f,1);break}return this};e.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c)for(var c=c.slice(0),e=0,f=c.length;e<f;++e)c[e].apply(this,b);return this};e.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks["$"+a]||[]};e.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],39:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{"./debug":40,dup:17}],40:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18,ms:44}],41:[function(a,b,c){(function(c){var e=a("isarray");b.exports=function(a){function b(a){if(!a)return!1;if(c.Buffer&&c.Buffer.isBuffer&&c.Buffer.isBuffer(a)||c.ArrayBuffer&&a instanceof ArrayBuffer||c.Blob&&a instanceof Blob||c.File&&a instanceof File)return!0;if(e(a))for(var f=0;f<a.length;f++){if(b(a[f]))return!0}else if(a&&"object"==typeof a)for(f in a.toJSON&&"function"==typeof a.toJSON&&(a=a.toJSON()),a)if(Object.prototype.hasOwnProperty.call(a,f)&&b(a[f]))return!0;return!1}return b(a)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{isarray:43}],42:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23}],43:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],44:[function(a,b,c){arguments[4][25][0].apply(c,arguments)},{dup:25}],45:[function(a,b,c){arguments[4][28][0].apply(c,arguments)},{dup:28}],46:[function(a,b,c){(function(b){var e=a("isarray"),g=a("./is-buffer");c.deconstructPacket=function(a){function b(a){if(!a)return a;if(g(a)){var f={_placeholder:!0,num:c.length};c.push(a);return f}if(e(a)){for(var f=Array(a.length),h=0;h<a.length;h++)f[h]=b(a[h]);return f}if("object"==typeof a&&!(a instanceof Date)){f={};for(h in a)f[h]=b(a[h]);return f}return a}var c=[];a.data=b(a.data);a.attachments=c.length;return{packet:a,buffers:c}};c.reconstructPacket=function(a,b){function c(a){if(a&&a._placeholder)return b[a.num];if(e(a))for(var f=0;f<a.length;f++)a[f]=c(a[f]);else if(a&&"object"==typeof a)for(f in a)a[f]=c(a[f]);return a}a.data=c(a.data);a.attachments=void 0;return a};c.removeBlobs=function(a,c){function f(a,l,m){if(!a)return a;if(b.Blob&&a instanceof Blob||b.File&&a instanceof File){h++;var n=new FileReader;n.onload=function(){m?m[l]=this.result:k=this.result;--h||c(k)};n.readAsArrayBuffer(a)}else if(e(a))for(n=0;n<a.length;n++)f(a[n],n,a);else if(a&&"object"==typeof a&&!g(a))for(n in a)f(a[n],n,a)}var h=0,k=a;f(k);h||c(k)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(a,b,c){function e(){}function f(a){var b,e=!1;b=""+a.type;if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)b+=a.attachments,b+="-";a.nsp&&"/"!=a.nsp&&(e=!0,b+=a.nsp);null!=a.id&&(e&&(b+=",",e=!1),b+=a.id);null!=a.data&&(e&&(b+=","),b+=m.stringify(a.data));l("encoded %j as %s",a,b);return b}function g(a,b){q.removeBlobs(a,function(a){var c=q.deconstructPacket(a);a=f(c.packet);c=c.buffers;c.unshift(a);b(c)})}function h(){this.reconstructor=null}function k(a){this.reconPack=a;this.buffers=[]}var l=a("debug")("socket.io-parser"),m=a("json3");a("isarray");b=a("component-emitter");var q=a("./binary"),p=a("./is-buffer");c.protocol=4;c.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");c.CONNECT=0;c.DISCONNECT=1;c.EVENT=2;c.ACK=3;c.ERROR=4;c.BINARY_EVENT=5;c.BINARY_ACK=6;c.Encoder=e;c.Decoder=h;e.prototype.encode=function(a,b){l("encoding packet %j",a);if(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)g(a,b);else{var e=f(a);b([e])}};b(h.prototype);h.prototype.add=function(a){if("string"==typeof a){a:{var b={},e=0;b.type=Number(a.charAt(0));if(null==c.types[b.type])a={type:c.ERROR,data:"parser error"};else{if(c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type){for(var f="";"-"!=a.charAt(++e)&&(f+=a.charAt(e),e!=a.length););if(f!=Number(f)||"-"!=a.charAt(e))throw Error("Illegal attachments");b.attachments=Number(f)}if("/"==a.charAt(e+1))for(b.nsp="";++e;){f=a.charAt(e);if(","==f)break;b.nsp+=f;if(e==a.length)break}else b.nsp="/";f=a.charAt(e+1);if(""!==f&&Number(f)==f){for(b.id="";++e;){f=a.charAt(e);if(null==f||Number(f)!=f){--e;break}b.id+=a.charAt(e);if(e==a.length)break}b.id=Number(b.id)}if(a.charAt(++e))try{b.data=m.parse(a.substr(e))}catch(z){a={type:c.ERROR,data:"parser error"};break a}l("decoded %s as %j",a,b);a=b}}c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type?(this.reconstructor=new k(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(p(a)||a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+a);};h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};k.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=q.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};k.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(a,b,c){(function(a){b.exports=function(b){return a.Buffer&&a.Buffer.isBuffer(b)||a.ArrayBuffer&&b instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],49:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],50:[function(a,b,c){(function(a){(function(){function e(a,b){function c(a){if(c[a]!==B)return c[a];var e;if("bug-string-char-index"==a)e=!1;else if("json"==a)e=c("json-stringify")&&c("json-parse");else{var g;if("json-stringify"==a){e=b.stringify;var k="function"==typeof e&&C;if(k){(g=function(){return 1}).toJSON=g;try{k="0"===e(0)&&"0"===e(new f)&&'""'==e(new h)&&e(u)===B&&e(B)===B&&e()===B&&"1"===e(g)&&"[1]"==e([g])&&"[null]"==e([B])&&"null"==e(null)&&"[null,null,null]"==e([B,u,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==e({a:[g,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===e(null,g)&&"[\n 1,\n 2\n]"==e([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==e(new m(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==e(new m(864E13))&&'"-000001-01-01T00:00:00.000Z"'==e(new m(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==e(new m(-1))}catch(M){k=!1}}e=k}if("json-parse"==a){e=b.parse;if("function"==typeof e)try{if(0===e("0")&&!e(!1)){g=e('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var l=5==g.a.length&&1===g.a[0];if(l){try{l=!e('"\t"')}catch(M){}if(l)try{l=1!==e("01")}catch(M){}if(l)try{l=1!==e("1.")}catch(M){}}}}catch(M){l=!1}e=l}}return c[a]=!!e}a||(a=k.Object());b||(b=k.Object());var f=a.Number||k.Number,h=a.String||k.String,l=a.Object||k.Object,m=a.Date||k.Date,n=a.SyntaxError||k.SyntaxError,q=a.TypeError||k.TypeError,p=a.Math||k.Math,t=a.JSON||k.JSON;"object"==typeof t&&t&&(b.stringify=t.stringify,b.parse=t.parse);var l=l.prototype,u=l.toString,A,H,B,C=new m(-0xc782b5b800cec);try{C=-109252==C.getUTCFullYear()&&0===C.getUTCMonth()&&1===C.getUTCDate()&&10==C.getUTCHours()&&37==C.getUTCMinutes()&&6==C.getUTCSeconds()&&708==C.getUTCMilliseconds()}catch(L){}if(!c("json")){var J=c("bug-string-char-index");if(!C)var D=p.floor,X=[0,31,59,90,120,151,181,212,243,273,304,334],K=function(a,b){return X[b]+365*(a-1970)+D((a-1969+(b=+(1<b)))/4)-D((a-1901+b)/100)+D((a-1601+b)/400)};(A=l.hasOwnProperty)||(A=function(a){var b={},c;(b.__proto__=null,b.__proto__={toString:1},b).toString!=u?A=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=b;return a}:(c=b.constructor,A=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return A.call(this,a)});H=function(a,b){var c=0,e,f,h;(e=function(){this.valueOf=0}).prototype.valueOf=0;f=new e;for(h in f)A.call(f,h)&&c++;e=f=null;c?H=2==c?function(a,b){var c={},e="[object Function]"==u.call(a),f;for(f in a)e&&"prototype"==f||A.call(c,f)||!(c[f]=1)||!A.call(a,f)||b(f)}:function(a,b){var c="[object Function]"==u.call(a),e,f;for(e in a)c&&"prototype"==e||!A.call(a,e)||(f="constructor"===e)||b(e);(f||A.call(a,e="constructor"))&&b(e)}:(f="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),H=function(a,b){var c="[object Function]"==u.call(a),e,h=!c&&"function"!=typeof a.constructor&&g[typeof a.hasOwnProperty]&&a.hasOwnProperty||A;for(e in a)c&&"prototype"==e||!h.call(a,e)||b(e);for(c=f.length;e=f[--c];h.call(a,e)&&b(e));});return H(a,b)};if(!c("json-stringify")){var Y={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},F=function(a,b){return("000000"+(b||0)).slice(-a)},U=function(a){for(var b='"',c=0,e=a.length,f=!J||10<e,g=f&&(J?a.split(""):a);c<e;c++){var h=a.charCodeAt(c);switch(h){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=Y[h];break;default:b=32>h?b+("\\u00"+F(2,h.toString(16))):b+(f?g[c]:a.charAt(c))}}return b+'"'},Q=function(a,b,c,e,f,g,h){var k,l,m,n,p,L,P,r,E;try{k=b[a]}catch(ba){}if("object"==typeof k&&k)if(l=u.call(k),"[object Date]"!=l||A.call(k,"toJSON"))"function"==typeof k.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||A.call(k,"toJSON"))&&(k=k.toJSON(a));else if(k>-1/0&&k<1/0){if(K){n=D(k/864E5);for(l=D(n/365.2425)+1970-1;K(l+1,0)<=n;l++);for(m=D((n-K(l,0))/30.42);K(l,m+1)<=n;m++);n=1+n-K(l,m);p=(k%864E5+864E5)%864E5;L=D(p/36E5)%24;P=D(p/6E4)%60;r=D(p/1E3)%60;p%=1E3}else l=k.getUTCFullYear(),m=k.getUTCMonth(),n=k.getUTCDate(),L=k.getUTCHours(),P=k.getUTCMinutes(),r=k.getUTCSeconds(),p=k.getUTCMilliseconds();k=(0>=l||1E4<=l?(0>l?"-":"+")+F(6,0>l?-l:l):F(4,l))+"-"+F(2,m+1)+"-"+F(2,n)+"T"+F(2,L)+":"+F(2,P)+":"+F(2,r)+"."+F(3,p)+"Z"}else k=null;c&&(k=c.call(b,a,k));if(null===k)return"null";l=u.call(k);if("[object Boolean]"==l)return""+k;if("[object Number]"==l)return k>-1/0&&k<1/0?""+k:"null";if("[object String]"==l)return U(""+k);if("object"==typeof k){for(a=h.length;a--;)if(h[a]===k)throw q();h.push(k);E=[];b=g;g+=f;if("[object Array]"==l){m=0;for(a=k.length;m<a;m++)l=Q(m,k,c,e,f,g,h),E.push(l===B?"null":l);a=E.length?f?"[\n"+g+E.join(",\n"+g)+"\n"+b+"]":"["+E.join(",")+"]":"[]"}else H(e||k,function(a){var b=Q(a,k,c,e,f,g,h);b!==B&&E.push(U(a)+":"+(f?" ":"")+b)}),a=E.length?f?"{\n"+g+E.join(",\n"+g)+"\n"+b+"}":"{"+E.join(",")+"}":"{}";h.pop();return a}};b.stringify=function(a,b,c){var e,f,h,k;if(g[typeof b]&&b)if("[object Function]"==(k=u.call(b)))f=b;else if("[object Array]"==k){h={};for(var l=0,m=b.length,n;l<m;n=b[l++],(k=u.call(n),"[object String]"==k||"[object Number]"==k)&&(h[n]=1));}if(c)if("[object Number]"==(k=u.call(c))){if(0<(c-=c%1))for(e="",10<c&&(c=10);e.length<c;e+=" ");}else"[object String]"==k&&(e=10>=c.length?c:c.slice(0,10));return Q("",(n={},n[""]=a,n),f,h,e,"",[])}}if(!c("json-parse")){var Z=h.fromCharCode,aa={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},r,N,x=function(){r=N=null;throw n();},G=function(){for(var a=N,b=a.length,c,e,f,g,h;r<b;)switch(h=a.charCodeAt(r),h){case 9:case 10:case 13:case 32:r++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=J?a.charAt(r):a[r],r++,c;case 34:c="@";for(r++;r<b;)if(h=a.charCodeAt(r),32>h)x();else if(92==h)switch(h=a.charCodeAt(++r),h){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=aa[h];r++;break;case 117:e=++r;for(f=r+4;r<f;r++)h=a.charCodeAt(r),48<=h&&57>=h||97<=h&&102>=h||65<=h&&70>=h||x();c+=Z("0x"+a.slice(e,r));break;default:x()}else{if(34==h)break;h=a.charCodeAt(r);for(e=r;32<=h&&92!=h&&34!=h;)h=a.charCodeAt(++r);c+=a.slice(e,r)}if(34==a.charCodeAt(r))return r++,c;x();default:e=r;45==h&&(g=!0,h=a.charCodeAt(++r));if(48<=h&&57>=h){for(48==h&&(h=a.charCodeAt(r+1),48<=h&&57>=h)&&x();r<b&&(h=a.charCodeAt(r),48<=h&&57>=h);r++);if(46==a.charCodeAt(r)){for(f=++r;f<b&&(h=a.charCodeAt(f),48<=h&&57>=h);f++);f==r&&x();r=f}h=a.charCodeAt(r);if(101==h||69==h){h=a.charCodeAt(++r);43!=h&&45!=h||r++;for(f=r;f<b&&(h=a.charCodeAt(f),48<=h&&57>=h);f++);f==r&&x();r=f}return+a.slice(e,r)}g&&x();if("true"==a.slice(r,r+4))return r+=4,!0;if("false"==a.slice(r,r+5))return r+=5,!1;if("null"==a.slice(r,r+4))return r+=4,null;x()}return"$"},R=function(a){var b,c;"$"==a&&x();if("string"==typeof a){if("@"==(J?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=G();if("]"==a)break;c&&(","==a?(a=G(),"]"==a&&x()):x());","==a&&x();b.push(R(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=G();if("}"==a)break;c&&(","==a?(a=G(),"}"==a&&x()):x());","!=a&&"string"==typeof a&&"@"==(J?a.charAt(0):a[0])&&":"==G()||x();b[a.slice(1)]=R(G())}return b}x()}return a},W=function(a,b,c){c=V(a,b,c);c===B?delete a[b]:a[b]=c},V=function(a,b,c){var e=a[b],f;if("object"==typeof e&&e)if("[object Array]"==u.call(e))for(f=e.length;f--;)W(e,f,c);else H(e,function(a){W(e,a,c)});return c.call(a,b,e)};b.parse=function(a,b){var c,e;r=0;N=""+a;c=R(G());"$"!=G()&&x();r=N=null;return b&&"[object Function]"==u.call(b)?V((e={},e[""]=c,e),"",b):c}}}b.runInContext=e;return b}var g={"function":!0,object:!0},h=g[typeof c]&&c&&!c.nodeType&&c,k=g[typeof window]&&window||this,l=h&&g[typeof b]&&b&&!b.nodeType&&"object"==typeof a&&a;!l||l.global!==l&&l.window!==l&&l.self!==l||(k=l);if(h)e(k,h);else{var m=k.JSON,q=k.JSON3,p=!1,n=e(k,k.JSON3={noConflict:function(){p||(p=!0,k.JSON=m,k.JSON3=q,m=q=null);return n}});k.JSON={parse:n.parse,stringify:n.stringify}}}).call(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],51:[function(a,b,c){b.exports=function(a,b){for(var c=[],e=(b=b||0)||0;e<a.length;e++)c[e-b]=a[e];return c}},{}]},{},[31])(31)});var WS_EVENT_ONOPEN=0,WS_EVENT_ONMESSAGE=1,WS_EVENT_ONCLOSE=2,WS_EVENT_ONERROR=3,WS_STATUS_NULL=-1,WS_STATUS_CONNECTING=0,WS_STATUS_OPEN=1,WS_STATUS_CLOSING=2,WS_STATUS_CLOSE=3;function JACPWebSocket(d){this._msgCallback=this._ws=null;this._appName=d;this.WSConnect=function(a,b,c){try{this._ws=0==c?new WebSocket("ws://"+a+":"+b):new WebSocket("wss://"+a+":"+b)}catch(e){g_DebugFlag&&console.error(e,"WebSocket::WSConnect("+this._appName+")");try{this._ws=0==c?new MozWebSocket("ws://"+a+":"+b):new MozWebSocket("wss://"+a+":"+b)}catch(f){return g_DebugFlag&&console.error(f,"WebSocket::WSConnect("+this._appName+")"),this._ws=null,!1}}0==c?DisplayLog(VccBar_Log_Info,"WebSocket::Connect(ws:"+a+":"+b+") By "+this._appName):DisplayLog(VccBar_Log_Info,"WebSocket::Connect(wss:"+a+":"+b+") By "+this._appName);this._ws.onopen=this._WSonOpen;this._ws.onmessage=this._WSonMessage;this._ws.onclose=this._WSonClose;this._ws.onerror=this._WSonError;this._ws.oParent=this;return!0};this.WSDisconnect=function(){null!=this._ws&&(this._ws.readyState!=WS_STATUS_CONNECTING&&this._ws.readyState!=WS_STATUS_OPEN||this._ws.close())};this.WSSendMsg=function(a){return null==this._ws||""==a?!1:this._ws.readyState==WS_STATUS_OPEN?(DisplayLog(VccBar_Log_Protocol,stringFormat("Sen{0}:{1}",this._appName,a)),this._ws.send(a),!0):!1};this.WSIsConnect=function(){return null==this._ws?!1:this._ws.readyState==WS_STATUS_OPEN};this.WSGetConnectStatus=function(){return null!=this._ws?this._ws.readyState:WS_STATUS_NULL};this.SetMsgCallBack=function(a){this._msgCallback=a};this._WSonOpen=function(){DisplayLog(VccBar_Log_Info,"WebSocket::WSonOpen("+this.oParent._appName+")");this.oParent._invokeCallBack(WS_EVENT_ONOPEN,"")};this._WSonMessage=function(a){DisplayLog(VccBar_Log_Protocol,stringFormat("Rec{0}:{1}",this.oParent._appName,a.data));this.oParent._invokeCallBack(WS_EVENT_ONMESSAGE,a.data)};this._WSonClose=function(){DisplayLog(VccBar_Log_Error,"WebSocket::WSonClose("+this.oParent._appName+")");this.oParent._invokeCallBack(WS_EVENT_ONCLOSE,"")};this._WSonError=function(a){DisplayLog(VccBar_Log_Error,"WebSocket::WSonError("+this.oParent._appName+")");this.oParent._invokeCallBack(WS_EVENT_ONERROR,"")};this._invokeCallBack=function(a,b){null!=this._msgCallback&&this._msgCallback(a,b)};this._APSPInit=function(){};this._APSPInit();return this}function JACPSocketIO(d){this._msgCallback=this._ws=null;this._appName=d;this._ReconnectTimerInterVal=5;this._bgnTimer="";this.WSConnect=function(a,b,c,d,f){try{var e;e=0==d?{transports:["websocket"],directory:f,reconnectionAttempts:5}:{transports:["polling"],directory:f,reconnectionAttempts:5};var h;h=0==c?"http://"+a+":"+b:"https://"+a+":"+b;0==d?DisplayLog(VccBar_Log_Info,"SocketIO::transport(websocket,"+f+") By "+this._appName):DisplayLog(VccBar_Log_Info,"SocketIO::transport(polling,"+f+") By "+this._appName);DisplayLog(VccBar_Log_Info,"SocketIO::Connect("+h+") By "+this._appName);this._ws=io.connect(h,e);this._bgnTimer=this.GetCurrentTime();this._ws.on("message",function(a){this.oParent._WSonMessage(a);DisplayLog(VccBar_Log_Info,stringFormat("message {0}:{1}",this.oParent._appName,a))});this._ws.on("connect",function(){DisplayLog(VccBar_Log_Debug,stringFormat("[{0}] Connected to Server",this.oParent._appName));this.oParent._bgnTimer="";this.oParent._WSonOpen()});this._ws.on("disconnect",function(){DisplayLog(VccBar_Log_Debug,stringFormat("[{0}] Disconnected from Server",this.oParent._appName));this.oParent._WSonClose()});this._ws.on("reconnect",function(){DisplayLog(VccBar_Log_Info,stringFormat("[{0}] Reconnected to Server",this.oParent._appName))});this._ws.on("reconnecting",function(a){DisplayLog(VccBar_Log_Debug,stringFormat("[{0}] Reconnecting {1} time",this.oParent._appName,a));a=this.oParent.GetCurrentTime();getStringTimerInterval(this.oParent._bgnTimer,a)>=this.oParent._ReconnectTimerInterVal&&(DisplayLog(VccBar_Log_Error,stringFormat("[{0}] Reconnecting time out",this.oParent._appName)),this.oParent.WSDisconnect(),this.oParent._bgnTimer="",this.oParent._WSonError(),this.oParent._WSonClose())});this._ws.on("reconnect_attempt",function(){DisplayLog(VccBar_Log_Error,stringFormat("[{0}] reconnect_attempt",this.oParent._appName));this.oParent._WSonError()});this._ws.on("connect_timeout",function(){DisplayLog(VccBar_Log_Error,stringFormat("[{0}] connect_timeout",this.oParent._appName));this.oParent._WSonError()});this._ws.on("reconnect_failed",function(){DisplayLog(VccBar_Log_Error,stringFormat("[{0}] Reconnect Failed",this.oParent._appName));this.oParent._WSonError()});this._ws.on("Response",function(a){this.oParent._WSonMessage(a.msg)});this._ws.oParent=this}catch(k){return DisplayLog(VccBar_Log_Error,stringFormat("Connect SocketIO {0}:{1}",this._appName,k)),!1}return!0};this.WSDisconnect=function(){null!=this._ws&&(DisplayLog(VccBar_Log_Info,"SocketIO::DisConnect By "+this._appName),this._ws.disconnect(),this._ws=null)};this.WSSendMsg=function(a){return null==this._ws||""==a?!1:1==this._ws.connected?(DisplayLog(VccBar_Log_Protocol,stringFormat("Sen{0}:{1}",this._appName,a)),this._ws.emit("Request",{msg:a}),!0):!1};this.WSIsConnect=function(){return null==this._ws?!1:1==this._ws.connected};this.WSGetConnectStatus=function(){return null!=this._ws?this._ws.connected?WS_STATUS_OPEN:WS_STATUS_CLOSE:WS_STATUS_NULL};this.SetMsgCallBack=function(a){this._msgCallback=a};this.GetCurrentTime=function(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1,c=10>c?"0"+c:c,d=a.getDate(),d=10>d?"0"+d:d,f=a.getHours(),f=10>f?"0"+f:f,g=a.getMinutes(),g=10>g?"0"+g:g,a=a.getSeconds();return b.toString()+c.toString()+d.toString()+f.toString()+g.toString()+(10>a?"0"+a:a).toString()};this._WSonOpen=function(){DisplayLog(VccBar_Log_Info,"SocketIO::WSonOpen("+this._appName+")");this._invokeCallBack(WS_EVENT_ONOPEN,"")};this._WSonMessage=function(a){DisplayLog(VccBar_Log_Protocol,stringFormat("Rec{0}:",this._appName)+a);this._invokeCallBack(WS_EVENT_ONMESSAGE,a)};this._WSonClose=function(){DisplayLog(VccBar_Log_Error,"SocketIO::WSonClose("+this._appName+")");this._ws=null;this._invokeCallBack(WS_EVENT_ONCLOSE,"")};this._WSonError=function(a){DisplayLog(VccBar_Log_Error,"SocketIO::WSonError("+this._appName+")");this._invokeCallBack(WS_EVENT_ONERROR,"")};this._invokeCallBack=function(a,b){null!=this._msgCallback&&this._msgCallback(a,b)};this._APSPInit=function(){};this._APSPInit();return this}var ACPI_SUCCESS=0,ACPI_FAILURE=1,ACPI_UNKNOWN=2;function JAcpAPI(d){this._app=d;this._SocketCallback=this._oAcpSocket=null;this.g_ctiEvent=this.g_timeStamp=this.g_serialID=this.g_sessionID="";this.g_sessionCode=0;this.g_agent=new JAgent;this._createObject=function(){this._oAcpSocket=new JACPSocketIO("ACP");this._oAcpSocket.oParent=this;this._oAcpSocket.SetMsgCallBack(this._SocketCallBack)};this._SocketCallBack=function(a,b){this.oParent._SocketCallback&&this.oParent._SocketCallback(a,b)};this._SendMsg=function(a,b){return this._oAcpSocket.WSIsConnect()&&this._oAcpSocket.WSSendMsg(a)?ACPI_SUCCESS:ACPI_FAILURE};this._GetCmdNum=function(a){var b=1E3;if("SendDTMF"==a||"CallInside"==a||"Consultation"==a||"CallOutside"==a||"SingleStepTransfer"==a||"Transfer"==a||"SetTransfer"==a||"Hold"==a||"RetrieveHold"==a||"Conference"==a||"Alternate"==a||"DoReplyMultimeAndHangUpCall"==a||"Bridge"==a||"SMMsgReq"==a||"Answer"==a)b=1001;if("ReleaseCall"==a||"ReleaseCallByCallID"==a||"StopInsert"==a||"BeginRecord"==a||"StopRecord"==a||"Intercept"==a||"Insert"==a||"Listen"==a||"Help"==a||"BeginPlay"==a||"StopPlay"==a||"BeginCollect"==a||"StopCollect"==a)b=1011;if("ForceIdle"==a||"ForceBusy"==a||"ForceOut"==a||"Lock"==a||"UnLock"==a)b=1010;if("SetCTIParam"==a||"GetCTIParam"==a||"ChangeCallQueue"==a)b=1020;if("QueryTotalQueueWaitNum"==a||"QueryAgentStatus"==a||"QuerySpAgentList"==a||"QueryCallQueue"==a)b=1030;if("GetLog"==a||"OnUploadedLog"==a)b=1040;return b};this._GetCTIEventID=function(a){return"AgentReconnect"==a||"SignIn"==a?1E3:"SendWeiboMsg"==a||"SendWeChatMsg"==a||"QueryWeChatSessionIDs"==a||"GetWeChatParam"==a?1012:""==this.g_ctiEvent?this._GetCmdNum(a):stringToInt(this.g_ctiEvent,-1)};this.SetSocketCallBack=function(a){this._SocketCallback=a};this.IsSoceketConnect=function(){return this._oAcpSocket.WSIsConnect()};this.GetSoceketStatus=function(){return this._oAcpSocket.WSGetConnectStatus()};this.acpSetStreamParam=function(a,b,c,d){this.g_agent.agentID=c;this.g_agent.type=a;this.g_agent.vccID=b;this.g_agent.deviceID=d};this.acpSetCtiEvent=function(a,b){this.g_ctiEvent=a;this.g_timeStamp=b;return ACPI_SUCCESS};this.acpSetSession=function(a,b){this.g_sessionID=a;this.g_serialID=b};this.acpOpenStream=function(a,b,c,d,f){return this._oAcpSocket.WSConnect(a,b,c,d,f)?ACPI_SUCCESS:ACPI_FAILURE};this.acpCloseStream=function(){this._oAcpSocket.WSDisconnect()};this.acpHeartBeat=function(){var a=stringFormat('1000 off heartBeat \x3cacpMessage ver\x3d"2.0.0"\x3e\x3cheader\x3e\x3csessionID\x3e{0}\x3c/sessionID\x3e\x3cserialID\x3e{1}\x3c/serialID\x3e\x3c/header\x3e\x3cbody type\x3d"response" name\x3d"heartBeat"/\x3e\x3c/acpMessage\x3e\x00',this.g_sessionID,this.g_serialID);return this._oAcpSocket.WSIsConnect()&&this._oAcpSocket.WSSendMsg(a)?ACPI_SUCCESS:ACPI_FAILURE};this.acpAgentReconnect=function(a,b,c,d){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"AgentReconnect"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter agentStatus\x3d"{7}" phonestatus \x3d"{8}" passwd\x3d"{9}" master\x3d "{10}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,d);return this._SendMsg(a,"AgentReconnect")};this.acpInitial=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0"\x3e\x3cheader\x3e\x3csessionID\x3e\x3c/sessionID\x3e\x3cserialID\x3e\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Initial"\x3e\x3cparameter vccID\x3d"{0}"  /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',a);return this._SendMsg(a,"Initial")};this.acpSignIn=function(a,b,c,d,f,g,h,k,l){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0"\x3e\x3cheader\x3e\x3csessionID\x3e{0}\x3c/sessionID\x3e\x3cserialID\x3e{1}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{2}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SignIn"\x3e\x3cagent vccID\x3d"{3}" agentID\x3d"{4}" deviceID\x3d"{5}"/\x3e\x3cparameter deviceID\x3d"{6}" passwd\x3d"'+b+'" cryptType\x3d"{7}" ready\x3d"{8}" taskId\x3d"{9}" macAddress\x3d"{10}" connectType\x3d"{11}" agentKickOff\x3d"{12}" agentVersion\x3d"{13}"  agentIp\x3d"{14}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,a,a,c,d,f,null==this._app?"":this._app.BrowserStr,g,h,k,l);return this._SendMsg(a,"SignIn")};this.acpSignOut=function(a,b,c){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SignOut"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter code\x3d"{7}" /\x3e\x3ctime signin\x3d"{8}" signout \x3d"{9}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c);return this._SendMsg(a,"SignOut")};this.acpSetBusy=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SetBusy"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter subStatus\x3d"{7}" taskId\x3d"{8}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"SetBusy")};this.acpSetIdle=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SetIdle"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter  taskId\x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"SetIdle")};this.acpSetAgentAutoEnterIdle=function(){var a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SetAgentAutoEnterIdle"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID);return this._SendMsg(a,"SetAgentAutoEnterIdle")};this.acpAgentEnterIdle=function(){var a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"AgentEnterIdle"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID);return this._SendMsg(a,"AgentEnterIdle")};this.acpSetWrapUp=function(){var a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SetWrapUp"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID);return this._SendMsg(a,"SetWrapUp")};this.acpAgentReport=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"AgentReport"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter agentStatus\x3d"{7}" phoneStatus \x3d"{8}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"AgentReport")};this.acpReleaseCall=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ReleaseCall"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID\x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"ReleaseCall")};this.acpReleaseCallbyCallID=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ReleaseCallByCallID"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID\x3d"{7}" destDeviceID\x3d"{8}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"ReleaseCallByCallID")};this.acpSendDTMF=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SendDTMF"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter DTMFDigits \x3d"{7}" destDeviceID\x3d"{8}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"SendDTMF")};this.acpCallInside=function(a,b,c,d,f){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e{3}\x3c/serviceID\x3e\x3ctimeStamp\x3e{4}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"CallInside"\x3e\x3cagent vccID\x3d"{5}" agentID\x3d"{6}" deviceID\x3d"{7}"/\x3e\x3cparameter destAgentID\x3d"{8}" taskID\x3d"{9}" transParentParamet\x3d"{10}" av\x3d"{11}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,d,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,f);return this._SendMsg(a,"CallInside")};this.acpConsultation=function(a,b,c){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Consultation"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID\x3d"{7}"  consultType\x3d"{8}" callingDeviceID\x3d"{9}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c);return this._SendMsg(a,"Consultation")};this.acpCallOutside=function(a,b,c,d,f,g,h,k,l,m,q,p){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e{3}\x3c/serviceID\x3e\x3ctimeStamp\x3e{4}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"CallOutside"\x3e\x3cagent vccID\x3d"{5}" agentID\x3d"{6}" deviceID\x3d"{7}"/\x3e\x3cparameter destDeviceID\x3d"{8}" callingDeviceID\x3d"{9}" taskID\x3d"{10}" transParentParamet\x3d"{11}" phoneID\x3d"{12}" projectID\x3d"{13}" encryptType\x3d"{14}" chargeNumer\x3d"{15}" displayNumber\x3d"{16}" numberX\x3d"{17}" av\x3d"{18}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,g,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,d,f,h,k,l,m,q,p);return this._SendMsg(a,"CallOutside")};this.acpSingleStepTransfer=function(a,b,c){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SingleStepTransfer"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID\x3d"{7}"  transferType\x3d"{8}" callingDeviceID\x3d"{9}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c);return this._SendMsg(a,"SingleStepTransfer")};this.acpTransfer=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Transfer"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID\x3d"{7}" callingDeviceID\x3d"{8}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"Transfer")};this.acpModifyVideoStream=function(a,b,c){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ModifyVideoStream"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter dialogid\x3d"" mode\x3d"{7}" line\x3d"{8}" display\x3d"{8}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c);return this._SendMsg(a,"ModifyVideoStream")};this.acpSetTransfer=function(){return-1};this.acpHold=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Hold"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID\x3d"{7}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"Hold")};this.acpRetrieveHold=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"RetrieveHold"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID\x3d"{7}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"RetrieveHold")};this.acpConference=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Conference"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID\x3d"{7}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"Conference")};this.acpBridge=function(a,b,c){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Bridge"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destID \x3d"{7}"  callingDeviceID\x3d"{8}"  releaseMode\x3d"{9}"  /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c);return this._SendMsg(a,"Bridge")};this.acpAnswer=function(a,b,c){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Answer"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID\x3d"{7}" recordFlag\x3d"{8}" phoneType\x3d"{9}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c);return this._SendMsg(a,"Answer")};this.acpSetCTIParam=function(a,b,c,d){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{6}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SetCTIParam"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID\x3d"{7}" codeType\x3d"{8}" type\x3d"{9}" param \x3d"{10}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,d,b,c);return this._SendMsg(a,"SetCTIParam")};this.acpGetCTIParam=function(a,b,c,d){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"GetCTIParam"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID\x3d"{7}" codeType\x3d"{8}" type\x3d"{9}" param \x3d"{10}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,d,b,c);return this._SendMsg(a,"GetCTIParam")};this.acpChangeCallQueue=function(a,b,c){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ChangeCallQueue"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter calling\x3d"{7}" queuekey \x3d"{8}" orderid\x3d"{9}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c);return this._SendMsg(a,"ChangeCallQueue")};this.acpCallQueueQuery=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"QueryCallQueue"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter serviceId\x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"QueryCallQueue")};this.acpTransferCallQueue=function(a,b,c){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"TransferCallQueue"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter queuekey\x3d"{7}" transferType \x3d"{8}" destNum\x3d"{9}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c);return this._SendMsg(a,"TransferCallQueue")};this.acpSendMessage=function(a,b,c,d,f,g){d=1==d?"and":"or";a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"SendMessage"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3ctarget opType \x3d"{7}"\x3e\x3cdestTarget targetType \x3d"0"\x3e{8}\x3c/destTarget\x3e\x3cdestTarget targetType \x3d"1"\x3e{9}\x3c/destTarget\x3e\x3cdestTarget targetType \x3d"2"\x3e{10}\x3c/destTarget\x3e\x3c/target\x3e\x3cmessage msgtype\x3d"{11}"\x3e{12}\x3c/message\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,d,a,b,c,f,g);return this._SendMsg(a,"SendMessage")};this.acpBeginPlay=function(a,b,c,d,f){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"BeginPlay"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}"  destDeviceID\x3d"{8}" playType\x3d"{9}"  fileName\x3d"{10}" var\x3d"{11}"  /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,d,f);return this._SendMsg(a,"BeginPlay")};this.acpStopPlay=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"StopPlay"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}"  destDeviceID\x3d"{8}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"StopPlay")};this.acpBeginCollect=function(a,b,c,d,f,g,h,k,l,m){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"BeginCollect"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}"  destDeviceID\x3d"{8}" playType\x3d"{9}" fileName\x3d"{10}" minLen\x3d"{11}" maxLen \x3d"{12}" end \x3d"{13}" cel \x3d"{14}" fto \x3d"{15}" ito \x3d"{16}"  /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,d,f,g,h,k,l,m);return this._SendMsg(a,"BeginCollect")};this.acpStopCollect=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"StopCollect"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}"  destDeviceID\x3d"{8}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"StopCollect")};this.acpUpdateMedia=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"UpdateMedia"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID \x3d"{7}"  av\x3d"{8}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"UpdateMedia")};this.acpBeginCapture=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"BeginCapture"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID \x3d"{7}"  faceDet\x3d"{8}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"BeginCapture")};this.acpConnect=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Connect"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destDeviceID \x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e\x00',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"Connect")};this.acpForceReleaseCall=function(a,b){var c=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ForceReleaseCall"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destNum \x3d"{7}" type\x3d"{8}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b);return this._SendMsg(c,"ForceReleaseCall")};this.acpInsert=function(a,b,c,d,f){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Insert"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter bgnStatus \x3d"{7}" endStatus \x3d"{8}" destNum \x3d"{9}" type\x3d"{10}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),f,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,d);return this._SendMsg(a,"Insert")};this.acpListen=function(a,b,c,d,f){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Listen"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter bgnStatus \x3d"{7}" endStatus \x3d"{8}" destNum \x3d"{9}" type\x3d"{10}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),f,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,d);return this._SendMsg(a,"Listen")};this.acpIntercept=function(a,b,c,d,f,g){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Intercept"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter bgnStatus \x3d"{7}" endStatus \x3d"{8}" destNum \x3d"{9}" type\x3d"{10}" direction\x3d"{11}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),f,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,d,g);return this._SendMsg(a,"Intercept")};this.acpHelp=function(a,b,c,d,f){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Help"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter bgnStatus \x3d"{7}" endStatus \x3d"{8}" destNum \x3d"{9}" type\x3d"{10}"/\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),f,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a,b,c,d);return this._SendMsg(a,"Help")};this.acpLock=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"Lock"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"Lock")};this.acpUnLock=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"UnLock"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"UnLock")};this.acpForceIdle=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ForceIdle"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"ForceIdle")};this.acpForceBusy=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ForceBusy"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"ForceBusy")};this.acpForceOut=function(a){a=stringFormat('\x3cacpMessage ver\x3d"2.0.0" time\x3d"{0}"\x3e\x3cheader\x3e\x3csessionID\x3e{1}\x3c/sessionID\x3e\x3cserialID\x3e{2}\x3c/serialID\x3e\x3cserviceID\x3e\x3c/serviceID\x3e\x3ctimeStamp\x3e{3}\x3c/timeStamp\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ForceOut"\x3e\x3cagent vccID\x3d"{4}" agentID\x3d"{5}" deviceID\x3d"{6}"/\x3e\x3cparameter destAgentID \x3d"{7}" /\x3e\x3c/body\x3e\x3c/acpMessage\x3e',getAcpTimeString(),this.g_sessionID,this.g_serialID,this.g_timeStamp,this.g_agent.vccID,this.g_agent.agentID,this.g_agent.deviceID,a);return this._SendMsg(a,"ForceOut")};this.acpEmptyHeartBeat=function(){return this._oAcpSocket.WSIsConnect()&&this._oAcpSocket.WSSendMsg("\x3cacpMessage\x3ealivecheck\x3c/acpMessage\x3e")?ACPI_SUCCESS:ACPI_FAILURE};this._createObject()}function ScreenRecordCtrl(d){this.config={RemoteSipServerPort:29060,RemoteSipServer:"127.0.0.1",LocalGuardPort:4510,ConnectCount:0,ReConnected:!1,BeginRecord:!1,SessionID:"",RecordFileName:"",Inited:!1,AppKey:"GetScreenRecordPort",ftpServer:"",ftpPort:2021,ftpUser:"",ftpPppppp:"548nfhurj",ftpDir:"",ftpType:1,speedLimit:500,frameRate:5,vccId:"",agentID:"",recordTime:300,screenRecordType:-1};this._oCINGuard=null;this._sipConnectStatus=barStatus_Null;this._oCallBack=d;this._Create=function(){this._oRemoteSipSocket=new JACPWebSocket("ScreenRecord");this._oRemoteSipSocket.oParent=this;this._oRemoteSipSocket.SetMsgCallBack(this._SocketCallBack);this._oCINGuard=new JGuardCtrl(this);this.config.SessionID="ScreenRecord-"+getCurrentTimeString()};this._SocketCallBack=function(a,b){var c=this.oParent;if(a==WS_EVENT_SIP_ONOPEN)c._sipConnectStatus==barStatus_SipConnecting&&(c._sipConnectStatus=barStatus_SipConnected,c.OnDebug("connect [ScreenRecord] success"),0==c.config.Inited&&c.InitSreenRecord());else if(a==WS_EVENT_SIP_ONCLOSE)c._sipConnectStatus==barStatus_SipDisconnecting?c._sipConnectStatus=barStatus_SipDisconnected:c._sipConnectStatus==barStatus_SipConnected&&(c._sipConnectStatus=barStatus_SipReconnecting,c.config.ReConnected=!0,c.config.Inited=!1,c.Initial());else if(a==WS_EVENT_SIP_ONERROR)c._sipConnectStatus==barStatus_SipConnecting?c.config.ConnectCount<PORT_COUNT?(c.config.RemoteSipServerPort+=2,c.ConnectToSipServer()):(c.config.RemoteSipServerPort=19060,c.OnDebug("ScreenRecodr Service connect failure\uff01"),c._sipConnectStatus=barStatus_Null):c._sipConnectStatus==barStatus_SipConnected&&(c._sipConnectStatus=barStatus_SipReconnecting,c.Initial());else if(a==WS_EVENT_SIP_ONMESSAGE&&!(0<=b.indexOf("heartbeat"))){var d=getSipSubString(b,'type\x3d"','"'),f=getSipSubString(b,'name\x3d"','"'),g=getSipSubString(b,"\x3cprecordparam\x3e","\x3c/precordparam\x3e");"event"==d?"OnUploadSFile"==f&&c.OnUploadFile(g):"action"==d&&("Initial"==f?(c.config.Inited=!0,c.OnConnected()):"UnInitial"==f?c.DisconnectToSipServer():"BeginRecord"==f?(c.config.RecordFileName=g,""!=g&&(c.config.BeginRecord=!0)):"EndRecord"==f&&(c.config.BeginRecord=!1))}};this._BuildRecordMsg=function(a,b,c){c='\x3capspMessage ver\x3d"2.0.0" time\x3d"'+getSipTimeString()+'"\x3e';return c=c+'\x3cbody type\x3d"command" name\x3d"'+a+'"\x3e\x3cprecordparam\x3e'+b+"\x3c/precordparam\x3e\x3c/body\x3e\x3c/apspMessage\x3e"};this._SendMsg=function(a,b){if(!this._oRemoteSipSocket.WSIsConnect())return RSIP_SUCCESS;var c=this._BuildRecordMsg(a,b,this.config.SessionID);return this._oRemoteSipSocket.WSSendMsg(c)?RSIP_SUCCESS:RSIP_FAILURE};this.ConnectToSipServer=function(){this._sipConnectStatus=barStatus_SipConnecting;this.config.ConnectCount+=1;return this._oRemoteSipSocket.WSConnect(this.config.RemoteSipServer,this.config.RemoteSipServerPort,0)?ACPI_SIP_SUCCESS:ACPI_SIP_FAILURE};this.DisconnectToSipServer=function(){this._sipConnectStatus=barStatus_SipDisconnecting;return this._oRemoteSipSocket.WSDisconnect()?ACPI_SIP_SUCCESS:ACPI_SIP_FAILURE};this.InitSreenRecord=function(){if(this._sipConnectStatus==barStatus_SipConnected)return this._SendMsg("Initial",stringFormatSip("{0}|{1}|{2}|{3}|{4}|{5}|{6}|{7}|{8}|{9}|{10}|{11}",this.config.ftpServer,this.config.ftpPort,this.config.ftpUser,this.config.ftpPppppp,this.config.ftpDir,this.config.ftpType,this.config.speedLimit,this.config.screenRecordType,this.config.frameRate,this.config.recordTime,this.config.vccId,this.config.agentID))};this.IsRecording=function(){return this.config.BeginRecord};this.Initial=function(a){if(this._sipConnectStatus==barStatus_SipConnected)return-1;a=a||{};this.config.ftpServer=a.ftpServer||"";this.config.ftpPort=a.ftpPort||2021;this.config.ftpUser=a.ftpUser||"";this.config.ftpPppppp=a.ftpPppppp||"";this.config.ftpDir=a.ftpDir||"";this.config.screenRecordType=a.screenRecordType||0;this.config.recordTime=a.recordTime||1200;this.config.vccId=a.vccID||"";this.config.agentID=a.agentID||"";this.OnDebug("connect Guard ...");this._oCINGuard.exeGuardCmd(cmd_GuardType_GetSipLocalPort,"","");return 0};this.UnInitial=function(){if(this._sipConnectStatus==barStatus_SipConnected)return this._SendMsg("UnInitial","")};this.BeginRecord=function(a,b,c){if(this.config.screenRecordType==emSreenCapture_call&&this._sipConnectStatus==barStatus_SipConnected&&1!=this.config.BeginRecord)return"undefined"==typeof b&&(b=""),this._SendMsg("BeginRecord",stringFormatSip("{0}|{1}|{2}",a,b,c))};this.EndRecord=function(){if(this.config.screenRecordType==emSreenCapture_call&&this._sipConnectStatus==barStatus_SipConnected&&0!=this.config.BeginRecord)return this._SendMsg("EndRecord","")};this.OnDebug=function(a){null!=this._oCallBack&&this._oCallBack.OnScreenRecordDebug(a)};this.OnError=function(a,b){null!=this._oCallBack&&this._oCallBack.OnScreenRecordError(a,b)};this.OnConnected=function(){null!=this._oCallBack&&this._oCallBack.OnScreenConnected()};this.OnUploadFile=function(a){null!=this._oCallBack&&this._oCallBack.OnScreenRecordUploadFile(msf)};this._Create();return this}var MSG_NONE=0,MSG_READY=1,MSG_SUCCESS=2,MSG_FAILURE=3,MSG_OUTOFTIME=4,MSG_EXPECTION=5,MSG_QUIT=6,CST_NULL=-1,CST_ONE=0,CST_IVR=1,CST_INVITED=2,CST_MAKECALL=3,CST_HOLD=4,CST_CONSULT=5,CST_CONSULTBEFORE=6,CST_CONFERENCE=7,CST_MCONFERENCE=8,Notify_MSG=0,Notify_OUTOFTIME=1,Notify_INVOKE=2;function JAcpCall(){this._acpEvent=new JAcpEvent;this._requestType=ACP_UNKNOWN;this._errorCode=this._msgReceived=-1;this._errorDes="";this.ReleaseCall=function(){this._acpEvent.body.callinfo.calledDevice="";this._acpEvent.body.callinfo.orgCalledDevice="";this._acpEvent.body.callinfo.orgCallingDevice="";this._acpEvent.body.callinfo.callBackDevice="";this._acpEvent.body.callinfo.callData="";this._acpEvent.body.callinfo.callingDevice="";this._acpEvent.body.callinfo.count=0};this.RefreshCTIParam=function(d){this._acpEvent.body.datas[0]=d.datas[0];this._acpEvent.body.datas[1]=d.datas[1];this._acpEvent.body.datas[2]=d.datas[2];this._acpEvent.body.datas[3]=d.datas[3]};this.RefreshHeaderInfo=function(d){this._acpEvent.head.curtime=d.curtime;this._acpEvent.head.sessionID=d.sessionID;this._acpEvent.head.serialID=d.serialID;this._acpEvent.head.serviceID=d.serviceID};this.RefressAgentInfo=function(d){this._acpEvent.body.agent.vccID=d.vccID;this._acpEvent.body.agent.agentID=d.agentID;this._acpEvent.body.agent.deviceID=d.deviceID;this._acpEvent.body.agent.agentStatus=d.agentStatus;this._acpEvent.body.agent.phoneStatus=d.phoneStatus;this._acpEvent.body.agent.master=d.master;this._acpEvent.body.agent.displayNumber=d.displayNumber};this.RefressCauseInfo=function(d){this._acpEvent.body.cause.code=d.code;this._acpEvent.body.cause.desc=d.desc;this._acpEvent.body.cause.scode=d.scode};this.RefressServiceDirect=function(d){this._acpEvent.head.serviceID=d};this.RefressCtiVersion=function(d){this._acpEvent.ctiversion.majorVersion=d.majorVersion;this._acpEvent.ctiversion.yearVersion=d.yearVersion;this._acpEvent.ctiversion.monthVersion=d.monthVersion};this.SetAgentStatus=function(d){this._acpEvent.body.agent.agentStatus=d};this.GetCallID=function(){return this._acpEvent.head.sessionID};this.SetAcpMessage=function(d){this._acpEvent.acpMessage=d};this.GetAcpMessage=function(){return this._acpEvent.acpMessage};this.RefressDirection=function(d){this._acpEvent.head.direction=d};this.RefreshBody=function(d){this._acpEvent.body.eventClass=d.eventClass;this._acpEvent.body.eventType=d.eventType;this._acpEvent.body.datas_count=d.datas_count;this._acpEvent.body.eventTypeName=d.eventTypeName;for(var a=0;a<d.datas_count;a++)this._acpEvent.body.datas[a]=d.datas[a]};this.RefreshCallinfo=function(d,a){a&&(this._acpEvent.body.callinfo.callingDevice=d.callingDevice,this._acpEvent.body.callinfo.calledDevice=d.calledDevice,this._acpEvent.body.callinfo.orgCalledDevice=d.orgCalledDevice,this._acpEvent.body.callinfo.orgCallingDevice=d.orgCallingDevice,this._acpEvent.body.callinfo.callBackDevice=d.callBackDevice,this._acpEvent.body.callinfo.callData=d.callData);this._acpEvent.body.callinfo.count=d.count;if(!(0>=this._acpEvent.body.callinfo.count))for(var b=0;b<this._acpEvent.body.callinfo.count;++b)this._acpEvent.body.callinfo.device[b].deviceID=d.device[b].deviceID,this._acpEvent.body.callinfo.device[b].legID=d.device[b].legID,this._acpEvent.body.callinfo.device[b].phonestatus=d.device[b].phonestatus,this._acpEvent.body.callinfo.device[b].av=d.device[b].av,this._acpEvent.body.callinfo.device[b].tc=d.device[b].tc};this.RefreshCallReport=function(d,a){1==a?(this._acpEvent.body.reportinfo.callid="",this._acpEvent.body.reportinfo.sid="",this._acpEvent.body.reportinfo.usernumber="",this._acpEvent.body.reportinfo.direction="",this._acpEvent.body.reportinfo.serviceid="",this._acpEvent.body.reportinfo.detail="",this._acpEvent.body.reportinfo.starttime="",this._acpEvent.body.reportinfo.ringtime="",this._acpEvent.body.reportinfo.answertime="",this._acpEvent.body.reportinfo.endtime="",this._acpEvent.body.reportinfo.ringseconds="",this._acpEvent.body.reportinfo.answerseconds="",this._acpEvent.body.reportinfo.answerflag="",this._acpEvent.body.reportinfo.srfmsgid="",this._acpEvent.body.reportinfo.msserver="",this._acpEvent.body.reportinfo.callrescode=""):(this._acpEvent.body.reportinfo.callid=d.callid,this._acpEvent.body.reportinfo.sid=d.sid,this._acpEvent.body.reportinfo.usernumber=d.usernumber,this._acpEvent.body.reportinfo.direction=d.direction,this._acpEvent.body.reportinfo.serviceid=d.serviceid,this._acpEvent.body.reportinfo.detail=d.detail,this._acpEvent.body.reportinfo.starttime=d.starttime,this._acpEvent.body.reportinfo.ringtime=d.ringtime,this._acpEvent.body.reportinfo.answertime=d.answertime,this._acpEvent.body.reportinfo.endtime=d.endtime,this._acpEvent.body.reportinfo.ringseconds=d.ringseconds,this._acpEvent.body.reportinfo.answerseconds=d.answerseconds,this._acpEvent.body.reportinfo.answerflag=d.answerflag,this._acpEvent.body.reportinfo.srfmsgid=d.srfmsgid,this._acpEvent.body.reportinfo.msserver=d.msserver,this._acpEvent.body.reportinfo.callrescode=d.callrescode)};this.GetAlertDevice=function(){for(var d=0;d<this._acpEvent.body.callinfo.count;d++)if(this._acpEvent.body.callinfo.device[d].phonestatus==CS_ALERTING)return this._acpEvent.body.callinfo.device[d];return 0};this.SetAlertDevice=function(d,a){var b=this.GetIndexByDeviceID(d);-1!=b&&(this._acpEvent.body.callinfo.device[b].phonestatus=a)};this.GetHoldDevice=function(){for(var d=0;d<this._acpEvent.body.callinfo.count;d++)if(this._acpEvent.body.callinfo.device[d].phonestatus==CS_HELD)return this._acpEvent.body.callinfo.device[d];return 0};this.GetDeviceByDeviceID=function(d){for(var a=0;a<this._acpEvent.body.callinfo.count;a++)if(this._acpEvent.body.callinfo.device[a].deviceID==d)return this._acpEvent.body.callinfo.device[a];return 0};this.GetIndexByDeviceID=function(d){for(var a=0;a<this._acpEvent.body.callinfo.count;a++)if(this._acpEvent.body.callinfo.device[a].deviceID==d)return a;return-1};this.GetCallInfoString=function(){for(var d,a="",b=0;b<this._acpEvent.body.callinfo.count;b++)d=this._acpEvent.body.callinfo.device[b],d=stringFormat("{0}|{1}|{2}",d.legID,d.deviceID,d.phonestatus),a=0==b?d:a+"$"+d;return a};this.GetDeviceCount=function(){return this._acpEvent.body.callinfo.count};this.GetCallScene=function(){var d;switch(this.GetDeviceCount()){case 1:d=CST_ONE;break;case 2:d=this._acpEvent.body.agent.deviceID!=this._acpEvent.body.callinfo.callingDevice?0==this._acpEvent.body.agent.master?CST_INVITED:CST_IVR:CST_MAKECALL;break;case 3:d=0!=this.GetHoldDevice()?0!=this.GetAlertDevice()?CST_CONSULTBEFORE:CST_CONSULT:CST_CONFERENCE;break;case 4:case 5:case 6:case 7:case 8:case 9:d=CST_MCONFERENCE;break;default:d=CST_NULL}return d};this.GetUserDevice=function(){if(2!=this.GetDeviceCount())return 0;for(var d=0;d<this._acpEvent.body.callinfo.count;d++)if(this._acpEvent.body.callinfo.device[d].deviceID!=this._acpEvent.body.agent.deviceID)return this._acpEvent.body.callinfo.device[d];return 0};this.GetUserNo=function(){return this._acpEvent.body.callinfo.callingDevice==this._acpEvent.body.agent.deviceID?this._acpEvent.body.callinfo.orgCalledDevice:this._acpEvent.body.callinfo.callingDevice};this.GetUserAV=function(){return 2!=this.GetDeviceCount()?"":this._acpEvent.body.callinfo.device[0].deviceID==this._acpEvent.body.agent.deviceID?this._acpEvent.body.callinfo.device[1].av:this._acpEvent.body.callinfo.device[0].av};this.GetUserTC=function(){return 2!=this.GetDeviceCount()?"":this._acpEvent.body.callinfo.device[0].deviceID==this._acpEvent.body.agent.deviceID?this._acpEvent.body.callinfo.device[1].tc:this._acpEvent.body.callinfo.device[0].tc};this.GetPartenerNum=function(){switch(this._acpEvent.head.serviceID){case CD_IVR_CALLIN:case CD_SERVRE_EXACT_CALLOUT:case CD_SINGLE_CALLOUT:case CD_STEPBYSTEP_CALLOUT:case CD_FORECAST_CALLOUT:case CD_CONSULT_CALLOUT:return this._acpEvent.body.callinfo.callingDevice;case CD_PREVIEW_CALLOUT:case CD_AGENT_OUTSIDE_CALLOUT:case CD_AGENT_INSIDE_CALLOUT:case CD_EXACT_PREVIEW_CALLOUT:case CD_MONITOR_CALLIN:case CD_INTERCEPT_CALLIN:case CD_INSERT_CALLIN:return this._acpEvent.body.callinfo.orgCalledDevice;case CD_HELP_CALLIN:return this._acpEvent.body.callinfo.orgCalledDevice;case CD_IVR_CALLOUT:case CD_BRIDGE_CALLOUT:return this._acpEvent.body.callinfo.callingDevice;default:return this._acpEvent.body.callinfo.callingDevice}};this.GetDirection=function(){return this._acpEvent.head.direction};this.GetServiceDirect=function(){return this._acpEvent.head.serviceID};this.DeleteDeviceByID=function(d){d=this.GetIndexByDeviceID(d);if(-1!=d){for(;d<this._acpEvent.body.callinfo.count;++d)this._acpEvent.body.callinfo.device[d].deviceID=this._acpEvent.body.callinfo.device[d+1].deviceID,this._acpEvent.body.callinfo.device[d].legID=this._acpEvent.body.callinfo.device[d+1].legID,this._acpEvent.body.callinfo.device[d].phonestatus=this._acpEvent.body.callinfo.device[d+1].phonestatus,this._acpEvent.body.callinfo.device[d].av=this._acpEvent.body.callinfo.device[d+1].av,this._acpEvent.body.callinfo.device[d].tc=this._acpEvent.body.callinfo.device[d+1].tc;--this._acpEvent.body.callinfo.count}};return this}function JACPParse(){this.m_arrCmd=[];this.m_arrCmdIndex=[];this._oParse=new CXmlParse;this._oAcpEvent=new JAcpEvent;this.m_maxLegId=4;this._Init=function(){0<this.m_arrCmd.length||(this.m_arrCmd.push("heartBeat"),this.m_arrCmdIndex.push(ACP_HEART_BEAT),this.m_arrCmd.push("Initial"),this.m_arrCmdIndex.push(ACP_Initial_CONF),this.m_arrCmd.push("SignIn"),this.m_arrCmdIndex.push(ACP_SignIn_CONF),this.m_arrCmd.push("SignOut"),this.m_arrCmdIndex.push(ACP_SignOut_CONF),this.m_arrCmd.push("SetBusy"),this.m_arrCmdIndex.push(ACP_SetBusy_CONF),this.m_arrCmd.push("SetIdle"),this.m_arrCmdIndex.push(ACP_SetIdle_CONF),this.m_arrCmd.push("AgentReport"),this.m_arrCmdIndex.push(ACP_AgentReport_CONF),this.m_arrCmd.push("SetAgentAutoEnterIdle"),this.m_arrCmdIndex.push(ACP_SetAgentAutoEnterIdle_CONF),this.m_arrCmd.push("AgentEnterIdle"),this.m_arrCmdIndex.push(ACP_AgentEnterIdle_CONF),this.m_arrCmd.push("SetWrapUp"),this.m_arrCmdIndex.push(ACP_SetWrapUp_CONF),this.m_arrCmd.push("ForceIdle"),this.m_arrCmdIndex.push(ACP_ForceIdle_CONF),this.m_arrCmd.push("ForceBusy"),this.m_arrCmdIndex.push(ACP_ForceBusy_CONF),this.m_arrCmd.push("ForceOut"),this.m_arrCmdIndex.push(ACP_ForceOut_CONF),this.m_arrCmd.push("Lock"),this.m_arrCmdIndex.push(ACP_Lock_CONF),this.m_arrCmd.push("UnLock"),this.m_arrCmdIndex.push(ACP_UnLock_CONF),this.m_arrCmd.push("ReleaseCall"),this.m_arrCmdIndex.push(ACP_ReleaseCall_CONF),this.m_arrCmd.push("ReleaseCallByCallID"),this.m_arrCmdIndex.push(ACP_ReleaseCallByCallID_CONF),this.m_arrCmd.push("SendDTMF"),this.m_arrCmdIndex.push(ACP_SendDTMF_CONF),this.m_arrCmd.push("CallInside"),this.m_arrCmdIndex.push(ACP_CallInside_CONF),this.m_arrCmd.push("Consultation"),this.m_arrCmdIndex.push(ACP_Consultation_CONF),this.m_arrCmd.push("CallOutside"),this.m_arrCmdIndex.push(ACP_CallOutside_CONF),this.m_arrCmd.push("SingleStepTransfer"),this.m_arrCmdIndex.push(ACP_SingleStepTransfer_CONF),this.m_arrCmd.push("Transfer"),this.m_arrCmdIndex.push(ACP_Transfer_CONF),this.m_arrCmd.push("SetTransfer"),this.m_arrCmdIndex.push(ACP_SetTransfer_CONF),this.m_arrCmd.push("Hold"),this.m_arrCmdIndex.push(ACP_Hold_CONF),this.m_arrCmd.push("RetrieveHold"),this.m_arrCmdIndex.push(ACP_RetrieveHold_CONF),this.m_arrCmd.push("Conference"),this.m_arrCmdIndex.push(ACP_Conference_CONF),this.m_arrCmd.push("Alternate"),this.m_arrCmdIndex.push(ACP_Alternate_CONF),this.m_arrCmd.push("DoReplyMultimeAndHangUpCall"),this.m_arrCmdIndex.push(ACP_DoReplyMultimeAndHangUpCall_CONF),this.m_arrCmd.push("Listen"),this.m_arrCmdIndex.push(ACP_Listen_CONF),this.m_arrCmd.push("Help"),this.m_arrCmdIndex.push(ACP_Help_CONF),this.m_arrCmd.push("Intercept"),this.m_arrCmdIndex.push(ACP_Intercept_CONF),this.m_arrCmd.push("Insert"),this.m_arrCmdIndex.push(ACP_Insert_CONF),this.m_arrCmd.push("StopInsert"),this.m_arrCmdIndex.push(ACP_StopInsert_CONF),this.m_arrCmd.push("BeginRecord"),this.m_arrCmdIndex.push(ACP_BeginRecord_CONF),this.m_arrCmd.push("StopRecord"),this.m_arrCmdIndex.push(ACP_StopRecord_CONF),this.m_arrCmd.push("BeginPlay"),this.m_arrCmdIndex.push(ACP_BeginPlay_CONF),this.m_arrCmd.push("StopPlay"),this.m_arrCmdIndex.push(ACP_StopPlay_CONF),this.m_arrCmd.push("BeginCollect"),this.m_arrCmdIndex.push(ACP_BeginCollect_CONF),this.m_arrCmd.push("StopCollect"),this.m_arrCmdIndex.push(ACP_StopCollect_CONF),this.m_arrCmd.push("Bridge"),this.m_arrCmdIndex.push(ACP_Bridge_CONF),this.m_arrCmd.push("SMMsgReq"),this.m_arrCmdIndex.push(ACP_SMMsg_CONF),this.m_arrCmd.push("Answer"),this.m_arrCmdIndex.push(ACP_Answer_CONF),this.m_arrCmd.push("Mute"),this.m_arrCmdIndex.push(ACP_Mute_CONF),this.m_arrCmd.push("SetCallData"),this.m_arrCmdIndex.push(ACP_SetCallData_CONF),this.m_arrCmd.push("GetCallData"),this.m_arrCmdIndex.push(ACP_GetCallData_CONF),this.m_arrCmd.push("QueryTotalQueueWaitNum"),this.m_arrCmdIndex.push(ACP_QueryTotalQueueWaitNum_CONF),this.m_arrCmd.push("QueryQueueWaitNum"),this.m_arrCmdIndex.push(ACP_QueryQueueWaitNum_CONF),this.m_arrCmd.push("QueryAgentStatus"),this.m_arrCmdIndex.push(ACP_QueryAgentStatus_CONF),this.m_arrCmd.push("GetAccessNo"),this.m_arrCmdIndex.push(ACP_GetAccessNo_CONF),this.m_arrCmd.push("QueryAgentCallInfo"),this.m_arrCmdIndex.push(ACP_QueryAgentCallInfo_CONF),this.m_arrCmd.push("SetCTIParam"),this.m_arrCmdIndex.push(ACP_SetCTIParam_CONF),this.m_arrCmd.push("GetCTIParam"),this.m_arrCmdIndex.push(ACP_GetCTIParam_CONF),this.m_arrCmd.push("GetCTITime"),this.m_arrCmdIndex.push(ACP_GetCTITime_CONF),this.m_arrCmd.push("QuerySpAgentList"),this.m_arrCmdIndex.push(ACP_QuerySpAgentList_CONF),this.m_arrCmd.push("ChangeCallQueue"),this.m_arrCmdIndex.push(ACP_ChangeCallQueue_CONF),this.m_arrCmd.push("AgentReconnect"),this.m_arrCmdIndex.push(ACP_AgentReconnect_CONF),this.m_arrCmd.push("WorkReport"),this.m_arrCmdIndex.push(ACP_WorkReport_CONF),this.m_arrCmd.push("SendWeiboMsg"),this.m_arrCmdIndex.push(ACP_SendWeiboMsg_CONF),this.m_arrCmd.push("SendMessage"),this.m_arrCmdIndex.push(ACP_SendMessage_CONF),this.m_arrCmd.push("SendWeChatMsg"),this.m_arrCmdIndex.push(ACP_SendWeChatMsg_CONF),this.m_arrCmd.push("QueryWeChatSessionIDs"),this.m_arrCmdIndex.push(ACP_QueryWeChatSessionIDs_CONF),this.m_arrCmd.push("GetWeChatParam"),this.m_arrCmdIndex.push(ACP_GetWeChatParam_CONF),this.m_arrCmd.push("TransferCallQueue"),this.m_arrCmdIndex.push(ACP_TransferCallQueue_CONF),this.m_arrCmd.push("ForceReleaseCall"),this.m_arrCmdIndex.push(ACP_ForceReleaseCall_CONF),this.m_arrCmd.push("UpdateMedia"),this.m_arrCmdIndex.push(ACP_UpdateMedia_CONF),this.m_arrCmd.push("BeginCapture"),this.m_arrCmdIndex.push(ACP_BeginCapture_CONF),this.m_arrCmd.push("Connect"),this.m_arrCmdIndex.push(ACP_Connect_CONF),this.m_arrCmd.push("ModifyVideoStream"),this.m_arrCmdIndex.push(ACP_ModifyVideoStream_CONF),this.m_arrCmd.push("OnOrigated"),this.m_arrCmdIndex.push(ACP_OnOrigated),this.m_arrCmd.push("OnAnswerRequest"),this.m_arrCmdIndex.push(ACP_OnAnswerRequest),this.m_arrCmd.push("OnAnswerSuccess"),this.m_arrCmdIndex.push(ACP_OnAnswerSuccess),this.m_arrCmd.push("OnAnswerFailure"),this.m_arrCmdIndex.push(ACP_OnAnswerFailure),this.m_arrCmd.push("OnUserHangupBeforeResponse"),this.m_arrCmdIndex.push(ACP_OnUserHangupBeforeResponse),this.m_arrCmd.push("OnRequestRelease"),this.m_arrCmdIndex.push(ACP_OnRequestRelease),this.m_arrCmd.push("OnReleaseSuccess"),this.m_arrCmdIndex.push(ACP_OnReleaseSuccess),this.m_arrCmd.push("OnReleaseFailure"),this.m_arrCmdIndex.push(ACP_OnReleaseFailure),this.m_arrCmd.push("OnLongNoAnswer"),this.m_arrCmdIndex.push(ACP_OnLongNoAnswer),this.m_arrCmd.push("OnConsultationBack"),this.m_arrCmdIndex.push(ACP_OnConsultationBack),this.m_arrCmd.push("OnConsultationSuccess"),this.m_arrCmdIndex.push(ACP_OnConsultationSuccess),this.m_arrCmd.push("OnConsultationFailure"),this.m_arrCmdIndex.push(ACP_OnConsultationFailure),this.m_arrCmd.push("OnTransSuccess"),this.m_arrCmdIndex.push(ACP_OnTransSuccess),this.m_arrCmd.push("OnTransFailure"),this.m_arrCmdIndex.push(ACP_OnTransFailure),this.m_arrCmd.push("OnTransferred"),this.m_arrCmdIndex.push(ACP_OnTransferred),this.m_arrCmd.push("OnReturnFromIVR"),this.m_arrCmdIndex.push(ACP_OnReturnFromIVR),this.m_arrCmd.push("OnReturnFromPhone"),this.m_arrCmdIndex.push(ACP_OnReturnFromPhone),this.m_arrCmd.push("OnBridgeSuccess"),this.m_arrCmdIndex.push(ACP_OnBridgeSuccess),this.m_arrCmd.push("OnBridgeFailure"),this.m_arrCmdIndex.push(ACP_OnBridgeFailure),this.m_arrCmd.push("OnBeginSendDTMFSuccess"),this.m_arrCmdIndex.push(ACP_OnBeginSendDTMFSuccess),this.m_arrCmd.push("OnBeginSendDTMFFailure"),this.m_arrCmdIndex.push(ACP_OnBeginSendDTMFFailure),this.m_arrCmd.push("OnStopSendDTMFSuccess"),this.m_arrCmdIndex.push(ACP_OnStopSendDTMFSuccess),this.m_arrCmd.push("OnStopSendDTMFFailure"),this.m_arrCmdIndex.push(ACP_OnStopSendDTMFFailure),this.m_arrCmd.push("OnSingleTransferSuccess"),this.m_arrCmdIndex.push(ACP_OnSingleTransferSuccess),this.m_arrCmd.push("OnSingleTransferFailure"),this.m_arrCmdIndex.push(ACP_OnSingleTransferFailure),this.m_arrCmd.push("OnCallInsideSuccess"),this.m_arrCmdIndex.push(ACP_OnCallInsideSuccess),this.m_arrCmd.push("OnCallInsideFailure"),this.m_arrCmdIndex.push(ACP_OnCallInsideFailure),this.m_arrCmd.push("OnCallInsideSuccTalk"),this.m_arrCmdIndex.push(ACP_OnCallInsideSuccTalk),this.m_arrCmd.push("OnCallOutsideSuccess"),this.m_arrCmdIndex.push(ACP_OnCallOutsideSuccess),this.m_arrCmd.push("OnCallOutsideFailure"),this.m_arrCmdIndex.push(ACP_OnCallOutsideFailure),this.m_arrCmd.push("OnCallOutsideSuccTalk"),this.m_arrCmdIndex.push(ACP_OnCallOutsideSuccTalk),this.m_arrCmd.push("OnHoldSuccess"),this.m_arrCmdIndex.push(ACP_OnHoldSuccess),this.m_arrCmd.push("OnHoldFailure"),this.m_arrCmdIndex.push(ACP_OnHoldFailure),this.m_arrCmd.push("OnRetrieveHoldSuccess"),this.m_arrCmdIndex.push(ACP_OnRetrieveHoldSuccess),this.m_arrCmd.push("OnRetrieveHoldFailure"),this.m_arrCmdIndex.push(ACP_OnRetrieveHoldFailure),this.m_arrCmd.push("OnHoldCallRelease"),this.m_arrCmdIndex.push(ACP_OnHoldCallRelease),this.m_arrCmd.push("OnConferenceSuccess"),this.m_arrCmdIndex.push(ACP_OnConferenceSuccess),this.m_arrCmd.push("OnConferenceFailure"),this.m_arrCmdIndex.push(ACP_OnConferenceFailure),this.m_arrCmd.push("OnConferenceSucTalk"),this.m_arrCmdIndex.push(ACP_OnConferenceSucTalk),this.m_arrCmd.push("OnHangupCallInConf"),this.m_arrCmdIndex.push(ACP_OnHangupCallInConf),this.m_arrCmd.push("OnAlternateSuccess"),this.m_arrCmdIndex.push(ACP_OnAlternateSuccess),this.m_arrCmd.push("OnAlternated"),this.m_arrCmdIndex.push(ACP_OnAlternated),this.m_arrCmd.push("OnAlternateFailure"),this.m_arrCmdIndex.push(ACP_OnAlternateFailure),this.m_arrCmd.push("OnListenSuccess"),this.m_arrCmdIndex.push(ACP_OnListenSuccess),this.m_arrCmd.push("OnListenFailure"),this.m_arrCmdIndex.push(ACP_OnListenFailure),this.m_arrCmd.push("OnHelpSuccess"),this.m_arrCmdIndex.push(ACP_OnHelpSuccess),this.m_arrCmd.push("OnHelpFailure"),this.m_arrCmdIndex.push(ACP_OnHelpFailure),this.m_arrCmd.push("OnInsertSuccess"),this.m_arrCmdIndex.push(ACP_OnInsertSuccess),this.m_arrCmd.push("OnInsertFailure"),this.m_arrCmdIndex.push(ACP_OnInsertFailure),this.m_arrCmd.push("OnStopInsertSuccess"),this.m_arrCmdIndex.push(ACP_OnStopInsertSuccess),this.m_arrCmd.push("OnStopInsertFailure"),this.m_arrCmdIndex.push(ACP_OnStopInsertFailure),this.m_arrCmd.push("OnInterceptSuccess"),this.m_arrCmdIndex.push(ACP_OnInterceptSuccess),this.m_arrCmd.push("OnInterceptFailure"),this.m_arrCmdIndex.push(ACP_OnInterceptFailure),this.m_arrCmd.push("OnForceIdleSuccess"),this.m_arrCmdIndex.push(ACP_OnForceIdleSuccess),this.m_arrCmd.push("OnForceIdleFailure"),this.m_arrCmdIndex.push(ACP_OnForceIdleFailure),this.m_arrCmd.push("OnForceBusySuccess"),this.m_arrCmdIndex.push(ACP_OnForceBusySuccess),this.m_arrCmd.push("OnForceBusyFailure"),this.m_arrCmdIndex.push(ACP_OnForceBusyFailure),this.m_arrCmd.push("OnForceOutSuccess"),this.m_arrCmdIndex.push(ACP_OnForceOutSuccess),this.m_arrCmd.push("OnForceOutFailure"),this.m_arrCmdIndex.push(ACP_OnForceOutFailure),this.m_arrCmd.push("OnBeginRecordSuccess"),this.m_arrCmdIndex.push(ACP_OnBeginRecordSuccess),this.m_arrCmd.push("OnBeginRecordFailure"),this.m_arrCmdIndex.push(ACP_OnBeginRecordFailure),this.m_arrCmd.push("OnStopRecordSuccess"),this.m_arrCmdIndex.push(ACP_OnStopRecordSuccess),this.m_arrCmd.push("OnStopRecordFailure"),this.m_arrCmdIndex.push(ACP_OnStopRecordFailure),this.m_arrCmd.push("OnForceIdle"),this.m_arrCmdIndex.push(ACP_OnForceIdle),this.m_arrCmd.push("OnForceBusy"),this.m_arrCmdIndex.push(ACP_OnForceBusy),this.m_arrCmd.push("OnForceOut"),this.m_arrCmdIndex.push(ACP_OnForceOut),this.m_arrCmd.push("OnSignOuted"),this.m_arrCmdIndex.push(ACP_OnSignOuted),this.m_arrCmd.push("OnSystemIdle"),this.m_arrCmdIndex.push(ACP_OnSystemIdle),this.m_arrCmd.push("OnLocked"),this.m_arrCmdIndex.push(ACP_OnLocked),this.m_arrCmd.push("OnUnLocked"),this.m_arrCmdIndex.push(ACP_OnUnLocked),this.m_arrCmd.push("OnForceRelease"),this.m_arrCmdIndex.push(ACP_OnForceRelease),this.m_arrCmd.push("OnAgentAllBusy"),this.m_arrCmdIndex.push(ACP_OnAgentAllBusy),this.m_arrCmd.push("OnIntercepted"),this.m_arrCmdIndex.push(ACP_OnIntercepted),this.m_arrCmd.push("OnInserted"),this.m_arrCmdIndex.push(ACP_OnInserted),this.m_arrCmd.push("OnStopListenSuccess"),this.m_arrCmdIndex.push(ACP_OnStopListenSuccess),this.m_arrCmd.push("OnStopListenFailure"),this.m_arrCmdIndex.push(ACP_OnStopListenFailure),this.m_arrCmd.push("OnListened"),this.m_arrCmdIndex.push(ACP_OnListened),this.m_arrCmd.push("OnBeginPlaySuccess"),this.m_arrCmdIndex.push(ACP_OnBeginPlaySuccess),this.m_arrCmd.push("OnBeginPlayFailure"),this.m_arrCmdIndex.push(ACP_OnBeginPlayFailure),this.m_arrCmd.push("OnStopPlaySuccess"),this.m_arrCmdIndex.push(ACP_OnStopPlaySuccess),this.m_arrCmd.push("OnStopPlayFailure"),this.m_arrCmdIndex.push(ACP_OnStopPlayFailure),this.m_arrCmd.push("OnBeginCollectSuccess"),this.m_arrCmdIndex.push(ACP_OnBeginCollectSuccess),this.m_arrCmd.push("OnBeginCollectFailure"),this.m_arrCmdIndex.push(ACP_OnBeginCollectFailure),this.m_arrCmd.push("OnStopCollectSuccess"),this.m_arrCmdIndex.push(ACP_OnStopCollectSuccess),this.m_arrCmd.push("OnStopcollectFailure"),this.m_arrCmdIndex.push(ACP_OnStopcollectFailure),this.m_arrCmd.push("GetLog"),this.m_arrCmdIndex.push(ACP_GetLog),this.m_arrCmd.push("OnCallQueueQuery"),this.m_arrCmdIndex.push(ACP_OnCallQueueQuery),this.m_arrCmd.push("OnQueueReport"),this.m_arrCmdIndex.push(ACP_OnQueueReport),this.m_arrCmd.push("OnSystemMessage"),this.m_arrCmdIndex.push(ACP_OnSystemMessage),this.m_arrCmd.push("OnRecvWeiboMsg"),this.m_arrCmdIndex.push(ACP_OnRecvWeiboMsg),this.m_arrCmd.push("OnStaticInfoReport"),this.m_arrCmdIndex.push(ACP_OnStaticInfoReport),this.m_arrCmd.push("OnRecvWeChatMsg"),this.m_arrCmdIndex.push(ACP_OnRecvWeChatMsg),this.m_arrCmd.push("OnWeChatEventReport"),this.m_arrCmdIndex.push(ACP_OnWeChatEventReport),this.m_arrCmd.push("OnForceReleaseCallSuccess"),this.m_arrCmdIndex.push(ACP_OnForceReleaseCallSuccess),this.m_arrCmd.push("OnForceReleaseCallFailure"),this.m_arrCmdIndex.push(ACP_OnForceReleaseCallFailure),this.m_arrCmd.push("OnAgentBusyReason"),this.m_arrCmdIndex.push(ACP_OnAgentBusyReason),this.m_arrCmd.push("OnAsrEventReport"),this.m_arrCmdIndex.push(ACP_OnAsrEventReport),this.m_arrCmd.push("OnStopSmSuccess"),this.m_arrCmdIndex.push(ACP_OnStopSmSuccess),this.m_arrCmd.push("OnUpdateMediaEvent"),this.m_arrCmdIndex.push(ACP_OnUpdateMediaEvent),this.m_arrCmd.push("OnStopCaptureSuccess"),this.m_arrCmdIndex.push(ACP_OnStopCaptureSuccess),this.m_arrCmd.push("OnConnectFailure"),this.m_arrCmdIndex.push(ACP_OnConnectFailure),this.m_arrCmd.push("OnModifyVideoStream"),this.m_arrCmdIndex.push(ACP_OnModifyVideoStream),this.m_arrCmd.push("OnMuteSuccess"),this.m_arrCmdIndex.push(ACP_OnMuteSuccess))};this._BuildGeneralConf=function(d,a){this._BuildAgentInfo(d.body.agent,a);this._BuildCauseInfo(d.body.cause,a)};this._BuildAgentInfo=function(d,a){var b=a.nType==xmlForIE?a.queryNode("acpMessage/body/agent"):a.queryNode("agent");null!=b&&(d.agentID=a.queryNodeAttribute(b,"agentID"),d.vccID=a.queryNodeAttribute(b,"vccID"),d.deviceID=a.queryNodeAttribute(b,"deviceID"),d.agentStatus=stringToInt(a.queryNodeAttribute(b,"agentStatus"),0),d.phoneStatus=stringToInt(a.queryNodeAttribute(b,"phoneStatus"),0),d.master=stringToInt(a.queryNodeAttribute(b,"master"),0),d.displayNumber=a.queryNodeAttribute(b,"displayNumber"))};this._BuildCauseInfo=function(d,a){var b=a.nType==xmlForIE?a.queryNode("acpMessage/body/cause"):a.queryNode("cause");null!=b&&(d.desc=a.queryNodeAttribute(b,"desc"),d.code=stringToInt(a.queryNodeAttribute(b,"code"),0),d.scode=a.queryNodeAttribute(b,"code"))};this._BuildCallinfo=function(d,a){if(a.nType==xmlForIE){var b=a.queryNode("acpMessage/body/callinfo");if(null!=b&&(d.calledDevice=a.queryNodeAttribute(b,"calledDevice"),d.orgCalledDevice=a.queryNodeAttribute(b,"origCalledDevice"),d.callingDevice=a.queryNodeAttribute(b,"origCallingDevice"),d.orgCallingDevice=a.queryNodeAttribute(b,"callingDevice"),d.opAgentID=a.queryNodeAttribute(b,"opAgentID"),d.callBackDevice=a.queryNodeAttribute(b,"callBackDevice"),d.callData=a.queryNodeAttribute(b,"callData"),b=a.queryNodes("acpMessage/body/callinfo/device"),null!=b)){var c=b.length+1;d.count=c;if(!(0>=d.count)){var e=a.queryNode("acpMessage/body/agent");null!=e&&(d.device[0].legID=this.m_maxLegId,d.device[0].deviceID=a.queryNodeAttribute(e,"deviceID"),d.device[0].phonestatus=stringToInt(a.queryNodeAttribute(e,"phoneStatus"),0),d.device[0].av="",d.device[0].tc="");for(e=1;e<c;++e)d.device[e].deviceID=this._GetSourceDevice(a.queryNodeAttribute(b[e-1],"deviceID")),d.device[e].legID=stringToInt(a.queryNodeAttribute(b[e-1],"legID"),0),d.device[e].phonestatus=stringToInt(a.queryNodeAttribute(b[e-1],"phonestatus"),0),d.device[e].av=this._GetSourceDevice(a.queryNodeAttribute(b[e-1],"av")),d.device[e].tc=this._GetSourceDevice(a.queryNodeAttribute(b[e-1],"tc"))}}}else if(b=a.queryNode("callinfo"),null!=b&&(d.calledDevice=a.queryNodeAttribute(b,"calledDevice"),d.orgCalledDevice=a.queryNodeAttribute(b,"origCalledDevice"),d.callingDevice=a.queryNodeAttribute(b,"origCallingDevice"),d.orgCallingDevice=a.queryNodeAttribute(b,"callingDevice"),d.opAgentID=a.queryNodeAttribute(b,"opAgentID"),d.callBackDevice=a.queryNodeAttribute(b,"callBackDevice"),d.callData=a.queryNodeAttribute(b,"callData"),b=a.queryNodes("device"),null!=b&&(c=b.length+1,d.count=c,!(0>=d.count))))for(e=a.queryNode("agent"),null!=e&&(d.device[0].legID=4,this._IsOverAndEqualVersion(2,202105,1)&&(d.device[0].legID=8),d.device[0].deviceID=a.queryNodeAttribute(e,"deviceID"),d.device[0].phonestatus=stringToInt(a.queryNodeAttribute(e,"phoneStatus"),0),d.device[0].av="",d.device[0].tc=""),e=1;e<c;++e)d.device[e].deviceID=this._GetSourceDevice(a.queryNodeAttribute(b[e-1],"deviceID")),d.device[e].legID=stringToInt(a.queryNodeAttribute(b[e-1],"legID"),0),d.device[e].phonestatus=stringToInt(a.queryNodeAttribute(b[e-1],"phonestatus"),0),d.device[e].av=this._GetSourceDevice(a.queryNodeAttribute(b[e-1],"av")),d.device[e].tc=this._GetSourceDevice(a.queryNodeAttribute(b[e-1],"tc"))};this._BuildAnswerRequestEventReport=function(d,a){this._BuildGeneralConf(d,a);var b=a.queryNode("autoStatusInteval");null!=b&&(d.body.datas[0]=stringCopy(a.queryNodeValue(b),""),d.body.datas[1]=stringCopy(a.queryNodeAttribute(b,"idleStatus"),""),d.body.datas[2]=stringCopy(a.queryNodeAttribute(b,"idleSubStatus"),""));d.body.datas[3]=stringCopy(this._oParse.queryNodeValueByPath("alertingDevice"),"");d.body.datas[4]=stringCopy(this._oParse.queryNodeValueByPath("taskID"),"");d.body.datas[5]=stringCopy(this._oParse.queryNodeValueByPath("transParentParamet"),"");d.body.datas[6]=stringCopy(this._oParse.queryNodeValueByPath("authority"),"");d.body.datas[7]=stringCopy(this._oParse.queryNodeValueByPath("areaCode"),"");d.body.datas[8]=stringCopy(this._oParse.queryNodeValueByPath("fileName"),"");d.body.datas[9]=stringCopy(this._oParse.queryNodeValueByPath("networkInfo"),"");d.body.datas[10]=stringCopy(this._oParse.queryNodeValueByPath("queueTime"),"");d.body.datas[11]=stringCopy(this._oParse.queryNodeValueByPath("autoAnswer"),"");d.body.datas[12]=stringCopy(this._oParse.queryNodeValueByPath("projectID"),"");d.body.datas[13]=stringCopy(this._oParse.queryNodeValueByPath("accessArea"),"");d.body.datas[14]=stringCopy(this._oParse.queryNodeValueByPath("taskName"),"");d.body.datas[15]=stringCopy(this._oParse.queryNodeValueByPath("cityName"),"");d.body.datas[16]="0";b=this._oParse.queryNode("transParentParamet");null!=b&&(d.body.datas[16]=stringCopy(this._oParse.queryNodeAttribute(b,"codeType"),"0"));d.body.datas[17]=stringCopy(this._oParse.queryNodeValueByPath("serverName"),"");d.body.datas[18]=stringCopy(this._oParse.queryNodeValueByPath("screenRecord"),"0");d.body.datas[19]=stringCopy(this._oParse.queryNodeValueByPath("userType"),"");d.body.datas_count=20;this._BuildCallinfo(d.body.callinfo,a)};this._BuildCallReportInfo=function(d,a){var b=a.nType==xmlForIE?a.queryNode("acpMessage/body/reportinfo"):a.queryNode("reportinfo");null!=b&&(d.callid=a.queryNodeAttribute(b,"callid"),d.sid=a.queryNodeAttribute(b,"sid"),d.usernumber=a.queryNodeAttribute(b,"usernumber"),d.direction=a.queryNodeAttribute(b,"direction"),d.serviceid=a.queryNodeAttribute(b,"serviceid"),d.detail=a.queryNodeAttribute(b,"detail"),d.starttime=a.queryNodeAttribute(b,"starttime"),d.ringtime=a.queryNodeAttribute(b,"ringtime"),d.answertime=a.queryNodeAttribute(b,"answertime"),d.endtime=a.queryNodeAttribute(b,"endtime"),d.ringseconds=a.queryNodeAttribute(b,"ringseconds"),d.answerseconds=a.queryNodeAttribute(b,"answerseconds"),d.answerflag=a.queryNodeAttribute(b,"answerflag"),d.srfmsgid=a.queryNodeAttribute(b,"srfmsgid"),d.msserver=a.queryNodeAttribute(b,"msserver"),d.callrescode=a.queryNodeAttribute(b,"callrescode"))};this._GetSourceDevice=function(d){return 0==d||null==d||"undefined"==typeof d?"":8<=d.length&&"cinss10"==d.substr(0,7)?d.substr(7,d.length):d};this._GetCtiversion=function(d,a){var b;try{b=a.split("."),3==b.length&&(d.ctiversion.majorVersion=parseInt(b[0]),d.ctiversion.yearVersion=parseInt(b[1]),d.ctiversion.monthVersion=parseInt(b[2]))}catch(c){}};this._IsOverAndEqualVersion=function(d,a,b){return this._oAcpEvent.ctiversion.IsOverAndEqualVersion(d,a,b)};this.ParseMsg=function(d){var a=!0;try{var b="\x3cacpMessage"+getSubString(d,"\x3cacpMessage","\x3c/acpMessage\x3e")+"\x3c/acpMessage\x3e";if(!this._oParse.loadXml(b))return!1;this._oAcpEvent.acpMessage=b;if(this._oParse.nType==xmlForIE)this._oAcpEvent.head.curtime=this._oParse.queryNodeAttributeByPath("acpMessage","time"),this._oAcpEvent.head.sessionID=this._oParse.queryNodeValueByPath("acpMessage/header/sessionID"),this._oAcpEvent.head.serialID=this._oParse.queryNodeValueByPath("acpMessage/header/serialID"),this._oAcpEvent.head.direction=stringToInt(this._oParse.queryNodeAttributeByPath("acpMessage/header/serviceID","direction"),-1),this._oAcpEvent.head.serviceID=stringToInt(this._oParse.queryNodeValueByPath("acpMessage/header/serviceID"),0),this._oAcpEvent.head.timeStamp=this._oParse.queryNodeValueByPath("acpMessage/header/timeStamp"),this._oAcpEvent.body.eventTypeName=this._oParse.queryNodeAttributeByPath("acpMessage/body","name");else{this._oAcpEvent.head.curtime=this._oParse.queryNodeAttributeByPath("acpMessage","time");this._oAcpEvent.head.sessionID=this._oParse.queryNodeValueByPath("sessionID");this._oAcpEvent.head.serialID=this._oParse.queryNodeValueByPath("serialID");this._oAcpEvent.head.direction=stringToInt(this._oParse.queryNodeAttributeByPath("serviceID","direction"),-1);this._oAcpEvent.head.serviceID=stringToInt(this._oParse.queryNodeValueByPath("serviceID"),0);this._oAcpEvent.head.timeStamp=this._oParse.queryNodeValueByPath("timeStamp");this._oAcpEvent.body.eventTypeName=this._oParse.queryNodeAttributeByPath("body","name");var c=this._oParse.queryNodeAttributeByPath("body","type");"request"==c?this._oAcpEvent.body.eventClass=EC_REQUEST:"response"==c?this._oAcpEvent.body.eventClass=EC_CONFIRMATION:"event"==c&&(this._oAcpEvent.body.eventClass=EC_UNSOLICITED)}this._oAcpEvent.body.eventType=this.GetCmdIndex(this._oAcpEvent.body.eventTypeName);switch(this._oAcpEvent.body.eventType){case ACP_Initial_CONF:this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","code"),"0");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","desc"),"");this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","ip"),"");this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","port"),"");this._oAcpEvent.body.datas[4]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","param"),"");this._oAcpEvent.body.datas_count=5;break;case ACP_SignIn_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","idleStatus"),"");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","idleSubStatus"),"");this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","groupID"),"");this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","agentType"),"");this._oAcpEvent.body.datas[4]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","locked"),"");this._oAcpEvent.body.datas[5]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","allTimeRecord"),"");this._oAcpEvent.body.datas[6]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","deviceType"),"");this._oAcpEvent.body.datas[7]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","forwardID"),"");this._oAcpEvent.body.datas[8]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","forwardState"),"");this._oAcpEvent.body.datas[9]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","answerType"),"");this._oAcpEvent.body.datas[10]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","ctiEvent"),"");this._oAcpEvent.body.datas[11]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","av"),"");this._oAcpEvent.body.datas[12]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","substatus"),"");this._oAcpEvent.body.datas[13]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","loginmode"),"");this._oAcpEvent.body.datas[14]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","autoStatusInteval"),"");this._oAcpEvent.body.datas[15]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","autoAnswer"),"");this._oAcpEvent.body.datas[16]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","exitCause"),"");this._oAcpEvent.body.datas[17]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","ctiVersion"),"");this._oAcpEvent.body.datas[18]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","agentName"),"");this._oAcpEvent.body.datas[19]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","logLine"),"0");this._oAcpEvent.body.datas[20]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","maxLegId"),"4");this._oAcpEvent.body.datas[21]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","digitalman"),"0");this._oAcpEvent.body.datas[22]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","videoBypass"),"0");this._oAcpEvent.body.datas_count=23;this.m_maxLegId=stringToInt(this._oAcpEvent.body.datas[20]);this._oAcpEvent.ctiversion.Init(this._oAcpEvent.body.datas[17]);break;case ACP_SignOut_CONF:case ACP_SetBusy_CONF:case ACP_SetIdle_CONF:case ACP_AgentReport_CONF:case ACP_SetAgentAutoEnterIdle_CONF:case ACP_AgentEnterIdle_CONF:case ACP_SetWrapUp_CONF:case ACP_ForceIdle_CONF:case ACP_ForceBusy_CONF:case ACP_ForceOut_CONF:case ACP_Lock_CONF:case ACP_UnLock_CONF:case ACP_ReleaseCall_CONF:case ACP_ReleaseCallByCallID_CONF:case ACP_SendDTMF_CONF:case ACP_CallInside_CONF:case ACP_Consultation_CONF:case ACP_CallOutside_CONF:case ACP_SingleStepTransfer_CONF:case ACP_Transfer_CONF:case ACP_SetTransfer_CONF:case ACP_Hold_CONF:case ACP_RetrieveHold_CONF:case ACP_Conference_CONF:case ACP_Alternate_CONF:case ACP_DoReplyMultimeAndHangUpCall_CONF:case ACP_Listen_CONF:case ACP_Help_CONF:case ACP_Intercept_CONF:case ACP_Insert_CONF:case ACP_StopInsert_CONF:case ACP_BeginRecord_CONF:case ACP_StopRecord_CONF:case ACP_BeginPlay_CONF:case ACP_StopPlay_CONF:case ACP_BeginCollect_CONF:case ACP_StopCollect_CONF:case ACP_Bridge_CONF:case ACP_SMMsg_CONF:case ACP_Answer_CONF:case ACP_Mute_CONF:case ACP_SetCallData_CONF:case ACP_ChangeCallQueue_CONF:case ACP_TransferCallQueue_CONF:case ACP_ForceReleaseCall_CONF:case ACP_UpdateMedia_CONF:case ACP_BeginCapture_CONF:case ACP_WorkReport_CONF:case ACP_SendWeiboMsg_CONF:case ACP_SendMessage_CONF:case ACP_Connect_CONF:case ACP_ModifyVideoStream_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_AgentReconnect_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeAttributeByPath("agentParam","ctiEvent"),"");this._oAcpEvent.body.datas_count=1;break;case ACP_SetCTIParam_CONF:case ACP_GetCTIParam_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","destAgentID"),"");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","type"),"0");this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","param"),"");this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeAttributeByPath("parameter","codeType"),"0");this._oAcpEvent.body.datas_count=4;0!=this._oAcpEvent.body.cause.code&&(this._oAcpEvent.body.datas[1]=stringToInt(this._oParse.queryNodeAttributeByPath("extra","type"),0));break;case ACP_GetWeChatParam_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_QueryAgentStatus_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_QueryAgentCallInfo_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_GetCTITime_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("ctiTime"),"");this._oAcpEvent.body.datas_count=1;break;case ACP_QueryWeChatSessionIDs_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_SendWeChatMsg_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_QuerySpAgentList_CONF:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_OnOrigated:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._BuildCallinfo(this._oAcpEvent.body.callinfo,this._oParse);break;case ACP_OnAnswerRequest:this._BuildAnswerRequestEventReport(this._oAcpEvent,this._oParse);break;case ACP_OnHangupCallInConf:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_OnBeginSendDTMFSuccess:case ACP_OnBeginSendDTMFFailure:case ACP_OnStopSendDTMFSuccess:case ACP_OnStopSendDTMFFailure:case ACP_OnBeginPlaySuccess:case ACP_OnBeginPlayFailure:case ACP_OnStopPlaySuccess:case ACP_OnStopPlayFailure:case ACP_OnBeginCollectSuccess:case ACP_OnBeginCollectFailure:case ACP_OnStopCollectSuccess:case ACP_OnStopcollectFailure:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("fileName"),"");this._oAcpEvent.body.datas_count=1;break;case ACP_GetLog:break;case ACP_OnBeginRecordSuccess:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("fileName"),"");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeValueByPath("serverName"),"");this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeValueByPath("networkInfo"),"");this._oAcpEvent.body.datas_count=3;break;case ACP_GetCallData_CONF:break;case ACP_OnRequestRelease:case ACP_OnHoldCallRelease:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_OnReturnFromIVR:case ACP_OnConsultationBack:case ACP_OnReturnFromPhone:case ACP_OnReleaseSuccess:case ACP_OnForceRelease:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._BuildCallinfo(this._oAcpEvent.body.callinfo,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("releaseDevice"),"");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("releaseDevice","legID"),"");this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeAttributeByPath("releaseDevice","disconnectType"),"");this._oAcpEvent.body.datas_count=3;this._oAcpEvent.body.eventType!=ACP_OnReleaseSuccess&&this._oAcpEvent.body.eventType!=ACP_OnForceRelease||this._BuildCallReportInfo(this._oAcpEvent.body.reportinfo,this._oParse);break;case ACP_OnAnswerSuccess:case ACP_OnConsultationSuccess:case ACP_OnCallInsideSuccTalk:case ACP_OnCallOutsideSuccTalk:case ACP_OnHoldSuccess:case ACP_OnRetrieveHoldSuccess:case ACP_OnConferenceSuccess:case ACP_OnConferenceSucTalk:case ACP_OnTransferred:case ACP_OnAlternateSuccess:case ACP_OnAlternated:case ACP_OnListenSuccess:case ACP_OnHelpSuccess:case ACP_OnInsertSuccess:case ACP_OnInterceptSuccess:case ACP_OnInserted:case ACP_OnLocked:case ACP_OnUnLocked:case ACP_OnBridgeSuccess:case ACP_OnConnectFailure:case ACP_OnMuteSuccess:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._BuildCallinfo(this._oAcpEvent.body.callinfo,this._oParse);if(this._oAcpEvent.body.eventType==ACP_OnAnswerSuccess){if(this._oParse.nType==xmlForIE){this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("taskID"),"");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeValueByPath("transParentParamet"),"");this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeValueByPath("authority"),"");this._oAcpEvent.body.datas[3]="";var e=this._oParse.queryNode("transParentParamet")}else this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("taskID"),""),this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeValueByPath("transParentParamet"),""),this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeValueByPath("authority"),""),this._oAcpEvent.body.datas[3]="",e=this._oParse.queryNode("transParentParamet");null!=e&&(this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeAttribute(e,"codeType"),"0"));this._oAcpEvent.body.datas_count=4}break;case ACP_OnAnswerFailure:case ACP_OnUserHangupBeforeResponse:case ACP_OnReleaseFailure:case ACP_OnLongNoAnswer:case ACP_OnConsultationFailure:case ACP_OnTransSuccess:case ACP_OnTransFailure:case ACP_OnSingleTransferSuccess:case ACP_OnSingleTransferFailure:case ACP_OnCallInsideSuccess:case ACP_OnCallInsideFailure:case ACP_OnCallOutsideSuccess:case ACP_OnCallOutsideFailure:case ACP_OnHoldFailure:case ACP_OnRetrieveHoldFailure:case ACP_OnConferenceFailure:case ACP_OnAlternateFailure:case ACP_OnListenFailure:case ACP_OnHelpFailure:case ACP_OnInsertFailure:case ACP_OnStopInsertSuccess:case ACP_OnStopInsertFailure:case ACP_OnInterceptFailure:case ACP_OnForceIdleSuccess:case ACP_OnForceIdleFailure:case ACP_OnForceBusySuccess:case ACP_OnForceBusyFailure:case ACP_OnForceOutSuccess:case ACP_OnForceOutFailure:case ACP_OnBeginRecordFailure:case ACP_OnStopRecordSuccess:case ACP_OnStopRecordFailure:case ACP_OnForceIdle:case ACP_OnForceBusy:case ACP_OnForceOut:case ACP_OnAgentAllBusy:case ACP_OnStopListenSuccess:case ACP_OnStopListenFailure:case ACP_OnListened:case ACP_OnSignOuted:case ACP_OnIntercepted:case ACP_OnBridgeFailure:case ACP_OnSystemIdle:case ACP_OnForceReleaseCallSuccess:case ACP_OnForceReleaseCallFailure:case ACP_OnModifyVideoStream:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.eventType==ACP_OnSystemIdle&&(this._oAcpEvent.body.agent.agentSubStatus=stringToInt(this._oParse.queryNodeValueByPath("agentSubStatus"),0));this._oAcpEvent.body.eventType!=ACP_OnAnswerFailure&&this._oAcpEvent.body.eventType!=ACP_OnForceRelease&&this._oAcpEvent.body.eventType!=ACP_OnTransSuccess&&this._oAcpEvent.body.eventType!=ACP_OnSingleTransferSuccess||this._BuildCallReportInfo(this._oAcpEvent.body.reportinfo,this._oParse);break;case ACP_OnCallQueueQuery:case ACP_OnQueueReport:case ACP_OnRecvWeiboMsg:case ACP_OnStaticInfoReport:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=getSubString(b,"\x3c/cause\x3e","\x3c/body\x3e");this._oAcpEvent.body.datas_count=1;break;case ACP_OnRecvWeChatMsg:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_OnWeChatEventReport:this._BuildGeneralConf(this._oAcpEvent,this._oParse);break;case ACP_OnSystemMessage:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oParse.nType==xmlForIE?(this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeAttributeByPath("systemMessage","msgType"),"-1"),this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("systemMessage","codeType"),"0"),this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeValueByPath("systemMessage"),""),this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeAttributeByPath("formateMessage",""),""),""==this._oAcpEvent.body.datas[3]&&(this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeAttributeByPath("formatMessage",""),""))):(this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeAttributeByPath("systemMessage","msgType"),"-1"),this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("systemMessage","codeType"),"0"),this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeValueByPath("systemMessage"),""),this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeValueByPath("formateMessage",""),""),""==this._oAcpEvent.body.datas[3]&&(this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeValueByPath("formatMessage",""),"")));this._oAcpEvent.body.datas_count=4;break;case ACP_OnAgentBusyReason:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeAttributeByPath("agentSubStatus","value"),"");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("agentSubStatus","desc"),"");this._oAcpEvent.body.datas_count=2;break;case ACP_OnAsrEventReport:this._BuildGeneralConf(this._oAcpEvent,this._oParse);if(this._oParse.nType==xmlForIE)this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("acpMessage/asrEvent/seq"),""),this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeValueByPath("acpMessage/asrEvent/asrTimeStamp"),""),this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeAttributeByPath("acpMessage/asrEvent/line","state"),""),this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryNodeAttributeByPath("acpMessage/asrEvent/line","id"),""),this._oAcpEvent.body.datas[4]=stringCopy(this._oParse.queryNodeValueByPath("acpMessage/asrEvent/line"),""),this._oAcpEvent.body.datas[5]=stringCopy(this._oParse.queryNodeValueByPath("acpMessage/asrEvent/asrtext"),""),this._oAcpEvent.body.datas_count=6;else{var f=this._oParse.queryNode("asrEvent");null!=f&&(this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryChildNodeValue(f,"seq"),""),this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryChildNodeValue(f,"asrTimeStamp"),""),this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryChildNodeAttribute(f,"line","state"),""),this._oAcpEvent.body.datas[3]=stringCopy(this._oParse.queryChildNodeAttribute(f,"line","id"),""),this._oAcpEvent.body.datas[4]=stringCopy(this._oParse.queryChildNodeValue(f,"line"),""),this._oAcpEvent.body.datas[5]=stringCopy(this._oParse.queryChildNodeValue(f,"asrtext"),""),this._oAcpEvent.body.datas_count=6)}break;case ACP_OnStopSmSuccess:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("fileName"),"");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeValueByPath("smRescode"),"");this._oAcpEvent.body.datas_count=2;break;case ACP_OnUpdateMediaEvent:this._BuildGeneralConf(this._oAcpEvent,this._oParse);if(this._oParse.nType==xmlForIE)this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("acpMessage/body/updateMediaEvent/cause"),""),this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("acpMessage/body/updateMediaEvent/line","id"),""),this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryNodeAttributeByPath("acpMessage/body/updateMediaEvent/line","av"),"");else{var g=this._oParse.queryNode("updateMediaEvent");this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryChildNodeValue(g,"cause"),"");this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryChildNodeValue(g,"line"),"");this._oAcpEvent.body.datas[2]=stringCopy(this._oParse.queryChildNodeAttribute(g,"line","av"),"")}this._oAcpEvent.body.datas_count=3;break;case ACP_OnStopCaptureSuccess:this._BuildGeneralConf(this._oAcpEvent,this._oParse);this._oParse.nType==xmlForIE?(this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("acpMessage/body/serverName"),""),this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeAttributeByPath("acpMessage/body/fileName","id"),"")):(this._oAcpEvent.body.datas[0]=stringCopy(this._oParse.queryNodeValueByPath("serverName"),""),this._oAcpEvent.body.datas[1]=stringCopy(this._oParse.queryNodeValueByPath("fileName"),""));this._oAcpEvent.body.datas_count=2;break;case ACP_HEART_BEAT:break;default:a=!1}}catch(h){return alert(h.message),!1}return a};this.GetCmdName=function(d){for(var a=0;a<this.m_arrCmd.length;a++)if(this.m_arrCmdIndex[a]==d)return this.m_arrCmd[a];return""};this.GetCmdIndex=function(d){for(var a=0;a<this.m_arrCmd.length;a++)if(this.m_arrCmd[a]==d)return this.m_arrCmdIndex[a];return-1};this._Init();return this}function JAcpHoldUpStatus(){this.methodType=ACP_UNKNOWN;this.holdTimerInterval=-1;this.SetMethodType=function(d){this.methodType=d};this.GetMethodType=function(){return this.methodType};this.SetHoldUpTime=function(d){this.holdTimerInterval=d};this.GetHoldUpTime=function(){return this.holdTimerInterval};return this}var Device_Status_NULL=0,Device_Status_UC=1,Device_Status_CTI=2;function JAcpDevice(d){this._oVccBarCenter=d;this._oAcpHoldUpStatus=this._oAcpAPI=this._oAcpParse=null;this.m_lMsgReceived=MSG_READY;this._oAcpCall=null;this._thisSubBusyStatus=-1;this._connectStatus=Device_Status_NULL;this._sServer="";this._lPort=0;this._createObject=function(){this._oAcpParse=new JACPParse;this._oAcpAPI=new JAcpAPI(this._oVccBarCenter._oConfig.app);this._oAcpAPI.oParent=this;this._oAcpAPI.SetSocketCallBack(this._SocketCallBack);this._oAcpCall=new JAcpCall;this._oAcpHoldUpStatus=new JAcpHoldUpStatus};this._IsProssing=function(a){"undefined"==typeof a&&(a=ACP_UNKNOWN);return a!=ACP_UNKNOWN?this._BeginHoldStatus(a):this.m_lMsgReceived==MSG_NONE};this._WaitingForResult=function(a){if(this.m_lMsgReceived==MSG_NONE)return!1;this.m_lMsgReceived=MSG_NONE;this._oAcpCall.requestType=a;this._oVccBarCenter._oTimer.SetTimer(CINNGCCA_METHOD_ID,1E3*CINNGCCA_METHOD_INTERVAL);return!0};this._SocketCallBack=function(a,b){var c=this.oParent;a==WS_EVENT_ONOPEN?(c._oVccBarCenter._oTimer.KillTimer(CINNGCCA_OPENSOCKET_ID),c._oVccBarCenter._oTimer.SetTimer(CINNGCCA_EMPTYHEARTBEAT_ID,1E3*CINNGCCA_EMPTYHEARTBEAT_INTERVAL),c._SignInCTI(),c._OnAcpErrorNotify(a)):a==WS_EVENT_ONCLOSE?(c._oVccBarCenter._oTimer.KillTimer(CINNGCCA_OPENSOCKET_ID),c._oVccBarCenter._oTimer.KillTimer(CINNGCCA_EMPTYHEARTBEAT_ID),c._connectStatus==Device_Status_UC?c._oVccBarCenter._oTimer.SetTimer(CINNGCCA_REDIRECTSOCKET_ID,1E3*CINNGCCA_REDIRECTSOCKET_INTERVAL):c._OnAcpErrorNotify(a)):a==WS_EVENT_ONERROR?(c._oVccBarCenter._oTimer.KillTimer(CINNGCCA_OPENSOCKET_ID),c._OnAcpErrorNotify(a)):a==WS_EVENT_ONMESSAGE&&c._OnAcpNotify(b)};this._SignInCTI=function(){0==this._oVccBarCenter._oAgentInfo._isSignIn?(this._oAcpAPI.acpSetStreamParam(this._oVccBarCenter._oAgentInfo._agentType,this._oVccBarCenter._oAgentInfo._vccID,this._oVccBarCenter._oAgentInfo._agentID,this._oVccBarCenter._oAgentInfo._dN),this._connectStatus==Device_Status_NULL?this.Initial():this.SignIn()):this.AgentReconnect()};this._NotifyCmdResult=function(a){this._oAcpCall._msgReceived=a;this.m_lMsgReceived=MSG_READY;this._oVccBarCenter.OnNotify(this._oAcpCall,Notify_MSG)};this._NotifyEventResult=function(a){this._oVccBarCenter.OnNotify(this._oAcpCall,a)};this._IsCurrentAgent=function(a){return a.vccID==this._oVccBarCenter._oAgentInfo._vccID&&a.agentID==this._oVccBarCenter._oAgentInfo._agentID&&a.deviceID==this._oVccBarCenter._oAgentInfo._dN?!0:!1};this._UpdateSession=function(a){this._oAcpCall.RefreshHeaderInfo(a);this._oAcpAPI.acpSetSession(a.sessionID,a.serialID)};this._OnAcpErrorNotify=function(a){DisplayLog(VccBar_Log_Info,"JAcpDevice:SocketStatus("+this._oAcpAPI.GetSoceketStatus()+")");this._oVccBarCenter.OnAcpSocketNotify(a)};this._OnCmdConf=function(a){DisplayLog(VccBar_Log_Info,stringFormat("AgentInfo({0},{1},{2})",a.body.agent.vccID,a.body.agent.agentID,a.body.agent.deviceID));if(this._IsCurrentAgent(a.body.agent)){var b=!0;a.body.eventType!=ACP_ReleaseCall_CONF&&a.body.eventType!=ACP_CallOutside_CONF||0!=a.body.agent.agentStatus||(b=!1);b&&this._oAcpCall.RefressAgentInfo(a.body.agent);this._oAcpCall.SetAcpMessage(a.acpMessage);this._oAcpCall.RefressCauseInfo(a.body.cause);switch(a.body.eventType){case ACP_SignIn_CONF:this._oAcpAPI.acpSetCtiEvent(a.body.datas[10],a.head.timeStamp);0==a.body.cause.code&&(this._oAcpCall.RefressCtiVersion(a.ctiversion),this._connectStatus=Device_Status_CTI,this._oVccBarCenter.beginAgentReport(),this._oVccBarCenter._oTimer.SetTimer(CINNGCCA_AGENTRECONNECT_ID,1E3*CINNGCCA_AGENTRECONNECT_INTERVAL),this._oVccBarCenter._oTimer.SetTimer(CINNGCCA_METHOD_HOLDUP_STATUS_ID,1E3));break;case ACP_SignOut_CONF:0==a.body.cause.code&&(this._oVccBarCenter.stopAgentReport(),this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_AGENTRECONNECT_ID),this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_METHOD_HOLDUP_STATUS_ID));break;case ACP_SetBusy_CONF:this._oAcpCall._acpEvent.body.agent.agentSubStatus=this._thisSubBusyStatus;-1==a.body.cause.code&&(this._oAcpCall._acpEvent.body.agent.agentStatus=1);break;case ACP_AgentReport_CONF:this._oVccBarCenter.resetAgentReport();break;case ACP_AgentReconnect_CONF:0==a.body.cause.code&&this._oAcpAPI.acpSetCtiEvent(a.body.datas[0],a.head.timeStamp)}0==a.body.cause.code?this._NotifyCmdResult(MSG_SUCCESS):this._NotifyCmdResult(MSG_FAILURE)}};this._OnEventCommon=function(a){if(this._IsCurrentAgent(a.body.agent)){this._oAcpCall.RefressAgentInfo(a.body.agent);this._oAcpCall.RefressCauseInfo(a.body.cause);switch(a.body.eventType){case ACP_OnAnswerFailure:case ACP_OnUserHangupBeforeResponse:case ACP_OnReleaseFailure:case ACP_OnLongNoAnswer:case ACP_OnTransSuccess:case ACP_OnTransFailure:case ACP_OnSingleTransferSuccess:case ACP_OnSingleTransferFailure:case ACP_OnForceRelease:case ACP_OnCallInsideFailure:this._UpdateSession(a.head);this._oAcpCall.ReleaseCall();a.body.eventType!=ACP_OnAnswerFailure&&a.body.eventType!=ACP_OnForceRelease&&a.body.eventType!=ACP_OnTransSuccess&&a.body.eventType!=ACP_OnSingleTransferSuccess||this._oAcpCall.RefreshCallReport(a.body.reportinfo);break;case ACP_OnSystemIdle:this._oAcpCall._acpEvent.body.agent.agentSubStatus=a.body.agent.agentSubStatus;break;case ACP_OnForceOut:this._oVccBarCenter.stopAgentReport();this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_AGENTRECONNECT_ID);this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_METHOD_HOLDUP_STATUS_ID);break;case ACP_OnSignOuted:this._oVccBarCenter.stopAgentReport(),this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_AGENTRECONNECT_ID),this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_METHOD_HOLDUP_STATUS_ID)}this._NotifyEventResult(Notify_MSG)}};this._OnEventCallInfo=function(a){if(this._IsCurrentAgent(a.body.agent)){this._oAcpCall.RefressAgentInfo(a.body.agent);this._oAcpCall.RefressCauseInfo(a.body.cause);a.body.eventType!=ACP_OnAnswerSuccess?this._oAcpCall.RefreshCallinfo(a.body.callinfo,!1):this._oAcpCall.RefreshCallinfo(a.body.callinfo,!0);switch(a.body.eventType){case ACP_OnAnswerSuccess:this._UpdateSession(a.head);break;case ACP_OnCallInsideSuccTalk:case ACP_OnCallOutsideSuccTalk:this._UpdateSession(a.head)}this._NotifyEventResult(Notify_MSG)}};this._OnEventRelease=function(a){if(this._IsCurrentAgent(a.body.agent)&&this._oAcpCall.GetCallID()==a.head.sessionID){var b=a.body.datas[0];this._oAcpCall.RefressAgentInfo(a.body.agent);this._oAcpCall.RefressCauseInfo(a.body.cause);this._oAcpCall.RefreshCallReport(a.body.reportinfo);this._oVccBarCenter._oAgentInfo._dN==b?(this._oAcpCall.ReleaseCall(),this._UpdateSession(a.head)):this._oAcpCall.RefreshCallinfo(a.body.callinfo,!1);this._NotifyEventResult(Notify_MSG)}};this._OnAcpNotify=function(a){if(this._oAcpParse.ParseMsg(a))switch(a=this._oAcpParse._oAcpEvent,DisplayLog(VccBar_Log_Debug,stringFormat("JAcpDevice:_OnAcpNotify({0},{1})",a.body.eventType,a.body.eventTypeName)),a.body.eventType!=ACP_HEART_BEAT&&this._oAcpCall.RefreshBody(a.body),a.body.eventClass==EC_CONFIRMATION&&a.body.eventType!=ACP_HEART_BEAT&&this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_METHOD_ID),this._oVccBarCenter._oTimer.Reset(CINNGCCA_AGENTRECONNECT_ID),a.body.eventType){case ACP_HEART_BEAT:this._oAcpAPI.acpHeartBeat();break;case ACP_Initial_CONF:this._NotifyCmdResult(MSG_SUCCESS);"2"==a.body.datas[0]?(this._connectStatus=Device_Status_UC,this.CloseStream()):(this._connectStatus=Device_Status_CTI,this._SignInCTI());break;case ACP_SignIn_CONF:case ACP_SignOut_CONF:case ACP_SetBusy_CONF:case ACP_SetIdle_CONF:case ACP_AgentReport_CONF:case ACP_SetAgentAutoEnterIdle_CONF:case ACP_AgentEnterIdle_CONF:case ACP_SetWrapUp_CONF:case ACP_ForceIdle_CONF:case ACP_ForceBusy_CONF:case ACP_ForceOut_CONF:case ACP_Lock_CONF:case ACP_UnLock_CONF:case ACP_ReleaseCall_CONF:case ACP_ReleaseCallByCallID_CONF:case ACP_SendDTMF_CONF:case ACP_CallInside_CONF:case ACP_Consultation_CONF:case ACP_CallOutside_CONF:case ACP_SingleStepTransfer_CONF:case ACP_Transfer_CONF:case ACP_SetTransfer_CONF:case ACP_Hold_CONF:case ACP_RetrieveHold_CONF:case ACP_Conference_CONF:case ACP_Alternate_CONF:case ACP_DoReplyMultimeAndHangUpCall_CONF:case ACP_Listen_CONF:case ACP_Help_CONF:case ACP_Intercept_CONF:case ACP_Insert_CONF:case ACP_StopInsert_CONF:case ACP_BeginRecord_CONF:case ACP_StopRecord_CONF:case ACP_BeginPlay_CONF:case ACP_StopPlay_CONF:case ACP_BeginCollect_CONF:case ACP_StopCollect_CONF:case ACP_Bridge_CONF:case ACP_SMMsg_CONF:case ACP_Answer_CONF:case ACP_Mute_CONF:case ACP_SetCallData_CONF:case ACP_ChangeCallQueue_CONF:case ACP_TransferCallQueue_CONF:case ACP_ForceReleaseCall_CONF:case ACP_UpdateMedia_CONF:case ACP_BeginCapture_CONF:case ACP_Connect_CONF:case ACP_ModifyVideoStream_CONF:case ACP_AgentReconnect_CONF:case ACP_WorkReport_CONF:case ACP_SendWeiboMsg_CONF:case ACP_SendMessage_CONF:this._OnCmdConf(a);break;case ACP_SetCTIParam_CONF:case ACP_GetCTIParam_CONF:this._oAcpCall.RefreshCTIParam(a.body);0==a.body.cause.code?this._NotifyCmdResult(MSG_SUCCESS):(this._oAcpCall.RefressCauseInfo(a.body.cause),this._NotifyCmdResult(MSG_FAILURE));break;case ACP_QueryAgentStatus_CONF:case ACP_QuerySpAgentList_CONF:case ACP_GetCallData_CONF:case ACP_QueryAgentCallInfo_CONF:case ACP_GetCTITime_CONF:0==a.body.cause.code?this._NotifyCmdResult(MSG_SUCCESS):this._NotifyCmdResult(MSG_FAILURE);break;case ACP_OnAnswerFailure:case ACP_OnUserHangupBeforeResponse:case ACP_OnReleaseFailure:case ACP_OnLongNoAnswer:case ACP_OnConsultationFailure:case ACP_OnTransSuccess:case ACP_OnTransFailure:case ACP_OnSingleTransferSuccess:case ACP_OnSingleTransferFailure:case ACP_OnCallInsideSuccess:case ACP_OnCallInsideFailure:case ACP_OnCallOutsideSuccess:case ACP_OnCallOutsideFailure:case ACP_OnHoldFailure:case ACP_OnRetrieveHoldFailure:case ACP_OnConferenceFailure:case ACP_OnAlternateFailure:case ACP_OnListenFailure:case ACP_OnHelpFailure:case ACP_OnInsertFailure:case ACP_OnStopInsertSuccess:case ACP_OnStopInsertFailure:case ACP_OnInterceptFailure:case ACP_OnBeginRecordFailure:case ACP_OnStopRecordSuccess:case ACP_OnStopRecordFailure:case ACP_OnForceRelease:case ACP_OnForceIdle:case ACP_OnForceBusy:case ACP_OnForceOut:case ACP_OnAgentAllBusy:case ACP_OnStopListenSuccess:case ACP_OnStopListenFailure:case ACP_OnListened:case ACP_OnIntercepted:case ACP_OnSignOuted:case ACP_OnLocked:case ACP_OnUnLocked:case ACP_OnBridgeFailure:case ACP_OnSystemIdle:case ACP_OnModifyVideoStream:this._OnEventCommon(a);break;case ACP_OnAnswerSuccess:case ACP_OnCallInsideSuccTalk:case ACP_OnCallOutsideSuccTalk:case ACP_OnConsultationSuccess:case ACP_OnHoldSuccess:case ACP_OnRetrieveHoldSuccess:case ACP_OnConferenceSuccess:case ACP_OnConferenceSucTalk:case ACP_OnAlternateSuccess:case ACP_OnAlternated:case ACP_OnListenSuccess:case ACP_OnHelpSuccess:case ACP_OnInsertSuccess:case ACP_OnInterceptSuccess:case ACP_OnInserted:case ACP_OnBridgeSuccess:case ACP_OnTransferred:case ACP_OnUpdateMediaEvent:case ACP_OnStopCaptureSuccess:case ACP_OnConnectFailure:case ACP_OnMuteSuccess:this._OnEventCallInfo(a);break;case ACP_OnOrigated:if(!this._IsCurrentAgent(a.body.agent))break;this._oAcpCall.RefressAgentInfo(a.body.agent);this._oAcpCall.RefressCauseInfo(a.body.cause);this._oAcpCall.RefreshCallinfo(a.body.callinfo,!0);this._oAcpCall.RefressDirection(a.head.direction);this._oAcpCall.SetAlertDevice(a.body.agent.deviceID,CS_ALERTING);this._UpdateSession(a.head);this._NotifyEventResult(Notify_MSG);break;case ACP_OnAnswerRequest:if(!this._IsCurrentAgent(a.body.agent))break;this._oAcpCall.RefressAgentInfo(a.body.agent);this._oAcpCall.RefressCauseInfo(a.body.cause);a.body.datas[3]==this._oVccBarCenter._oAgentInfo._dN?this._oAcpCall.RefreshCallinfo(a.body.callinfo,!0):this._oAcpCall.RefreshCallinfo(a.body.callinfo,!1);this._oAcpCall.RefreshCallReport(null,!0);this._UpdateSession(a.head);this._oAcpCall.RefressDirection(a.head.direction);this._NotifyEventResult(Notify_MSG);break;case ACP_OnConsultationBack:case ACP_OnReturnFromPhone:case ACP_OnReturnFromIVR:this._OnEventRelease(a);break;case ACP_OnReleaseSuccess:this._OnEventRelease(a);break;case ACP_OnBeginRecordSuccess:if(!this._IsCurrentAgent(a.body.agent))break;this._oAcpCall.RefressAgentInfo(a.body.agent);this._NotifyEventResult(Notify_MSG);break;case ACP_OnHangupCallInConf:case ACP_OnBeginSendDTMFSuccess:case ACP_OnBeginSendDTMFFailure:case ACP_OnStopSendDTMFSuccess:case ACP_OnStopSendDTMFFailure:case ACP_OnBeginPlaySuccess:case ACP_OnBeginPlayFailure:case ACP_OnStopPlaySuccess:case ACP_OnStopPlayFailure:case ACP_OnBeginCollectSuccess:case ACP_OnBeginCollectFailure:case ACP_OnStopCollectSuccess:case ACP_OnStopcollectFailure:case ACP_OnCallQueueQuery:case ACP_OnQueueReport:case ACP_OnSystemMessage:case ACP_OnAsrEventReport:case ACP_OnStopSmSuccess:case ACP_OnAgentBusyReason:a.body.eventType==ACP_OnAgentBusyReason&&this._oAcpCall.RefressAgentInfo(a.body.agent);a.body.eventType==ACP_OnSystemMessage&&this._oAcpParse._IsOverAndEqualVersion(2,202105,1)&&"2"==a.body.datas[0]&&this._oAcpCall.RefressAgentInfo(a.body.agent);this._NotifyEventResult(Notify_MSG);break;case ACP_OnRecvWeiboMsg:case ACP_OnWeChatEventReport:case ACP_OnStaticInfoReport:this._IsCurrentAgent(a.body.agent)&&this._NotifyEventResult(Notify_MSG)}};this._SetHoldStatusTime=function(a){0<=a&&(a--,this._oAcpHoldUpStatus.SetHoldUpTime(a),this._oAcpHoldUpStatus.GetMethodType()!=ACP_UNKNOWN&&(0>a?(this._oVccBarCenter._FireOnPrompt(4013,stringFormat("end holdup[{0}] Status",this._oAcpParse.GetCmdName(this._oAcpHoldUpStatus.GetMethodType()))),this._oAcpHoldUpStatus.SetMethodType(ACP_UNKNOWN)):DisplayLog(VccBar_Log_Info,stringFormat("OnHoldUpStatusReport({0},{1})",this._oAcpParse.GetCmdName(this._oAcpHoldUpStatus.GetMethodType()),a))))};this._BeginHoldStatus=function(a){if(0<=this._oAcpHoldUpStatus.GetHoldUpTime())return this._oVccBarCenter._FireOnPrompt(4011,stringFormat("In method[{0}] holdup status,can't execute [{1}] )",this._oAcpParse.GetCmdName(this._oAcpHoldUpStatus.GetMethodType()),this._oAcpParse.GetCmdName(a))),!0;this._oAcpHoldUpStatus.SetMethodType(a);this._oAcpHoldUpStatus.SetHoldUpTime(this._oVccBarCenter._oAgentInfo._holdUpTimeCount);this._oVccBarCenter._FireOnPrompt(4012,stringFormat("start holdup[{0}] Status",this._oAcpParse.GetCmdName(a)));return!1};this.OnTimerEvent=function(a){a==CINNGCCA_METHOD_ID?(this._oVccBarCenter._oTimer.KillTimer(a),this.m_lMsgReceived==MSG_NONE&&(this.m_lMsgReceived=MSG_READY,this._oVccBarCenter.OnNotify(this._oAcpCall,Notify_OUTOFTIME))):a==CINNGCCA_AGENTREPORT_ID?(DisplayLog(VccBar_Log_Info,"TAcpDevice:onTimer(CINNGCCA_AGENTREPORT_ID)"),this._oVccBarCenter.resetAgentReport(),this._oAcpAPI.acpAgentReport(this._oAcpCall._acpEvent.body.agent.agentStatus,this._oAcpCall._acpEvent.body.agent.phoneStatus)):a==CINNGCCA_AGENTRECONNECT_ID?(DisplayLog(VccBar_Log_Info,"TAcpDevice:onTimer(CINNGCCA_AGENTRECONNECT_ID)"),this.AgentReconnect()):a==CINNGCCA_EMPTYHEARTBEAT_ID?this._oAcpAPI.acpEmptyHeartBeat():a==CINNGCCA_OPENSOCKET_ID?(this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_OPENSOCKET_ID),this._oAcpAPI.GetSoceketStatus()==WS_STATUS_CONNECTING&&this.CloseStream()):a==CINNGCCA_REDIRECTSOCKET_ID?(this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_REDIRECTSOCKET_ID),DisplayLog(VccBar_Log_Debug,"JAcpDevice:redirect to("+this._oVccBarCenter._oAgentInfo._mainIP+":"+this._oVccBarCenter._oAgentInfo._mainPortID+")"),this.OpenStream(this._oVccBarCenter._oAgentInfo._mainIP,this._oVccBarCenter._oAgentInfo._mainPortID,!1)):a==CINNGCCA_METHOD_HOLDUP_STATUS_ID&&this._SetHoldStatusTime(this._oAcpHoldUpStatus.GetHoldUpTime())};this.OpenStream=function(a,b,c){var d=-1;c&&(this._connectStatus=Device_Status_NULL);if(this._oVccBarCenter._oAgentInfo._devConnectStatus==emCenterOpStatusConnecting)return d;this.CloseStream();this._sServer=a;this._lPort=b;this._oVccBarCenter._oTimer.SetTimer(CINNGCCA_OPENSOCKET_ID,1E3*CINNGCCA_OPENSOCKET_INTERVAL);this._oVccBarCenter._oAgentInfo._devConnectStatus=emCenterOpStatusConnecting;d=this._oAcpAPI.acpOpenStream(a,b,this._oVccBarCenter._oAgentInfo._protocolCryptType,this._oVccBarCenter._oAgentInfo._proTransportType,this._oVccBarCenter._oAgentInfo._mainXPath);d==ACPI_FAILURE&&(this._oVccBarCenter._oAgentInfo._devConnectStatus=emCenterOpStatusInitial,d=4002);return d};this.CloseStream=function(){this._oVccBarCenter._oAgentInfo._devConnectStatus=emCenterOpStatusInitial;this._oAcpAPI.acpCloseStream();this._oVccBarCenter._oTimer.KillTimer(CINNGCCA_EMPTYHEARTBEAT_ID)};this.Initial=function(){return!this._IsProssing()&&this._oAcpAPI.acpInitial(this._oVccBarCenter._oAgentInfo._vccID)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Initial_CONF)?!0:!1};this.SignIn=function(){return!this._IsProssing()&&this._oAcpAPI.acpSignIn(this._oVccBarCenter._oAgentInfo._dN,this._oVccBarCenter._oAgentInfo._pass_Word,this._oVccBarCenter._oAgentInfo._passWdCryptType,this._oVccBarCenter._oAgentInfo._isInitialReady,this._oVccBarCenter._oAgentInfo._taskID,this._oVccBarCenter._oAgentInfo._connectType,this._oVccBarCenter._oAgentInfo._agentKickOff,this._oVccBarCenter.GetVersion(),this._oVccBarCenter.GetLocalIp())==ACPI_SUCCESS&&this._WaitingForResult(ACP_SignIn_CONF)?!0:!1};this.SignOut=function(a){return!this._IsProssing(ACP_SignOut_CONF)&&this._oAcpAPI.acpSignOut(a,"","")==ACPI_SUCCESS&&this._WaitingForResult(ACP_SignOut_CONF)?!0:!1};this.SetBusy=function(a){return!this._IsProssing(ACP_SetBusy_CONF)&&(this._thisSubBusyStatus=a,this._oAcpAPI.acpSetBusy(a,this._oVccBarCenter._oAgentInfo._taskID)==ACPI_SUCCESS&&this._WaitingForResult(ACP_SetBusy_CONF))?!0:!1};this.SetIdle=function(){return!this._IsProssing(ACP_SetIdle_CONF)&&this._oAcpAPI.acpSetIdle(this._oVccBarCenter._oAgentInfo._taskID)==ACPI_SUCCESS&&this._WaitingForResult(ACP_SetIdle_CONF)?!0:!1};this.SetWrapUp=function(){return!this._IsProssing(ACP_SetWrapUp_CONF)&&this._oAcpAPI.acpSetWrapUp()==ACPI_SUCCESS&&this._WaitingForResult(ACP_SetWrapUp_CONF)?!0:!1};this.CallInside=function(a,b,c,d,f){return!this._IsProssing(ACP_CallInside_CONF)&&this._oAcpAPI.acpCallInside(a,b,c,d,f)==ACPI_SUCCESS&&this._WaitingForResult(ACP_CallInside_CONF)?!0:!1};this.CallOutside=function(a,b,c,d,f,g,h,k,l,m,q,p){return!this._IsProssing(ACP_CallOutside_CONF)&&this._oAcpAPI.acpCallOutside(a,b,c,d,f,g,h,k,l,m,q,p)==ACPI_SUCCESS&&this._WaitingForResult(ACP_CallOutside_CONF)?!0:!1};this.SingleStepTransfer=function(a,b,c){return!this._IsProssing(ACP_SingleStepTransfer_CONF)&&this._oAcpAPI.acpSingleStepTransfer(a,b,c)==ACPI_SUCCESS&&this._WaitingForResult(ACP_SingleStepTransfer_CONF)?!0:!1};this.Hold=function(a){return!this._IsProssing(ACP_Hold_CONF)&&this._oAcpAPI.acpHold(a)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Hold_CONF)?!0:!1};this.RetrieveHold=function(a){return!this._IsProssing(ACP_RetrieveHold_CONF)&&this._oAcpAPI.acpRetrieveHold(a)==ACPI_SUCCESS&&this._WaitingForResult(ACP_RetrieveHold_CONF)?!0:!1};this.ReleaseCall=function(a){return!this._IsProssing(ACP_ReleaseCall_CONF)&&this._oAcpAPI.acpReleaseCall(a)==ACPI_SUCCESS&&this._WaitingForResult(ACP_ReleaseCall_CONF)?!0:!1};this.ReleaseCallbyCallID=function(a,b){return!this._IsProssing(ACP_ReleaseCallByCallID_CONF)&&this._oAcpAPI.acpReleaseCallbyCallID(a,b)==ACPI_SUCCESS&&this._WaitingForResult(ACP_ReleaseCallByCallID_CONF)?!0:!1};this.Answer=function(a,b,c){return!this._IsProssing(ACP_Answer_CONF)&&this._oAcpAPI.acpAnswer(a,b,c)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Answer_CONF)?!0:!1};this.Consultation=function(a,b,c){return!this._IsProssing(ACP_Consultation_CONF)&&this._oAcpAPI.acpConsultation(a,b,c)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Consultation_CONF)?!0:!1};this.Transfer=function(a,b){return!this._IsProssing(ACP_Transfer_CONF)&&this._oAcpAPI.acpTransfer(a,b)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Transfer_CONF)?!0:!1};this.ModifyVideoStream=function(a,b,c){return!this._IsProssing()&&this._oAcpAPI.acpModifyVideoStream(a,b,c)==ACPI_SUCCESS&&this._WaitingForResult(ACP_ModifyVideoStream_CONF)?!0:!1};this.Conference=function(a){return!this._IsProssing(ACP_Conference_CONF)&&this._oAcpAPI.acpConference(a)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Conference_CONF)?!0:!1};this.SendDTMF=function(a,b){return!this._IsProssing()&&this._oAcpAPI.acpSendDTMF(a,b)==ACPI_SUCCESS&&this._WaitingForResult(ACP_SendDTMF_CONF)?!0:!1};this.Bridge=function(a,b,c){return!this._IsProssing(ACP_Bridge_CONF)&&this._oAcpAPI.acpBridge(a,b,c)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Bridge_CONF)?!0:!1};this.SetCTIParam=function(a,b,c,d){"undefined"==typeof d&&(d=0);return this._oAcpAPI.acpSetCTIParam(a,b,c,d)==ACPI_SUCCESS?!0:!1};this.GetCTIParam=function(a,b,c,d){return this._IsProssing()||("undefined"==typeof d&&(d=0),this._oAcpAPI.acpGetCTIParam(a,b,c,d)!=ACPI_SUCCESS)?!1:!0};this.AgentReconnect=function(){DisplayLog(VccBar_Log_Debug,"TAcpDevice::AgentReconnect");return this._oAcpAPI.IsSoceketConnect()?this._oAcpAPI.acpAgentReconnect(this._oAcpCall._acpEvent.body.agent.agentStatus,this._oAcpCall._acpEvent.body.agent.phoneStatus,this._oVccBarCenter._oAgentInfo._pass_Word,this._oAcpCall._acpEvent.body.agent.master)==ACPI_SUCCESS&&this._WaitingForResult(ACP_AgentReconnect_CONF)?!0:!1:this.OpenStream(this._sServer,this._lPort,!1)==ACPI_SUCCESS?(this._oAcpAPI.acpSetStreamParam(this._oVccBarCenter._oAgentInfo._agentType,this._oVccBarCenter._oAgentInfo._vccID,this._oVccBarCenter._oAgentInfo._agentID,this._oVccBarCenter._oAgentInfo._dN),!0):!1};this.ChangeCallQueue=function(a,b,c){return this._oAcpAPI.acpChangeCallQueue(a,b,c)==ACPI_SUCCESS?!0:!1};this.CallQueueQuery=function(a){return this._oAcpAPI.acpCallQueueQuery(a)==ACPI_SUCCESS?!0:!1};this.TransferCallQueue=function(a,b,c){return this._oAcpAPI.acpTransferCallQueue(a,b,c)==ACPI_SUCCESS?!0:!1};this.SendMessage=function(a,b,c,d,f,g){return this._oAcpAPI.acpSendMessage(a,b,c,d,f,g)==ACPI_SUCCESS?!0:!1};this.BeginPlay=function(a,b,c,d,f){return!this._IsProssing()&&this._oAcpAPI.acpBeginPlay(a,b,c,d,f)==ACPI_SUCCESS&&this._WaitingForResult(ACP_BeginPlay_CONF)?!0:!1};this.StopPlay=function(a,b){return!this._IsProssing()&&this._oAcpAPI.acpStopPlay(a,b)==ACPI_SUCCESS&&this._WaitingForResult(ACP_StopPlay_CONF)?!0:!1};this.BeginCollect=function(a,b,c,d,f,g,h,k,l,m){return!this._IsProssing()&&this._oAcpAPI.acpBeginCollect(a,b,c,d,f,g,h,k,l,m)==ACPI_SUCCESS&&this._WaitingForResult(ACP_BeginCollect_CONF)?!0:!1};this.StopCollect=function(a,b){return!this._IsProssing()&&this._oAcpAPI.acpStopCollect(a,b)==ACPI_SUCCESS&&this._WaitingForResult(ACP_StopCollect_CONF)?!0:!1};this.UpdateMedia=function(a,b){return!this._IsProssing()&&this._oAcpAPI.acpUpdateMedia(a,b)==ACPI_SUCCESS&&this._WaitingForResult(ACP_UpdateMedia_CONF)?!0:!1};this.BeginCapture=function(a,b){return!this._IsProssing()&&this._oAcpAPI.acpBeginCapture(a,b)==ACPI_SUCCESS&&this._WaitingForResult(ACP_BeginCapture_CONF)?!0:!1};this.Connect=function(a){return!this._IsProssing(ACP_Connect_CONF)&&this._oAcpAPI.acpConnect(a)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Connect_CONF)?!0:!1};this.ForceReleaseCall=function(a,b){return!this._IsProssing(ACP_ForceReleaseCall_CONF)&&this._oAcpAPI.acpForceReleaseCall(a,b)==ACPI_SUCCESS&&this._WaitingForResult(ACP_ForceReleaseCall_CONF)?!0:!1};this.Insert=function(a,b,c,d,f){return!this._IsProssing(ACP_Insert_CONF)&&this._oAcpAPI.acpInsert(a,b,c,d,f)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Insert_CONF)?!0:!1};this.Listen=function(a,b,c,d,f){return!this._IsProssing(ACP_Listen_CONF)&&this._oAcpAPI.acpListen(a,b,c,d,f)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Listen_CONF)?!0:!1};this.Intercept=function(a,b,c,d,f,g){return!this._IsProssing(ACP_Intercept_CONF)&&this._oAcpAPI.acpIntercept(a,b,c,d,f,g)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Intercept_CONF)?!0:!1};this.Help=function(a,b,c,d,f){return!this._IsProssing(ACP_Help_CONF)&&this._oAcpAPI.acpHelp(a,b,c,d,f)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Help_CONF)?!0:!1};this.Lock=function(a){return!this._IsProssing()&&this._oAcpAPI.acpLock(a)==ACPI_SUCCESS&&this._WaitingForResult(ACP_Lock_CONF)?!0:!1};this.UnLock=function(a){return!this._IsProssing()&&this._oAcpAPI.acpUnLock(a)==ACPI_SUCCESS&&this._WaitingForResult(ACP_UnLock_CONF)?!0:!1};this.ForceIdle=function(a){return this._oAcpAPI.acpForceIdle(a)==ACPI_SUCCESS?!0:!1};this.ForceBusy=function(a){return this._oAcpAPI.acpForceBusy(a)==ACPI_SUCCESS?!0:!1};this.ForceOut=function(a){return this._oAcpAPI.acpForceOut(a)==ACPI_SUCCESS?!0:!1};this._createObject();return this}function JAMPParse(){this.m_arrCmd=[];this.m_arrCmdIndex=[];this._oParse=new CXmlParse;this._oAmpEvent=new AMPBody_t;this._Init=function(){0<this.m_arrCmd.length||(this.m_arrCmd.push("heartBeat"),this.m_arrCmdIndex.push(AMP_HEART_BEAT),this.m_arrCmd.push("Initial"),this.m_arrCmdIndex.push(AMP_Initial_CONF),this.m_arrCmd.push("login"),this.m_arrCmdIndex.push(AMP_Login_CONF),this.m_arrCmd.push("logout"),this.m_arrCmdIndex.push(AMP_LogOut_CONF),this.m_arrCmd.push("setQueueType"),this.m_arrCmdIndex.push(AMP_SetQueueType_CONF),this.m_arrCmd.push("setMsgFlag"),this.m_arrCmdIndex.push(AMP_SetMsgFlag_CONF),this.m_arrCmd.push("agentReport"),this.m_arrCmdIndex.push(AMP_AgentReport_CONF),this.m_arrCmd.push("queryMonitorGroup"),this.m_arrCmdIndex.push(AMP_QueryMonitorGroup_CONF),this.m_arrCmd.push("queryAgentState"),this.m_arrCmdIndex.push(AMP_QueryAgentState_CONF),this.m_arrCmd.push("queryQueueStatus"),this.m_arrCmdIndex.push(AMP_QueryQueueStatus_CONF),this.m_arrCmd.push("queryIvrStatus"),this.m_arrCmdIndex.push(AMP_QueryIvrStatus_CONF),this.m_arrCmd.push("agentReconnect"),this.m_arrCmdIndex.push(AMP_AgentReconnect_CONF),this.m_arrCmd.push("telephoneStatusReport"),this.m_arrCmdIndex.push(AMP_telephoneStatusReport),this.m_arrCmd.push("agentStatusReport"),this.m_arrCmdIndex.push(AMP_agentStatusReport),this.m_arrCmd.push("lockStatusReport"),this.m_arrCmdIndex.push(AMP_lockStatusReport),this.m_arrCmd.push("queueStatusReport"),this.m_arrCmdIndex.push(AMP_queueStatusReport),this.m_arrCmd.push("ivrStatusReport"),this.m_arrCmdIndex.push(AMP_ivrStatusReport),this.m_arrCmd.push("AgentReport"),this.m_arrCmdIndex.push(AMP_AgentReport),this.m_arrCmd.push("IvrReport"),this.m_arrCmdIndex.push(AMP_IvrReport),this.m_arrCmd.push("TrunkReport"),this.m_arrCmdIndex.push(AMP_TrunkReport),this.m_arrCmd.push("TrunkSumReport"),this.m_arrCmdIndex.push(AMP_TrunkSumReport),this.m_arrCmd.push("TelReport"),this.m_arrCmdIndex.push(AMP_TelReport),this.m_arrCmd.push("ServiceReport"),this.m_arrCmdIndex.push(AMP_ServiceReport),this.m_arrCmd.push("TaskReport"),this.m_arrCmdIndex.push(AMP_TaskReport),this.m_arrCmd.push("OutboundReport"),this.m_arrCmdIndex.push(AMP_OutboundReport),this.m_arrCmd.push("CallReportReport"),this.m_arrCmdIndex.push(AMP_CallReportReport),this.m_arrCmd.push("M4WallServiceReport"),this.m_arrCmdIndex.push(AMP_M4WallServiceReport),this.m_arrCmd.push("M4WallQueueReport"),this.m_arrCmdIndex.push(AMP_M4WallQueueReport),this.m_arrCmd.push("M4AgentSumReport"),this.m_arrCmdIndex.push(AMP_M4AgentSumReport),this.m_arrCmd.push("M4ServiceSumReport"),this.m_arrCmdIndex.push(AMP_M4ServiceSumReport),this.m_arrCmd.push("M4IvrServiceReport"),this.m_arrCmdIndex.push(AMP_M4IvrServiceReport),this.m_arrCmd.push("OnSignOuted"),this.m_arrCmdIndex.push(AMP_OnSignOuted),this.m_arrCmd.push("M4WallTrunkReport"),this.m_arrCmdIndex.push(AMP_TrunkReport),this.m_arrCmd.push("M4TrunkSumReport"),this.m_arrCmdIndex.push(AMP_TrunkSumReport),this.m_arrCmd.push("InitialState"),this.m_arrCmdIndex.push(AMP_InitialState_CONF),this.m_arrCmd.push("AgentQuery"),this.m_arrCmdIndex.push(AMP_AgentQuery_CONF),this.m_arrCmd.push("IvrQuery"),this.m_arrCmdIndex.push(AMP_IvrQuery_CONF),this.m_arrCmd.push("TelQuery"),this.m_arrCmdIndex.push(AMP_TelQuery_CONF),this.m_arrCmd.push("ServiceQuerySummary"),this.m_arrCmdIndex.push(AMP_ServiceQuerySummary_CONF),this.m_arrCmd.push("IvrSumQuery"),this.m_arrCmdIndex.push(AMP_IvrSumQuery_CONF),this.m_arrCmd.push("TaskQuerySummary"),this.m_arrCmdIndex.push(AMP_TaskQuerySummary_CONF),this.m_arrCmd.push("StartNotification"),this.m_arrCmdIndex.push(AMP_StartNotification_CONF),this.m_arrCmd.push("EndNotification"),this.m_arrCmdIndex.push(AMP_EndNotification_CONF),this.m_arrCmd.push("CallReportQuery"),this.m_arrCmdIndex.push(AMP_CallReportQuery_CONF),this.m_arrCmd.push("AgentSumQuery"),this.m_arrCmdIndex.push(AMP_AgentSumQuery_CONF),this.m_arrCmd.push("AgentWorkSumQuery"),this.m_arrCmdIndex.push(AMP_AgentWorkSumQuery_CONF),this.m_arrCmd.push("ServiceSumQueryByHour"),this.m_arrCmdIndex.push(AMP_ServiceSumQueryByHour_CONF),this.m_arrCmd.push("TaskSumQueryByHour"),this.m_arrCmdIndex.push(AMP_TaskSumQueryByHour_CONF),this.m_arrCmd.push("QueryActiveTask"),this.m_arrCmdIndex.push(AMP_QueryActiveTask_CONF),this.m_arrCmd.push("M4AgentSumQuery"),this.m_arrCmdIndex.push(AMP_M4AgentSumQuery_CONF),this.m_arrCmd.push("M4ServiceSumQuery"),this.m_arrCmdIndex.push(AMP_M4ServiceSumQuery_CONF),this.m_arrCmd.push("M4IvrServiceQuery"),this.m_arrCmdIndex.push(AMP_M4IvrServiceQuery_CONF),this.m_arrCmd.push("M4TrunkSumQuery"),this.m_arrCmdIndex.push(AMP_M4TrunkSumQuery_CONF))};this.ParseMsg=function(d){var a=!0;try{var b=getSubString(d,"\x3campMessage","\x3c/ampMessage\x3e"),c=stringFormat("\x3campMessage{0}\x3c/ampMessage\x3e",b);if(!this._oParse.loadXml(c))return!1;this._oAmpEvent.ampMessage=c;d="";this._oParse.nType==xmlForIE?(this._oAmpEvent.sessionID=this._oParse.queryNodeValueByPath("ampMessage/header/sessionID"),this._oAmpEvent.version=this._oParse.queryNodeAttributeByPath("ampMessage","ver"),this._oAmpEvent.currentTime=this._oParse.queryNodeAttributeByPath("ampMessage","time"),this._oAmpEvent.eventTypeName=this._oParse.queryNodeAttributeByPath("ampMessage/body","name")):(this._oAmpEvent.sessionID=this._oParse.queryNodeValueByPath("sessionID"),this._oAmpEvent.version=this._oParse.queryNodeAttributeByPath("ampMessage","ver"),this._oAmpEvent.currentTime=this._oParse.queryNodeAttributeByPath("ampMessage","time"),this._oAmpEvent.eventTypeName=this._oParse.queryNodeAttributeByPath("body","name"),d=this._oParse.queryNodeAttributeByPath("body","type"));"request"==d?this._oAmpEvent.eventClass=EC_REQUEST:"response"==d?this._oAmpEvent.eventClass=EC_CONFIRMATION:"event"==d&&(this._oAmpEvent.eventClass=EC_UNSOLICITED);this._oAmpEvent.eventType=this.GetCmdIndex(this._oAmpEvent.eventTypeName);switch(this._oAmpEvent.eventType){case AMP_InitialState_CONF:case AMP_AgentQuery_CONF:case AMP_IvrQuery_CONF:case AMP_TelQuery_CONF:case AMP_ServiceQuerySummary_CONF:case AMP_IvrSumQuery_CONF:case AMP_TaskQuerySummary_CONF:case AMP_StartNotification_CONF:case AMP_EndNotification_CONF:case AMP_CallReportQuery_CONF:case AMP_AgentSumQuery_CONF:case AMP_AgentWorkSumQuery_CONF:case AMP_ServiceSumQueryByHour_CONF:case AMP_TaskSumQueryByHour_CONF:case AMP_QueryActiveTask_CONF:case AMP_M4AgentSumQuery_CONF:case AMP_M4ServiceSumQuery_CONF:case AMP_M4IvrServiceQuery_CONF:case AMP_M4TrunkSumQuery_CONF:if(this._oParse.nType==xmlForIE){var e=oXml.queryNode("ampMessage/body/cause");null!=e&&(this._oAmpEvent.description=oXml.queryNodeAttribute(e,"desc"),this._oAmpEvent.code=stringToInt(oXml.queryNodeAttribute(e,"code"),0))}else e=this._oParse.queryNode("cause"),null!=e&&(this._oAmpEvent.description=this._oParse.queryNodeAttribute(e,"desc"),this._oAmpEvent.code=stringToInt(this._oParse.queryNodeAttribute(e,"code"),0));this._oAmpEvent.data=this._oAmpEvent.eventType==AMP_StartNotification_CONF?this._oParse.queryNodeValueByPath("expires"):getSubString(c,"\x3c/cause\x3e","\x3c/body\x3e");break;case AMP_AgentReport:case AMP_IvrReport:case AMP_TrunkReport:case AMP_TrunkSumReport:case AMP_TelReport:case AMP_ServiceReport:case AMP_TaskReport:case AMP_OutboundReport:case AMP_CallReportReport:case AMP_M4WallServiceReport:case AMP_M4WallQueueReport:case AMP_M4AgentSumReport:case AMP_M4ServiceSumReport:case AMP_M4IvrServiceReport:case AMP_OnSignOuted:case AMP_TrunkReport:case AMP_TrunkSumReport:this._oAmpEvent.data=getSubString(c,'"'+this._oAmpEvent.eventTypeName+'"\x3e',"\x3c/body\x3e");break;default:a=!1}}catch(f){return alert(f.message),!1}return a};this.GetCmdName=function(d){for(var a=0;a<this.m_arrCmd.length;a++)if(this.m_arrCmdIndex[a]==d)return this.m_arrCmd[a];return""};this.GetCmdIndex=function(d){for(var a=0;a<this.m_arrCmd.length;a++)if(this.m_arrCmd[a]==d)return this.m_arrCmdIndex[a];return-1};this._Init();return this}function JAmpAPI(){this._SocketCallback=this._oAmpSocket=null;this._Create=function(){new JAMPParse;this._oAmpSocket=new JACPSocketIO("AMP");this._oAmpSocket.oParent=this;this._oAmpSocket.SetMsgCallBack(this._SocketCallBack)};this._SocketCallBack=function(d,a){this.oParent._SocketCallback&&this.oParent._SocketCallback(d,a)};this._SendAmpMessage=function(d,a){return this._oAmpSocket.WSIsConnect()?this._oAmpSocket.WSSendMsg("heartBeat"==d?"1000 off "+d+" "+a:"2000 off "+d+" "+a)?ACPI_SUCCESS:ACPI_FAILURE:ACPI_FAILURE};this._TaskQuerySummary=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"TaskQuerySummary"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ctaskid\x3e{3}\x3c/taskid\x3e\x3c/body\x3e\x3c/ampMessage\x3e',"",d,a,b);return this._SendAmpMessage("TaskQuerySummary",d)};this._QueryActiveTask=function(d,a){var b=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"QueryActiveTask"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cagentid\x3e{2}\x3c/agentid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,agentID);return this._SendAmpMessage("QueryActiveTask",b)};this._ServiceQuerySummary=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ServiceQuerySummary"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3cserviceid\x3e{3}\x3c/serviceid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("ServiceQuerySummary",d)};this._AgentSumQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"AgentSumQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3cserviceid\x3e{3}\x3c/serviceid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("AgentSumQuery",d)};this._IvrSumQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"IvrSumQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3cserviceid\x3e{3}\x3c/serviceid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("IvrSumQuery",d)};this._AgentWorkSumQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"AgentWorkSumQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3cserviceid\x3e{3}\x3c/serviceid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("AgentWorkSumQuery",d)};this._ServiceSumQueryByHour=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ServiceSumQueryByHour"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3cserviceid\x3e{3}\x3c/serviceid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("ServiceSumQueryByHour",d)};this._TaskSumQueryByHour=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"TaskSumQueryByHour"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3cserviceid\x3e{3}\x3c/serviceid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("TaskSumQueryByHour",d)};this.ampOpenStream=function(d,a,b,c,e){return this._oAmpSocket.WSConnect(d,a,b,c,e)?ACPI_SUCCESS:ACPI_FAILURE};this.ampCloseStream=function(){this._oAmpSocket.WSDisconnect()};this.ampEmptyHeartBear=function(){return this._oAmpSocket.WSSendMsg("\x3campMessage\x3ealivecheck\x3c/ampMessage\x3e")?ACPI_SUCCESS:ACPI_FAILURE};this.ampInitialState=function(d,a,b,c){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"InitialState"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cagentid\x3e{2}\x3c/agentid\x3e\x3cagentpasswd\x3e'+b+"\x3c/agentpasswd\x3e\x3ccurpos\x3e{3}\x3c/curpos\x3e\x3c/body\x3e\x3c/ampMessage\x3e","",d,a,c);return this._SendAmpMessage("InitialState",d)};this.ampAgentQuery=function(d,a,b,c){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"AgentQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ccurpos\x3e{3}\x3c/curpos\x3e\x3cagentname\x3e{4}\x3c/agentname\x3e\x3c/body\x3e\x3c/ampMessage\x3e',"",d,a,b,c);return this._SendAmpMessage("AgentQuery",d)};this.ampTelQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"TelQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ccurpos\x3e{3}\x3c/curpos\x3e\x3c/body\x3e\x3c/ampMessage\x3e',"",d,a,b);return this._SendAmpMessage("TelQuery",d)};this.ampIvrQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"IvrQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ccurpos\x3e{3}\x3c/curpos\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("IvrQuery",d)};this.ampM4IvrServiceQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"4.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"M4IvrServiceQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a);return this._SendAmpMessage("M4IvrServiceQuery",d)};this.ampTrunkQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"4.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"M4TrunkSumQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ccurpos\x3e{3}\x3c/curpos\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("M4TrunkSumQuery",d)};this.ampMMServiceQuery=function(d,a){var b=stringFormat('\x3campMessage ver\x3d"4.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"M4MMServiceSumQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a);return this._SendAmpMessage("M4MMServiceSumQuery",b)};this.ampAgentStateQuery=function(d,a,b,c,e){d=stringFormat('\x3campMessage ver\x3d"4.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"M4AgentStateQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ccurpos\x3e{3}\x3c/curpos\x3e\x3cmaxitem\x3e{4}\x3c/maxitem\x3e\x3ctype\x3e{5}\x3c/type\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b,c,e);return this._SendAmpMessage("M4AgentStateQuery",d)};this.ampServiceQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+GetCurrentTime()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"ServiceQuerySummary"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3cserviceid\x3e{3}\x3c/serviceid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("ServiceQuerySummary",d)};this.ampM4ServiceSumQuery=function(d,a){var b=stringFormat('\x3campMessage ver\x3d"4.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"M4ServiceSumQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a);return this._SendAmpMessage("ServiceQuerySummary",b)};this.ampTaskQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"4.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"TaskQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a);return this._SendAmpMessage("TaskQuery",d)};this.ampCallReportQuery=function(d,a,b,c,e){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"CallReportQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3cserviceid\x3e{3}\x3c/serviceid\x3e\x3cmtype\x3e{4}\x3c/mtype\x3e\x3ccurpos\x3e{5}\x3c/curpos\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b,c,e);return this._SendAmpMessage("CallReportQuery",d)};this.ampM4AgentSumQuery=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"4.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"M4AgentSumQuery"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ccurpos\x3e{3}\x3c/curpos\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("M4AgentSumQuery",d)};this.ampGetTaskSummary=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"GetTaskSummary"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ctaskid\x3e{3}\x3c/taskid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("GetTaskSummary",d)};this.ampTaskQuerySummary=function(d,a,b){d=stringFormat('\x3campMessage ver\x3d"4.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionid\x3e{0}\x3c/sessionid\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"TaskQuerySummary"\x3e\x3cvccid\x3e{1}\x3c/vccid\x3e\x3cmonitorid\x3e{2}\x3c/monitorid\x3e\x3ctaskid\x3e{3}\x3c/taskid\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a,b);return this._SendAmpMessage("TaskQuerySummary",d)};this.ampQueryMonitorSumInfo=function(d,a,b,c){return"TaskQuerySummary"==d?this._TaskQuerySummary(a,b,c):"QueryActiveTask"==d?this._QueryActiveTask(a,c):"ServiceQuerySummary"==d?this._ServiceQuerySummary(a,b,c):"AgentSumQuery"==d?this._AgentSumQuery(a,b,c):"IvrSumQuery"==d?this._IvrSumQuery(a,b,c):"AgentWorkSumQuery"==d?this._AgentWorkSumQuery(a,b,c):"ServiceSumQueryByHour"==d?this._ServiceSumQueryByHour(a,b,c):"TaskSumQueryByHour"==d?this._TaskSumQueryByHour(a,b,c):CINVccBar_FAILURE};this.ampStartNotification=function(d,a,b,c,e){if(""==b)return!1;b=b.split(",");c=c.split(",");e=Math.min(b.length,c.length);d=stringFormat('\x3cmonitorInfo vccid\x3d"{0}" agentid\x3d"{1}" count\x3d"{2}"\x3e',d,a,e);a="";for(var f=0;f<e;f++)a+=stringFormat('\x3cmonitor id\x3d"{0}" type\x3d"{1}" flag\x3d"" /\x3e',b[f],c[f]);b=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionID\x3e{0}\x3c/sessionID\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"StartNotification"\x3e{1}{2}\x3c/monitorInfo\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a);return this._SendAmpMessage("StartNotification",b)};this.ampEndNotification=function(d,a,b){b=b.split(",");var c=b.length;d=stringFormat('\x3cmonitorInfo vccid\x3d"{0}" agentid\x3d"{1}" count\x3d"{2}"\x3e',d,a,c);a="";for(var e=0;e<c;e++)a+=stringFormat('\x3cmonitor id\x3d"{0}"/\x3e',b[e]);b=stringFormat('\x3campMessage ver\x3d"3.0.0" time\x3d"'+getAcpTimeString()+'"\x3e\x3cheader\x3e\x3csessionID\x3e{0}\x3c/sessionID\x3e\x3c/header\x3e\x3cbody type\x3d"request" name\x3d"EndNotification"\x3e{1}{2}\x3c/monitorInfo\x3e\x3c/body\x3e\x3c/ampMessage\x3e\x00',"",d,a);return this._SendAmpMessage("EndNotification",b)};this.SetSocketCallBack=function(d){this._SocketCallback=d};this.IsSoceketConnect=function(){return this._oAmpSocket.WSIsConnect()};this.GetSoceketStatus=function(){return this._oAmpSocket.WSGetConnectStatus()};this._Create();return this}function JQueryMonitorSumInfo(){this._baseTimerID=500;this._timerIds=[];this._cmdNames=[];this._monitorIds=[];this._serviceIds=[];this._IsTimerIDExist=function(d){for(var a=0;a<this._timerIds.length;a++)if(this._timerIds[a]==d)return!0;return!1};this._GetTimerID=function(){for(var d=0;d<this._timerIds.length;d++)if(!this._IsTimerIDExist(this._baseTimerID+d))return this._baseTimerID+d;return this._baseTimerID+this._timerIds.length};this.AddItem=function(d,a,b){if(-1!=this.GetItemIndex(d,a,b))return-1;this._timerIds.push(this._GetTimerID());this._cmdNames.push(d);this._monitorIds.push(a);this._serviceIds.push(b);return this._timerIds.length-1};this.RemoveItem=function(d,a,b){d=this.GetItemIndex(d,a,b);-1!=d&&(this._timerIds.splice(d,1),this._cmdNames.splice(d,1),this._monitorIds.splice(d,1),this._serviceIds.splice(d,1))};this.GetItemByTimerID=function(d){for(var a=0;a<this._timerIds.length;a++)if(this._timerIds[a]==d)return a;return-1};this.GetItemIndex=function(d,a,b){for(var c=0;c<this._monitorIds.length;c++)if(this._cmdNames[c]==d&&this._monitorIds[c]==a&&this._serviceIds[c]==b)return c;return-1};return this}function JMonitorInfo(){this._bTimerStart=!1;this._arrMIdS=[];this._arrMTypeS=[];this._arrMFlagS=[];this.Add=function(d,a,b){for(var c=0;c<this._arrMIdS.length;c++)if(d==this._arrMIdS[c]){this._arrMTypeS[c]=a;this._arrMFlagS[c]=b;return}this._arrMIdS.push(d);this._arrMTypeS.push(a);this._arrMFlagS.push(b)};this.Del=function(d){for(var a=0;a<this._arrMIdS.length;a++)if(d==this._arrMIdS[a]){this._arrMIdS.splice(a,1);this._arrMTypeS.splice(a,1);this._arrMFlagS.splice(a,1);break}};this.Merge=function(d,a,b){d=d.split(",");a=a.split(",");if(""==b){b=[];for(var c=0;c<d.length;c++)b.push("")}else b=b.split(",");if(d.length==a.length&&b.length==a.length)for(c=0;c<d.length;c++)this.Add(d[c],a[c],b[c])};this.Leafout=function(d){d=d.split(",");for(var a=0;a<d.length;a++)this.Del(d[a])};this.GetIds=function(){for(var d="",a=0;a<this._arrMIdS.length;a++)d=0==a?this._arrMIdS[a]:d+","+this._arrMIdS[a];return d};this.GetTypes=function(){for(var d="",a=0;a<this._arrMTypeS.length;a++)d=0==a?this._arrMTypeS[a]:d+","+this._arrMTypeS[a];return d};this.GetFlags=function(){for(var d="",a=0;a<this._arrMFlagS.length;a++)d=0==a?this._arrMFlagS[a]:d+","+this._arrMFlagS[a];return d};this.SetTimerStart=function(d){this._bTimerStart=d};this.GetTimerStart=function(){return this._bTimerStart};return this}function JAmpDevice(d){this._oVccBarCenter=d;this._oAmpAPI=this._oMonitorInfo=this._oQueryMonitorSumInfo=this._oAmpParse=null;this.m_lMsgReceived=MSG_READY;this._oAcpCall=null;this._thisSubBusyStatus=-1;this._AmpSocketReconnectTimer=0;this._createObject=function(){this._oAmpParse=new JAMPParse;this._oAmpAPI=new JAmpAPI;this._oAmpAPI.oParent=this;this._oAmpAPI.SetSocketCallBack(this._SocketCallBack);this._oQueryMonitorSumInfo=new JQueryMonitorSumInfo;this._oMonitorInfo=new JMonitorInfo};this._LogInMonitor=function(){this.InitialState(0)};this._SocketCallBack=function(a,b){a==WS_EVENT_ONOPEN?(this.oParent._LogInMonitor(),this.oParent._oVccBarCenter._oTimer.SetTimer(AMP_EMPTYHEARTBEAT_ID,1E3*AMP_EMPTYHEARTBEAT_INTERVAL),this.oParent._oVccBarCenter._oTimer.KillTimer(AMP_OPENSOCKET_ID)):a==WS_EVENT_ONCLOSE?(this.oParent._oVccBarCenter._oTimer.KillTimer(AMP_EMPTYHEARTBEAT_ID),this.oParent._oVccBarCenter._oTimer.KillTimer(AMP_OPENSOCKET_ID),this.oParent._oVccBarCenter._oAgentInfo._isMonitorLogin&&(this.oParent._AmpSocketReconnectTimer=0,this.oParent._oVccBarCenter._oTimer.SetTimer(AMP_AGENTRECONNECT_ID,1E3*AMP_AGENTRECONNECT_INTERVAL))):a==WS_EVENT_ONERROR?(this.oParent._oVccBarCenter._oAgentInfo._isMonitorLogin=!1,this.oParent._oVccBarCenter._oTimer.KillTimer(AMP_OPENSOCKET_ID)):a==WS_EVENT_ONMESSAGE&&this.oParent._OmAmpNotify(b)};this._OmAmpNotify=function(a){this._oAmpParse.ParseMsg(a)&&(this._oAmpParse._oAmpEvent.eventType==AMP_StartNotification_CONF&&(0==this._oMonitorInfo.GetTimerStart()?(a=stringToInt(this._oAmpParse._oAmpEvent.data,0),0<a&&(this._oVccBarCenter._oTimer.SetTimer(AMP_STARTNOTIFICATION_ID,a/2*1E3,!0),this._oMonitorInfo.SetTimerStart(!0))):this._oVccBarCenter._oTimer.Reset(AMP_STARTNOTIFICATION_ID)),this._oAmpParse._oAmpEvent.eventType==AMP_OnSignOuted&&this.CloseStream(),this._oVccBarCenter.OnMonitorNotify(this._oAmpParse._oAmpEvent,Notify_MSG))};this.OnTimerEvent=function(a){if(a==AMP_EMPTYHEARTBEAT_ID)this._oVccBarCenter._oTimer.Reset(a),this._oAmpAPI.ampEmptyHeartBear();else if(a==AMP_AGENTRECONNECT_ID)DisplayLog(VccBar_Log_Debug,"JAmpDevice:onTimer(AMP_AGENTRECONNECT_ID)"),this._AmpSocketReconnectTimer>=TIMER_RECONNECT_TIME?(this._oVccBarCenter._oTimer.KillTimer(AMP_AGENTRECONNECT_ID),this._oVccBarCenter._FireOnPrompt(4607)):(this._AmpSocketReconnectTimer++,this._oAmpAPI.ampOpenStream(this._oVccBarCenter._oAgentInfo._monitorIP,this._oVccBarCenter._oAgentInfo._monitorPort,this._oVccBarCenter._oAgentInfo._protocolCryptType,this._oVccBarCenter._oAgentInfo._proTransportType,this._oVccBarCenter._oAgentInfo._monitorXPath)==ACPI_SUCCESS&&(this._AmpSocketReconnectTimer=0,this._oVccBarCenter._oTimer.KillTimer(AMP_AGENTRECONNECT_ID)));else if(a==AMP_STARTNOTIFICATION_ID){var b=this._oMonitorInfo.GetIds();""!=b?this._oAmpAPI.ampStartNotification(this._oVccBarCenter._oAgentInfo._vccID,this._oVccBarCenter._oAgentInfo._agentID,b,this._oMonitorInfo.GetTypes(),this._oMonitorInfo.GetFlags()):this._oVccBarCenter._oTimer.KillTimer(a)}else a==AMP_OPENSOCKET_ID&&(DisplayLog(VccBar_Log_Info,"JAmpDevice:onTimer(AMP_OPENSOCKET_ID)"),this._oVccBarCenter._oTimer.KillTimer(AMP_OPENSOCKET_ID),this._oAmpAPI.GetSoceketStatus()==WS_STATUS_CONNECTING&&this._oAmpAPI.acpCloseStream());a>=this._oQueryMonitorSumInfo._baseTimerID&&a<this._oQueryMonitorSumInfo._baseTimerID+100&&(a=this._oQueryMonitorSumInfo.GetItemByTimerID(a),-1<a&&(lReturn=this._oAmpAPI.ampQueryMonitorSumInfo(this._oQueryMonitorSumInfo._cmdNames[a],this._oVccBarCenter._oAgentInfo._vccID,this._oQueryMonitorSumInfo._monitorIds[a],this._oQueryMonitorSumInfo._serviceIds[a]),lReturn==ACPI_SUCCESS&&this._oVccBarCenter._oTimer.Reset(this._oQueryMonitorSumInfo._timerIds[a])))};this.OpenStream=function(a,b){this.CloseStream();this._oVccBarCenter._oTimer.SetTimer(AMP_OPENSOCKET_ID,1E3*CINNGCCA_OPENSOCKET_INTERVAL);return this._oAmpAPI.ampOpenStream(a,b,this._oVccBarCenter._oAgentInfo._protocolCryptType,this._oVccBarCenter._oAgentInfo._proTransportType,this._oVccBarCenter._oAgentInfo._monitorXPath)};this.CloseStream=function(){this._bLogin=!1;this._oVccBarCenter._oTimer.KillTimer(AMP_EMPTYHEARTBEAT_ID);this._oVccBarCenter._oTimer.KillTimer(AMP_OPENSOCKET_ID);this._oAmpAPI.ampCloseStream()};this.InitialState=function(a){return this._oAmpAPI.ampInitialState(this._oVccBarCenter._oAgentInfo._vccID,this._oVccBarCenter._oAgentInfo._agentID,this._oVccBarCenter._oAgentInfo._pass_Word,a)};this.AgentQuery=function(a,b,c){return this._oAmpAPI.ampAgentQuery(this._oVccBarCenter._oAgentInfo._vccID,a,b,c)};this.TelQuery=function(a,b){return this._oAmpAPI.ampTelQuery(this._oVccBarCenter._oAgentInfo._vccID,a,b)};this.IvrQuery=function(a,b){return"4.0"==this._oVccBarCenter._oAgentInfo._monitorVersion?this._oAmpAPI.ampM4IvrServiceQuery(this._oVccBarCenter._oAgentInfo._vccID,a,b):this._oAmpAPI.ampIvrQuery(this._oVccBarCenter._oAgentInfo._vccID,a,b)};this.TrunkQuery=function(a,b){return this._oAmpAPI.ampTrunkQuery(this._oVccBarCenter._oAgentInfo._vccID,a,b)};this.MMServiceQuery=function(a){return this._oAmpAPI.ampMMServiceQuery(this._oVccBarCenter._oAgentInfo._vccID,a)};this.AgentStateQuery=function(a,b,c,d){return this._oAmpAPI.ampAgentStateQuery(this._oVccBarCenter._oAgentInfo._vccID,a,b)};this.ServiceQuery=function(a,b){return"4.0"==this._oVccBarCenter._oAgentInfo._monitorVersion?this._oAmpAPI.ampM4ServiceSumQuery(this._oVccBarCenter._oAgentInfo._vccID,a):this._oAmpAPI.ampServiceQuery(this._oVccBarCenter._oAgentInfo._vccID,a,"")};this.TaskQuery=function(a,b){return this._oAmpAPI.ampTaskQuery(this._oVccBarCenter._oAgentInfo._vccID,a,b)};this.CallReportQuery=function(a,b,c){return"4.0"==c?this._oAmpAPI.ampM4AgentSumQuery(this._oVccBarCenter._oAgentInfo._vccID,a,b):this._oAmpAPI.ampCallReportQuery(this._oVccBarCenter._oAgentInfo._vccID,a,"",0,b)};this.GetTaskSummary=function(a,b){return"4.0"==this._oVccBarCenter._oAgentInfo._monitorVersion?this._oAmpAPI.ampTaskQuerySummary(this._oVccBarCenter._oAgentInfo._vccID,a,b):this._oAmpAPI.ampGetTaskSummary(this._oVccBarCenter._oAgentInfo._vccID,a,b)};this.QueryMonitorSumInfo=function(a,b){var c=b.split("|");if("4.0"==this._oVccBarCenter._oAgentInfo._monitorVersion&&"TaskQuerySummary"==a)return-1;"QueryActiveTask"==a&&this._oAmpAPI.ampQueryMonitorSumInfo(a,this._oVccBarCenter._oAgentInfo._vccID,"","");if(3==c.length){var d=stringToInt(c[2],0);if(0<d){var f=this._oQueryMonitorSumInfo.AddItem(a,c[0],c[1]);-1<f&&(c=this._oAmpAPI.ampQueryMonitorSumInfo(a,this._oVccBarCenter._oAgentInfo._vccID,c[0],c[1]),c==ACPI_SUCCESS&&this._oVccBarCenter._oTimer.SetTimer(this._oQueryMonitorSumInfo._timerIds[f],1E3*d))}else f=this._oQueryMonitorSumInfo.GetItemIndex(a,c[0],c[1]),-1<f&&this._oVccBarCenter._oTimer.KillTimer(this._oQueryMonitorSumInfo._timerIds[f])}return CINVccBar_FAILURE};this.StartNotification=function(a,b,c){this._oMonitorInfo.Merge(a,b,c);a=this._oMonitorInfo.GetIds();return""!=a?this._oAmpAPI.ampStartNotification(this._oVccBarCenter._oAgentInfo._vccID,this._oVccBarCenter._oAgentInfo._agentID,a,this._oMonitorInfo.GetTypes(),this._oMonitorInfo.GetFlags()):CINVccBar_FAILURE};this.EndNotification=function(a){return this._oAmpAPI.ampEndNotification(this._oVccBarCenter._oAgentInfo._vccID,this._oVccBarCenter._oAgentInfo._agentID,a)};this._createObject();return this};