<html><head>    <meta charset="UTF-8">  	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">	<meta http-equiv="Content-Type" content="text/html;charset=gb2312">    <title>JVccBar-mobile</title>    <link rel="stylesheet" type="text/css" href="jquery-easyui-1.4/themes/metro/easyui.css">    <link rel="stylesheet" type="text/css" href="jquery-easyui-1.4/themes/mobile.css">    <link rel="stylesheet" type="text/css" href="jquery-easyui-1.4/themes/icon.css">    <script type="text/javascript" src="jquery-easyui-1.4/jquery.min.js"></script>    <script type="text/javascript" src="jquery-easyui-1.4/jquery.easyui.min.js"></script>    <script type="text/javascript" src="jquery-easyui-1.4/jquery.easyui.mobile.js"></script>	<script src="scripts/jssip.min.js" type="text/javascript"></script>	<script src="scripts/jcinvccbar-pure.min.js" type="text/javascript"></script>	<script type="text/javascript" src="jbarextent.mobile.js"></script></head><body  onload="onPageLoaded();" >	<div class="easyui-navpanel"  >	    <header>			<div style="padding:10px">				<span>呼叫中心座席</span>				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;				<span id="idAgentStatus">座席状态：【未登录】</span>			</div>		     <!--	    	<div class="m-toolbar">	    		<div class="m-title">呼叫中心座席</div>    		</div>			-->	    </header>		<div id="agent_webcam" style="cursor: move; position: relative; border: 2px solid rgb(70, 163, 255); border-radius: 10px; left: 10px; top: 5px; width: 360px; height: 300px; background: rgb(130, 130, 130); display: none;">			<div id="agent_remoteView2" style="width:360px; height: 300px;background-color: transparent;" ></div>			<div id="agent_shareView2" style="position:absolute;left:150px;bottom: 6px;width: 133px;height: 100px;background-color: #aaaaaa;border-top: 2px solid #aaaaaa;border-right: 2px solid #aaaaaa;display:none" ></div>			<div id="agent_selfView2" style="position:absolute;left:8px;bottom: 6px;width: 133px;height: 100px;background-color: #aaaaaa;border-top: 2px solid #aaaaaa;border-right: 2px solid #aaaaaa;" ></div>		</div>		<div class="easyui-tabs" id="divMainPage" data-options="tabHeight:60,fit:true,tabPosition:'bottom',border:false,pill:true,narrow:true,justified:true">		    <!--label1-->			<div style="padding:10px">			    <!--底部1-->				<div class="panel-header tt-inner">					<img src='jquery-easyui-1.4/themes/images/modem.png'/><br>测试				</div>				 <!--主体1-->				<div title="登陆"  id="divPadLogin">						<ul class="m-list" >							<li ><span>服 务 器</span>&nbsp;&nbsp;&nbsp;<input class="easyui-textbox" name="serverIpTxt" id="serverIpTxt"  value="" prompt="MainIP..." style="width:80%"></li>							<li><span>端口号</span>&nbsp;&nbsp;&nbsp;&nbsp;<input class="easyui-textbox" name="portTxt" id="portTxt"  value="" prompt="serverPort..." style="width:80%"></li>							<li><span>企业标示</span>&nbsp;&nbsp;&nbsp;<input class="easyui-textbox" name="corpVccIdTxt" id="corpVccIdTxt"  value=""  prompt="VccID..." style="width:80%"></li>							<li><span>座席工号</span>&nbsp;&nbsp;&nbsp;<input class="easyui-textbox" name="agentIdTxt" id="agentIdTxt"  value="" prompt="AgentID..." style="width:80%"></li>							<li ><span>座席密码</span>&nbsp;&nbsp;&nbsp;<input class="easyui-textbox"  name="agentPassword" id="agentPassword"  value="" prompt="agentPassword..." style="width:80%"></li>							<li><span>SIP密码</span>&nbsp;&nbsp;&nbsp;<input class="easyui-textbox" name="sipPassword" id="sipPassword"  value="" prompt="sipPassword..." style="width:80%"></li>							<li ><span>sipxpath</span>&nbsp;&nbsp;&nbsp;<input class="easyui-textbox" name="sipXPath" id="sipXPath"  value="" prompt="sipXPath..." style="width:80%"></li>							<a onclick="login();"  class="easyui-linkbutton c4" style="width:100%;height:30px"><span style="font-size:16px">Login</span></a>						</ul>				</div>				<div title="呼叫测试"  id="divPadParam"   style="display:none;"  >							<span>目标参数</span>&nbsp;<input class="easyui-textbox" name="DestNum" id="DestNum"  value=""  prompt="DestNum..."  style="width:80%"><br>							<span>附加参数</span>&nbsp;<input class="easyui-textbox" name="DestNum2" id="DestNum2"  value=""  prompt="DestNum2..." style="width:80%">				</div>				<div   id="divPadCall" class="easyui-accordion" fit="true" border="false" style="display:none;"  style="height:60%">							<div title="基本测试"  >										<div style="text-align:center;margin-top:30px">											<a onclick="application.oJVccBar.SetIdle();" class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">SetIdle</span></a> 											<a onclick="application.oJVccBar.SetBusy();" class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">SetBusy</span></a> 											<a onclick="application.oJVccBar.UnInitial();" class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">UnInitial</span></a> 										</div>													<div style="text-align:center;margin-top:30px">											<a onclick="alert(application.oJVccBar.GetVersion());"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">GetVersion</span></a>										</div>							</div>										<div title="呼叫测试"  >										<div style="text-align:center;margin-top:30px">											<a onclick="application.oJVccBar.MakeCall(DestNum.value,2,'',DestNum2.value,'');"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">MakeCall</span></a> 											<a onclick="application.oJVccBar.CallIn(DestNum.value,5,'',DestNum2.value);"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">CallIn</span></a> 											<a onclick="application.oJVccBar.TransferOut(parseInt(DestNum2.value),DestNum.value);"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">TransferOut</span></a> 										</div>													<div style="text-align:center;margin-top:30px">											<a onclick="application.oJVccBar.Hold();" class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">Hold</span></a> 											<a onclick="application.oJVccBar.RetrieveHold();" class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">RetrieveHold</span></a> 											<a onclick="application.oJVccBar.Disconnect();" class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">Disconnect</span></a> 										</div>													<div style="text-align:center;margin-top:30px">											<a onclick="application.oJVccBar.Answer();" class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">Answer</span></a> 											<a onclick="application.oJVccBar.Consult(parseInt(DestNum2.value),DestNum.value);"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">Consult</span></a> 											<a onclick="application.oJVccBar.Transfer();"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">Transfer</span></a> 										</div>													<div style="text-align:center;margin-top:30px">											<a onclick="application.oJVccBar.Conference();"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">Conference</span></a> 											<a onclick="application.oJVccBar.SendDTMF(DestNum.value);"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">SendDTMF</span></a> 											<a onclick="application.oJVccBar.ReleaseThirdOne();"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">ReleaseThirdOne</span></a> 										</div>									   </div>					 </div>			</div>		    <!--label2-->			<div style="padding:10px">			    <!--底部2-->				<div class="panel-header tt-inner">					<img src='jquery-easyui-1.4/themes/images/scanner.png'/><br>工单				</div>				<p>工单.</p>			</div>		    <!--label3-->			<div style="padding:10px">			    <!--底部3-->				<div class="panel-header tt-inner">					<img src='jquery-easyui-1.4/themes/images/pda.png'/><br>消息				</div>				<a onclick="document.getElementById('logInfo').innerHTML='';"  class="easyui-linkbutton" plain="true" outline="true" style="width:100px;height:35px"><span style="font-size:16px">清空</span></a> 				<p  id="logInfo" style="background-color:rgba(53,99,75,0.27); word-wrap: break-word;"></p>			</div>		    <!--label4-->			<div style="padding:10px">			    <!--底部4-->				<div class="panel-header tt-inner">					<img src='jquery-easyui-1.4/themes/images/tablet.png'/><br>设置				</div>				<p>设置.</p>			</div>		</div>	</div>	<style scoped>       .tt-inner{            display:inline-block;            line-height:12px;            padding-top:5px;        }		p{			line-height:150%;		}	</style></body>	</html>  <script type="text/javascript">  function onPageLoaded() {    if(document.readyState == "complete") {	  //ip|vccid|agentId|port|sipPassword|agentPassword|xpath      var  param = "|||5049|||acd";	  var oParam = param.split("|");      serverIpTxt.value = oParam[0];      corpVccIdTxt.value = oParam[1];      agentIdTxt.value = oParam[2];      portTxt.value = oParam[3];      sipPassword.value = oParam[4];      agentPassword.value = oParam[5];      sipXPath.value = oParam[6];      $("#serverIpTxt").textbox('setText', oParam[0]);      $("#corpVccIdTxt").textbox('setText', oParam[1]);      $("#agentIdTxt").textbox('setText', oParam[2]);      $("#portTxt").textbox('setText', oParam[3]);      $("#sipPassword").textbox('setText', oParam[4]);      $("#agentPassword").textbox('setText', oParam[5]);      $("#sipXPath").textbox('setText', oParam[6]);	  applicationLoad("",setVccBarMobileEvent);      $("#divMainPage").tabs('select',0);	} } function login() {	var corpVccIdTxt4J = $("#corpVccIdTxt");	var agentIdTxt4J = $("#agentIdTxt");	var serverIpTxt4J = $("#serverIpTxt");	var portTxt4J = $("#portTxt");	var sipPassword4J = $("#sipPassword");	var sipXPath4J = $("#sipXPath");    var agentPassword4J = $("#agentPassword");    var vccID = corpVccIdTxt4J.val();    var agentID = agentIdTxt4J.val();	var serverIP = serverIpTxt4J.val();	var serverPort = portTxt4J.val();	var sipPassword = sipPassword4J.val();	var sipXPath = sipXPath4J.val();	var agentPassword = agentPassword4J.val();	//	if(!serverIP) {		serverIP = window.location.hostname;	}	//	if(!serverPort) {		serverPort = 5049;	}	//	if(!vccID) {		alert("请输入企业标识！");		corpVccIdTxt4J.focus();		return;	}	//	if(!agentID) {		alert("请输入坐席工号！");		agentIdTxt4J.focus();		return;	}	showLog("serverIP=["+serverIP+":"+serverPort+"] vccID=["+vccID+"] agentID=["+agentID+"]");	//     application.oJVccBar.SetAttribute("MainIP",serverIP);     application.oJVccBar.SetAttribute("MainPortID",serverPort);     application.oJVccBar.SetAttribute("BackIP",serverIP);     application.oJVccBar.SetAttribute("BackPortID",serverPort);     application.oJVccBar.SetAttribute("SipServerIP",serverIP);     application.oJVccBar.SetAttribute("SipServerPort",serverPort);	 application.oJVccBar.SetAttribute("SipProtocol","wss");     application.oJVccBar.SetAttribute("PhonType",1);  //0:内置坐席卡；1：内置Sip；2：外置其他终端     application.oJVccBar.SetAttribute("AgentType",1);     application.oJVccBar.SetAttribute("SelfPrompt",0);     application.oJVccBar.SetAttribute("MediaFlag",vccID);     application.oJVccBar.SetAttribute("PassWord",agentPassword);     application.oJVccBar.SetAttribute("AgentID","000010"+vccID+agentID);     application.oJVccBar.SetAttribute("Dn","000002"+vccID+agentID);	 application.oJVccBar.SetAttribute("AppType",0);  //0:agent 1:monitor 2:agent+monitor	 application.oJVccBar.SetAttribute("SipXPath", sipXPath);	 application.oJVccBar.SetAttribute("SipPassWord", sipPassword);	 application.oJVccBar.SetAttribute("WeChatServer", serverIP+":8000");	 //application.oJVccBar.SetAttribute("PhonType",parseInt(oPhoneType.options[oPhoneType.options.selectedIndex].value));	 application.oJVccBar.SetAttribute("ProtocolType",1);//1:https  0:http	 application.oJVccBar.Initial();  }  function SelTableItem(title) {  }</script>